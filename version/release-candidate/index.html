<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Cloud Controller API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.2.36.min.js"></script>

      <script src="javascripts/all.js"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper tocify-sidebar">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">curl</a>
        </div>

      <div id="version-dropdown">
        <div class="dropdown">
          <button type="button" id="version-dropdown-button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Release Candidate<span class="caret">&#x25BE;</span></button>
          <ul id="version-dropdown-menu" class="dropdown-menu" role="menu" aria-labelledby="version-dropdown-button">
            <div class="dropdown-filter">
              <div class="dropdown-search-bar">
                <input id="version-select" type="text" placeholder="Filter">
              </div>
              <div class="dropdown-content">
                <ul class="dropdown-list" id="version-list">
                </ul>
              </div>
              <div class="dropdown-footer dropdown-content">
                <ul class="dropdown-list">
                  <li><a id="release-candidate" href="/version/release-candidate">Release Candidate</a></li>
                  <li><a id="latest-release" href="/">Latest</a></li>
                </ul>
              </div>
            </div>
          </ul>
        </div>
      </div>

        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>

      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          











          



          


          



          





          


          

          

          


          <h1 id="overview">Overview</h1>

<p>Welcome to the Cloud Foundry V3 API docs! Version 3 will add support for several
key features:</p>

<ul>
<li>Running one-off tasks on Cloud Foundry</li>
<li>Applications consisting of several processes via a Procfile</li>
<li>Direct access to application packages and droplets</li>
</ul>

<h2 id="more-resources">More Resources</h2>

<p>The API team is currently focused on getting to MVP for V3. As such, this documentation
doesn&rsquo;t have all the information needed to interact with the V3 API. Here are a
few resources that will help until we have everything documented here:</p>

<ul>
<li><a href="http://apidocs.cloudfoundry.org/">Cloud Foundry Version 2 Documentation</a></li>
<li><a href="https://docs.google.com/document/d/1CCHDUa2UWRjXkxEdksX4M9BGQ8hBqiMys46wxeF5XE4/edit?usp=sharing">Tasks
Proposal</a></li>
<li><a href="https://cfsummit2016.sched.org/event/6ZkB/do-more-with-your-apps-unleashing-the-power-of-the-cloud-controller-v3-api-utako-ueda-daniel-wendorf-pivotal">Upcoming talk at Cloud Foundry
Summit</a></li>
<li><a href="https://github.com/cloudfoundry/v3-cli-plugin">CF CLI V3 Plugin - Experimental</a></li>
<li><a href="https://github.com/cloudfoundry/cloud_controller_ng/wiki/How-to-Create-an-App-Using-V3-of-the-CC-API">Push an app with cf
curl</a></li>
<li><a href="https://cloudfoundry.slack.com/messages/capi/">CAPI Slack Channel</a></li>
</ul>

          <h1 id="apps">Apps</h1>

<p>Apps are top-level objects that link together and contain configuration
information for your packages, droplets, processes, tasks, and more.</p>

          <div class='no-margin'></div>

<h2 id="the-app-object">The app object</h2>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guid

        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Unique GUID for the app.
</p>
  </li>


  <li class="method-list-item">
    <h4 class="method-list-item-label">
      name
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">An arbitrary name of the app.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      desired_state
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Current desired state of the app. Can either be <code>STOPPED</code> or <code>STARTED</code>.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      total_desired_instances
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">Number of desired instances of the application.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      lifecycle
      <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">Provides the lifecycle object for the application.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      environment_variables
      <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">Provides the list of custom environment variables available to the application.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      created_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone when the app was created.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      updated_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone with the package was last updated.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      links

        <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">    Links to related resources.
</p>
  </li>


</ul>

          <h2 id="create-an-app">Create an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/v3/apps</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "my_app",
    "environment_variables": {
      "HTTP_PROXY": "http://proxy.example.com"
    },
    "lifecycle": {
      "type": "buildpack",
      "data": {
        "buildpack": "java_buildpack"
      }
    },
    "relationships": {
      "space": {
        "guid": "2f35885d-0c9d-4423-83ad-fd05066f8576"
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>

{
  "guid": "1cb006ee-fb05-47e1-b541-c34179ddc446",
  "name": "my_app",
  "desired_state": "STOPPED",
  "total_desired_instances": 0,
  "created_at": "2016-03-17T21:41:30Z",
  "updated_at": null,
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": "java_buildpack",
      "stack": "cflinuxfs2"
    }
  },
  "environment_variables": {
    "HTTP_PROXY": "http://proxy.example.com"
  },
  "links": {
    "self": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"
    },
    "space": {
      "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
    },
    "processes": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"
    },
    "route_mappings": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"
    },
    "packages": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"
    },
    "droplet": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"
    },
    "droplets": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"
    },
    "tasks": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"
    },
    "start": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/start",
      "method": "PUT"
    },
    "stop": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/stop",
      "method": "PUT"
    }
  }
}

</code></pre>

<p>This endpoint creates a new app.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      name

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">Name of the App</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      relationships[space][guid]

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">Guid for a particular space</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      environment_variables

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Environment variables to be used for the App when running.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      lifecycle

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Lifecycle to be used when creating the app. Note: If no lifecycle is provided, lifecycle type defaults to buildpack. Data is a required field in lifecycle.</p>
  </li>
</ul>

          <h2 id="get-an-app">Get an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "1cb006ee-fb05-47e1-b541-c34179ddc446",
  "name": "my_app",
  "desired_state": "STOPPED",
  "total_desired_instances": 0,
  "created_at": "2016-03-17T21:41:30Z",
  "updated_at": null,
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": "java_buildpack",
      "stack": "cflinuxfs2"
    }
  },
  "environment_variables": {
    "HTTP_PROXY": "http://proxy.example.com"
  },
  "links": {
    "self": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"
    },
    "space": {
      "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
    },
    "processes": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"
    },
    "route_mappings": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"
    },
    "packages": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"
    },
    "droplet": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"
    },
    "droplets": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"
    },
    "tasks": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"
    },
    "start": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/start",
      "method": "PUT"
    },
    "stop": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/stop",
      "method": "PUT"
    }
  }
}

</code></pre>

<p>This endpoint retrieves an app.</p>

          <h2 id="get-environment-for-an-app">Get environment for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps/:guid/env</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/env"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "staging_env_json": {
    "GEM_CACHE": "http://gem-cache.example.com"
  },
  "running_env_json": {
    "HTTP_PROXY": "http://proxy.example.com"
  },
  "environment_variables": {
    "RAILS_ENV": "production"
  },
  "system_env_json": {
    "VCAP_SERVICES": {
      "mysql": [
        {
          "name": "db-for-my-app",
          "label": "mysql",
          "tags": ["relational", "sql"],
          "plan": "xlarge",
          "credentials": { 
            "username": "user",
            "password": "top-secret" 
           },
          "syslog_drain_url": "https://syslog.example.com/drain",
          "provider": null
        }
      ]
    }
  },
  "application_env_json": {
    "VCAP_APPLICATION": {
      "limits": {
        "fds": 16384
      },
      "application_name": "my_app",
      "application_uris": [ "my_app.example.com" ],
      "name": "my_app",
      "space_name": "my_space",
      "space_id": "2f35885d-0c9d-4423-83ad-fd05066f8576",
      "uris": [ "my_app.example.com" ],
      "users": null
    }
  }
}
</code></pre>

<p>This endpoint retrieves the environment variables that will be provided to an app at runtime.
It will include environment variables for Environment Variable Groups and Service Bindings.</p>

          <h2 id="update-an-app">Update an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/v3/apps/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "my_app",
    "environment_variables": {
      "HTTP_PROXY": "http://proxy.example.com"
    },
    "lifecycle": {
      "type": "buildpack",
      "data": {
        "buildpack": "java_buildpack",
      }
    }
  }'</span> 
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "1cb006ee-fb05-47e1-b541-c34179ddc446",
  "name": "my_app",
  "desired_state": "STARTED",
  "total_desired_instances": 3,
  "created_at": "2016-03-17T21:41:30Z",
  "updated_at": "2016-03-18T11:32:30Z",
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": "java_buildpack",
      "stack": "cflinuxfs2"
    }
  },
  "environment_variables": {
    "HTTP_PROXY": "http://proxy.example.com"
  },
  "links": {
    "self": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"
    },
    "space": {
      "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
    },
    "processes": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"
    },
    "route_mappings": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"
    },
    "packages": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"
    },
    "droplet": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"
    },
    "droplets": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"
    },
    "tasks": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"
    },
    "start": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/start",
      "method": "PUT"
    },
    "stop": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/stop",
      "method": "PUT"
    }
  }
}

</code></pre>

<p>This endpoint updates an app.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      name

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Name of the App.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      environment_variables

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Environment variables to be used for the App when running.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      lifecycle

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Lifecycle to be used when updating the app. Note: If no lifecycle is provided, lifecycle type defaults to buildpack. Data is a required field in lifecycle.</p>
  </li>
</ul>

          <h2 id="set-current-droplet-for-an-app">Set current droplet for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/v3/apps/:guid/droplets/current</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/droplets/current"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{ "droplet_guid": "[droplet_guid]" }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "585bc3c1-3743-497d-88b0-403ad6b56d16",
  "state": "STAGED",
  "error": null,
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": null,
      "stack": null
    }
  },
  "staging_memory_in_mb": 1024,
  "staging_disk_in_mb": 4096,
  "result": {
    "execution_metadata": "",
    "process_types": {
      "rake": "bundle exec rake",
      "web": "bundle exec rackup config.ru -p $PORT"
    },
    "hash": {
      "type": "sha1",
      "value": "0cd90dd63dd9f42db25340445d203fba25c69cf6"
    },
    "buildpack": "ruby 1.6.14",
    "stack": "cflinuxfs2"
  },
  "environment_variables": {
    "CF_STACK": "cflinuxfs2",
    "VCAP_APPLICATION": {
      "limits": {
        "mem": 1024,
        "disk": 4096,
        "fds": 16384
      },
      "application_id": "7b34f1cf-7e73-428a-bb5a-8a17a8058396",
      "application_version": "d5985d64-c455-44d0-99a5-285b6521f84c",
      "application_name": "my_app",
      "application_uris": [
        "my_app.example.com"
      ],
      "version": "d5985d64-c455-44d0-99a5-285b6521f84c",
      "name": "my_app",
      "space_name": "my_space",
      "space_id": "2f35885d-0c9d-4423-83ad-fd05066f8576",
      "uris": [
        "my_app.example.com"
      ],
      "users": null
    },
    "MEMORY_LIMIT": "1024m",
    "VCAP_SERVICES": {}
  },
  "created_at": "2016-03-28T23:39:34Z",
  "updated_at": "2016-03-28T23:39:47Z",
  "links": {
    "self": {
      "href": "/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"
    },
    "package": {
      "href": "/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"
    },
    "app": {
      "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
    },
    "assign_current_droplet": {
      "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
      "method": "PUT"
    }
  }
}

</code></pre>

<p>This endpoint sets the current droplet for an app. The current droplet is the droplet that the app will use when running.</p>

          <h2 id="get-current-droplet-for-an-app">Get current droplet for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps/:guid/droplets/current</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/droplets/current"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "585bc3c1-3743-497d-88b0-403ad6b56d16",
  "state": "STAGED",
  "error": null,
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": null,
      "stack": null
    }
  },
  "staging_memory_in_mb": 1024,
  "staging_disk_in_mb": 4096,
  "result": {
    "execution_metadata": "",
    "process_types": {
      "rake": "bundle exec rake",
      "web": "bundle exec rackup config.ru -p $PORT"
    },
    "hash": {
      "type": "sha1",
      "value": "0cd90dd63dd9f42db25340445d203fba25c69cf6"
    },
    "buildpack": "ruby 1.6.14",
    "stack": "cflinuxfs2"
  },
  "environment_variables": {
    "CF_STACK": "cflinuxfs2",
    "VCAP_APPLICATION": {
      "limits": {
        "mem": 1024,
        "disk": 4096,
        "fds": 16384
      },
      "application_id": "7b34f1cf-7e73-428a-bb5a-8a17a8058396",
      "application_version": "d5985d64-c455-44d0-99a5-285b6521f84c",
      "application_name": "my_app",
      "application_uris": [
        "my_app.example.com"
      ],
      "version": "d5985d64-c455-44d0-99a5-285b6521f84c",
      "name": "my_app",
      "space_name": "my_space",
      "space_id": "2f35885d-0c9d-4423-83ad-fd05066f8576",
      "uris": [
        "my_app.example.com"
      ],
      "users": null
    },
    "MEMORY_LIMIT": "1024m",
    "VCAP_SERVICES": {}
  },
  "created_at": "2016-03-28T23:39:34Z",
  "updated_at": "2016-03-28T23:39:47Z",
  "links": {
    "self": {
      "href": "/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"
    },
    "package": {
      "href": "/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"
    },
    "app": {
      "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
    },
    "assign_current_droplet": {
      "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
      "method": "PUT"
    }
  }
}

</code></pre>

<p>This endpoint retrieves the current droplet for an app.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="start-an-app">Start an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/v3/apps/:guid/start</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/start"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "1cb006ee-fb05-47e1-b541-c34179ddc446",
  "name": "my_app",
  "desired_state": "STARTED",
  "total_desired_instances": 3,
  "created_at": "2016-03-17T21:41:30Z",
  "updated_at": "2016-03-18T11:32:30Z",
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": "java_buildpack",
      "stack": "cflinuxfs2"
    }
  },
  "environment_variables": {
    "HTTP_PROXY": "http://proxy.example.com"
  },
  "links": {
    "self": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"
    },
    "space": {
      "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
    },
    "processes": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"
    },
    "route_mappings": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"
    },
    "packages": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"
    },
    "droplet": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"
    },
    "droplets": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"
    },
    "tasks": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"
    },
    "start": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/start",
      "method": "PUT"
    },
    "stop": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/stop",
      "method": "PUT"
    }
  }
}

</code></pre>

<p>This endpoint starts running the app.</p>

          <h2 id="stop-an-app">Stop an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/v3/apps/:guid/stop</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/stop"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "1cb006ee-fb05-47e1-b541-c34179ddc446",
  "name": "my_app",
  "desired_state": "STOPPED",
  "total_desired_instances": 3,
  "created_at": "2016-03-17T21:41:30Z",
  "updated_at": "2016-03-18T11:32:30Z",
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": "java_buildpack",
      "stack": "cflinuxfs2"
    }
  },
  "environment_variables": {
    "HTTP_PROXY": "http://proxy.example.com"
  },
  "links": {
    "self": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"
    },
    "space": {
      "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
    },
    "processes": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"
    },
    "route_mappings": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"
    },
    "packages": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"
    },
    "droplet": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"
    },
    "droplets": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"
    },
    "tasks": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"
    },
    "start": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/start",
      "method": "PUT"
    },
    "stop": {
      "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/stop",
      "method": "PUT"
    }
  }
}

</code></pre>

<p>This endpoint stops a running app.</p>

          <h2 id="delete-an-app">Delete an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/v3/apps/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This endpoint deletes an app.</p>

          <h2 id="list-apps">List apps</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 3,
    "total_pages": 2,
    "first": {
      "href": "/v3/apps?page=1&amp;per_page=2"
    },
    "last": {
      "href": "/v3/apps?page=2&amp;per_page=2"
    },
    "next": {
      "href": "/v3/apps?page=2&amp;per_page=2"
    },
    "previous": null
  },
  "resources": [
    {
      "guid": "1cb006ee-fb05-47e1-b541-c34179ddc446",
      "name": "my_app",
      "desired_state": "STARTED",
      "total_desired_instances": 3,
      "created_at": "2016-03-17T21:41:30Z",
      "updated_at": "2016-03-18T11:32:30Z",
      "lifecycle": {
        "type": "buildpack",
        "data": {
          "buildpack": "java_buildpack",
          "stack": "cflinuxfs2"
        }
      },
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "links": {
        "self": {
          "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"
        },
        "space": {
          "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
        },
        "processes": {
          "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"
        },
        "route_mappings": {
          "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"
        },
        "packages": {
          "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"
        },
        "droplet": {
          "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"
        },
        "droplets": {
          "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"
        },
        "tasks": {
          "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"
        },
        "start": {
          "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/start",
          "method": "PUT"
        },
        "stop": {
          "href": "/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/stop",
          "method": "PUT"
        }
      }
    },
    {
      "guid": "02b4ec9b-94c7-4468-9c23-4e906191a0f8",
      "name": "my_app2",
      "desired_state": "STOPPED",
      "total_desired_instances": 0,
      "created_at": "1970-01-01T00:00:02Z",
      "updated_at": null,
      "lifecycle": {
        "type": "buildpack",
        "data": {
          "buildpack": "ruby_buildpack",
          "stack": "cflinuxfs2"
        }
      },
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "links": {
        "self": {
          "href": "/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8"
        },
        "space": {
          "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
        },
        "processes": {
          "href": "/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/processes"
        },
        "route_mappings": {
          "href": "/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/route_mappings"
        },
        "packages": {
          "href": "/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/packages"
        },
        "droplet": {
          "href": "/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/droplets/current"
        },
        "droplets": {
          "href": "/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/droplets"
        },
        "tasks": {
          "href": "/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/tasks"
        },
        "start": {
          "href": "/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/start",
          "method": "PUT"
        },
        "stop": {
          "href": "/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/stop",
          "method": "PUT"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves all the apps the user has access to.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of app guids to filter by. <br>Example: <code>guids=guid1,guid2</code>
</p>
  </li>



  <li class="method-list-item">
    <h4 class="method-list-item-label">
      names

      <span class="method-list-item-type">optional</span>
      <span class="method-list-item-type">array of strings</span>
    </h4>

    <p class="method-list-item-description">Comma-delimited list of app names to filter by. <br>Example: <code>names=name1,name2</code></p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      organization_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of organization guids to filter by. <br>Example: <code>organization_guids=organization_guid1,organization_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      space_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of space guids to filter by. <br>Example: <code>space_guids=space_guid1,space_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h1 id="droplets">Droplets</h1>

<p>Droplets are created by staging an application package. There are two types
(lifecycles) of droplets: buildpack and docker. In the case of the buildpacks,
the droplet contains the bits produced by the buildpack, typically application
code and dependencies.</p>

<p>After an application is created and packages are uploaded, a droplet must be
created in order for an application to be deployed or tasks to be run. 
The current droplet <a href="#set-current-droplet-for-an-app">must be assigned</a> to an 
application before it may be started. When <a href="#create-a-task">tasks are created</a>, 
they either use a specific droplet guid, or use the current droplet assigned to an application.</p>

          <div class='no-margin'></div>

<h2 id="the-droplet-object">The droplet object</h2>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guid

        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Unique GUID for the droplet.
</p>
  </li>


  <li class="method-list-item">
    <h4 class="method-list-item-label">
      state
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">
      State of the package. Possible states are &ldquo;PENDING&rdquo;, &ldquo;STAGING&rdquo;, &ldquo;STAGED&rdquo;, &ldquo;FAILED&rdquo;, or &ldquo;EXPIRED&rdquo;.
    </p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      error
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">
      A string describing the last error during the droplet lifecycle.
    </p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      lifecycle
      <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">
      An object describing the lifecycle that was configured or discovered.
    </p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      staging_memory_in_mb
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">
      The maximum memory in mb that can be used by a droplet.
    </p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      staging_disk_in_mb
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">
      The disk quota applied during droplet staging.
    </p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      result
      <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">
      An object describing the result of a droplet that has completed staging (where state is
      &ldquo;STAGED&rdquo;, &ldquo;FAILED&rdquo;, or &ldquo;EXPIRED&rdquo;). Droplets in uncomplete states return null result.
    </p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      environment_variables
      <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">
      Environment variables to be used when staging the droplet. Variables in the <code>CF_</code>
      and <code>VCAP_</code> scopes will be populated by the system. 
    </p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      created_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone when the app was created.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      updated_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone with the package was last updated.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      links

        <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">    Links to related resources.
</p>
  </li>


</ul>

          <div class='no-margin'></div>

<h2 id="the-lifecycle-object">The lifecycle object</h2>

<p>Lifecycle objects describe buildpacks or docker images.</p>

<h3 id="lifecycle-object-for-buildpack-droplets">Lifecycle object for buildpack droplets</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">&ldquo;buildpack&rdquo;</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      data[&lsquo;buildpack&rsquo;]
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">
      The name of the buildpack or a URL from which it may be downloaded, or null
      to auto-detect the buildpack
    </p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      data['stack&rsquo;]
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">
      The root filesystem to use with the buildpack, for example &ldquo;cflinuxfs2&rdquo;
    </p>
  </li>
</ul>

<h3 id="lifecycle-object-for-docker">Lifecycle object for docker</h3>

<p>Droplets created with a docker lifecycle are only valid for docker packages.</p>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">&ldquo;docker&rdquo;</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      data
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">
      An empty object should be passed: &ldquo;{}&rdquo;
    </p>
  </li>
</ul>

          <h2 id="create-a-droplet">Create a droplet</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/v3/packages/:guid/droplets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/packages/[guid]/droplets"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "environment_variables": {
      "CUSTOM_ENV_VAR": "hello"
    },
    "lifecycle": {
      "type": "buildpack",
      "data": {
        "buildpack": "http://github.com/myorg/awesome-buildpack",
        "stack": "cflinuxfs2"
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>

{
  "guid": "585bc3c1-3743-497d-88b0-403ad6b56d16",
  "state": "PENDING",
  "error": null,
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": null,
      "stack": null
    }
  },
  "staging_memory_in_mb": 1024,
  "staging_disk_in_mb": 4096,
  "result": null,
  "environment_variables": {
    "CF_STACK": "cflinuxfs2",
    "VCAP_APPLICATION": {
      "limits": {
        "mem": 1024,
        "disk": 4096,
        "fds": 16384
      },
      "application_id": "7b34f1cf-7e73-428a-bb5a-8a17a8058396",
      "application_version": "d5985d64-c455-44d0-99a5-285b6521f84c",
      "application_name": "my_app",
      "application_uris": [
        "my_app.example.com"
      ],
      "version": "d5985d64-c455-44d0-99a5-285b6521f84c",
      "name": "my_app",
      "space_name": "my_space",
      "space_id": "2f35885d-0c9d-4423-83ad-fd05066f8576",
      "uris": [
        "my_app.example.com"
      ],
      "users": null
    },
    "MEMORY_LIMIT": "1024m",
    "VCAP_SERVICES": {}
  },
  "created_at": "2016-03-28T23:39:34Z",
  "updated_at": null,
  "links": {
    "self": {
      "href": "/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"
    },
    "package": {
      "href": "/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"
    },
    "app": {
      "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
    },
    "assign_current_droplet": {
      "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
      "method": "PUT"
    }
  }
}

</code></pre>

<p>This endpoint creates a new droplet from a package.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      environment_variables

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">
      Environment variables ot use during staging. Environment variable names may
      not start with <code>VCAP_</code> or <code>CF_</code>. <code>PORT</code> is not a valid environment variable.
    </p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
       staging_memory_in_mb

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Memory limit used to stage package  </p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      staging_disk_in_mb

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Disk limit used to stage package</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      lifecycle

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">
      Lifecycle information for a droplet.  If not provided, it will default to
      what is specified on the app. If the app does not have lifecycle information,
      it will default to a buildpack.
    </p>
  </li>
</ul>

          <h2 id="copy-a-droplet">Copy a droplet</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/v3/droplets/:guid/copy</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/droplets/[guid]/copy"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "relationships": {
      "app": {
        "guid": "[app-guid]"
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>

{
  "guid": "585bc3c1-3743-497d-88b0-403ad6b56d16",
  "state": "PENDING",
  "error": null,
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": null,
      "stack": null
    }
  },
  "staging_memory_in_mb": 1024,
  "staging_disk_in_mb": 4096,
  "result": null,
  "environment_variables": {},
  "created_at": "2016-03-28T23:39:34Z",
  "updated_at": null,
  "links": {
    "self": {
      "href": "/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"
    },
    "package": {
      "href": "/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"
    },
    "app": {
      "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
    },
    "assign_current_droplet": {
      "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
      "method": "PUT"
    }
  }
}

</code></pre>

<p>This endpoint copies a droplet to a different app. The copied droplet excludes the
environment variables listed on the source droplet.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      guid

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">
      Source guid of the droplet to be copied
    </p>
  </li>
</ul>

          <h2 id="get-a-droplet">Get a droplet</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/droplets/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/droplets/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "585bc3c1-3743-497d-88b0-403ad6b56d16",
  "state": "STAGED",
  "error": null,
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": null,
      "stack": null
    }
  },
  "staging_memory_in_mb": 1024,
  "staging_disk_in_mb": 4096,
  "result": {
    "execution_metadata": "",
    "process_types": {
      "rake": "bundle exec rake",
      "web": "bundle exec rackup config.ru -p $PORT"
    },
    "hash": {
      "type": "sha1",
      "value": "0cd90dd63dd9f42db25340445d203fba25c69cf6"
    },
    "buildpack": "ruby 1.6.14",
    "stack": "cflinuxfs2"
  },
  "environment_variables": {
    "CF_STACK": "cflinuxfs2",
    "VCAP_APPLICATION": {
      "limits": {
        "mem": 1024,
        "disk": 4096,
        "fds": 16384
      },
      "application_id": "7b34f1cf-7e73-428a-bb5a-8a17a8058396",
      "application_version": "d5985d64-c455-44d0-99a5-285b6521f84c",
      "application_name": "my_app",
      "application_uris": [
        "my_app.example.com"
      ],
      "version": "d5985d64-c455-44d0-99a5-285b6521f84c",
      "name": "my_app",
      "space_name": "my_space",
      "space_id": "2f35885d-0c9d-4423-83ad-fd05066f8576",
      "uris": [
        "my_app.example.com"
      ],
      "users": null
    },
    "MEMORY_LIMIT": "1024m",
    "VCAP_SERVICES": {}
  },
  "created_at": "2016-03-28T23:39:34Z",
  "updated_at": "2016-03-28T23:39:47Z",
  "links": {
    "self": {
      "href": "/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"
    },
    "package": {
      "href": "/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"
    },
    "app": {
      "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
    },
    "assign_current_droplet": {
      "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
      "method": "PUT"
    }
  }
}

</code></pre>

<p>This endpoint retrieves a specific droplet.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="delete-a-droplet">Delete a droplet</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/v3/droplets/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/droplets/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This endpoint deletes a specific droplet.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="list-droplets">List droplets</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/droplets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/droplets"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 2,
    "total_pages": 1,
    "first": {
      "href": "/v3/droplets?page=1&amp;per_page=50"
    },
    "last": {
      "href": "/v3/droplets?page=1&amp;per_page=50"
    },
    "next": null,
    "previous": null
  },
  "resources": [
    {
      "guid": "585bc3c1-3743-497d-88b0-403ad6b56d16",
      "state": "STAGED",
      "error": null,
      "lifecycle": {
        "type": "buildpack",
        "data": {
          "buildpack": null,
          "stack": null
        }
      },
      "staging_memory_in_mb": 1024,
      "staging_disk_in_mb": 4096,
      "result": {
        "execution_metadata": "[PRIVATE DATA HIDDEN IN LISTS]",
        "process_types": {
          "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
        },
        "hash": {
          "type": "sha1",
          "value": "0cd90dd63dd9f42db25340445d203fba25c69cf6"
        },
        "buildpack": "ruby 1.6.14",
        "stack": "cflinuxfs2"
      },
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "created_at": "2016-03-28T23:39:34Z",
      "updated_at": "2016-03-28T23:39:47Z",
      "links": {
        "self": {
          "href": "/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"
        },
        "package": {
          "href": "/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"
        },
        "app": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
        },
        "assign_current_droplet": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
          "method": "PUT"
        }
      }
    },
    {
      "guid": "fdf3851c-def8-4de1-87f1-6d4543189e22",
      "state": "STAGING",
      "error": null,
      "lifecycle": {
        "type": "docker",
        "data": {}
      },
      "staging_memory_in_mb": 1024,
      "staging_disk_in_mb": 4096,
      "result": null,
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "created_at": "2016-03-17T00:00:01Z",
      "updated_at": "2016-03-17T21:41:32Z",
      "links": {
        "self": {
          "href": "/v3/droplets/fdf3851c-def8-4de1-87f1-6d4543189e22"
        },
        "package": {
          "href": "/v3/packages/c5725684-a02f-4e59-bc67-8f36ae944688"
        },
        "app": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
        },
        "assign_current_droplet": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
          "method": "PUT"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves the droplets the user has access to.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      app_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of app guids to filter by. <br>Example: <code>app_guids=app_guid1,app_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of droplet guids to filter by. <br>Example: <code>guids=guid1,guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      organization_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of organization guids to filter by. <br>Example: <code>organization_guids=organization_guid1,organization_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      space_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of space guids to filter by. <br>Example: <code>space_guids=space_guid1,space_guid2</code>
</p>
  </li>



  <li class="method-list-item">
    <h4 class="method-list-item-label">
      states

      <span class="method-list-item-type">optional</span>
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Comma-delimited list of droplet states to filter by.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h2 id="list-droplets-for-an-app">List droplets for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps/:guid/droplets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/droplets"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 2,
    "total_pages": 1,
    "first": {
      "href": "/v3/app/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets?page=1&amp;per_page=50"
    },
    "last": {
      "href": "/v3/app/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets?page=1&amp;per_page=50"
    },
    "next": null,
    "previous": null
  },
  "resources": [
    {
      "guid": "585bc3c1-3743-497d-88b0-403ad6b56d16",
      "state": "STAGED",
      "error": null,
      "lifecycle": {
        "type": "buildpack",
        "data": {
          "buildpack": null,
          "stack": null
        }
      },
      "staging_memory_in_mb": 1024,
      "staging_disk_in_mb": 4096,
      "result": {
        "execution_metadata": "[PRIVATE DATA HIDDEN IN LISTS]",
        "process_types": {
          "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
        },
        "hash": {
          "type": "sha1",
          "value": "0cd90dd63dd9f42db25340445d203fba25c69cf6"
        },
        "buildpack": "ruby 1.6.14",
        "stack": "cflinuxfs2"
      },
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "created_at": "2016-03-28T23:39:34Z",
      "updated_at": "2016-03-28T23:39:47Z",
      "links": {
        "self": {
          "href": "/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"
        },
        "package": {
          "href": "/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"
        },
        "app": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
        },
        "assign_current_droplet": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
          "method": "PUT"
        }
      }
    },
    {
      "guid": "fdf3851c-def8-4de1-87f1-6d4543189e22",
      "state": "STAGING",
      "error": null,
      "lifecycle": {
        "type": "docker",
        "data": {}
      },
      "staging_memory_in_mb": 1024,
      "staging_disk_in_mb": 4096,
      "result": null,
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "created_at": "2016-03-17T00:00:01Z",
      "updated_at": "2016-03-17T21:41:32Z",
      "links": {
        "self": {
          "href": "/v3/droplets/fdf3851c-def8-4de1-87f1-6d4543189e22"
        },
        "package": {
          "href": "/v3/packages/c5725684-a02f-4e59-bc67-8f36ae944688"
        },
        "app": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
        },
        "assign_current_droplet": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
          "method": "PUT"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves a list of droplets belonging to an app.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of droplet guids to filter by. <br>Example: <code>guids=guid1,guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



  <li class="method-list-item">
    <h4 class="method-list-item-label">
      states

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">
      Comma-delimited list of droplet states to filter by. Valid values are &ldquo;PENDING&rdquo;, &ldquo;STAGING&rdquo;, &ldquo;STAGED&rdquo;, &ldquo;FAILED&rdquo;, or &ldquo;EXPIRED&rdquo;.
      <br>
      Example: <code>states=PENDING,STAGING</code>
    </p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h2 id="list-droplets-for-a-package">List droplets for a package</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/packages/:guid/droplets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/packages/[guid]/droplets"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 2,
    "total_pages": 1,
    "first": {
      "href": "/v3/packages/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets?page=1&amp;per_page=50"
    },
    "last": {
      "href": "/v3/packages/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets?page=1&amp;per_page=50"
    },
    "next": null,
    "previous": null
  },
  "resources": [
    {
      "guid": "585bc3c1-3743-497d-88b0-403ad6b56d16",
      "state": "STAGED",
      "error": null,
      "lifecycle": {
        "type": "buildpack",
        "data": {
          "buildpack": null,
          "stack": null
        }
      },
      "staging_memory_in_mb": 1024,
      "staging_disk_in_mb": 4096,
      "result": {
        "execution_metadata": "[PRIVATE DATA HIDDEN IN LISTS]",
        "process_types": {
          "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
        },
        "hash": {
          "type": "sha1",
          "value": "0cd90dd63dd9f42db25340445d203fba25c69cf6"
        },
        "buildpack": "ruby 1.6.14",
        "stack": "cflinuxfs2"
      },
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "created_at": "2016-03-28T23:39:34Z",
      "updated_at": "2016-03-28T23:39:47Z",
      "links": {
        "self": {
          "href": "/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"
        },
        "package": {
          "href": "/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"
        },
        "app": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
        },
        "assign_current_droplet": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
          "method": "PUT"
        }
      }
    },
    {
      "guid": "fdf3851c-def8-4de1-87f1-6d4543189e22",
      "state": "STAGING",
      "error": null,
      "lifecycle": {
        "type": "docker",
        "data": {}
      },
      "staging_memory_in_mb": 1024,
      "staging_disk_in_mb": 4096,
      "result": null,
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "created_at": "2016-03-17T00:00:01Z",
      "updated_at": "2016-03-17T21:41:32Z",
      "links": {
        "self": {
          "href": "/v3/droplets/fdf3851c-def8-4de1-87f1-6d4543189e22"
        },
        "package": {
          "href": "/v3/packages/c5725684-a02f-4e59-bc67-8f36ae944688"
        },
        "app": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"
        },
        "assign_current_droplet": {
          "href": "/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets/current",
          "method": "PUT"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves a list of droplets belonging to a package.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of droplet guids to filter by. <br>Example: <code>guids=guid1,guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



  <li class="method-list-item">
    <h4 class="method-list-item-label">
      states

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">
      Comma-delimited list of droplet states to filter by. Valid values are &ldquo;PENDING&rdquo;, &ldquo;STAGING&rdquo;, &ldquo;STAGED&rdquo;, &ldquo;FAILED&rdquo;, or &ldquo;EXPIRED&rdquo;.
      <br>
      Example: <code>states=PENDING,STAGING</code>
    </p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h1 id="packages">Packages</h1>

<p>A package is an application&rsquo;s &lsquo;source code&rsquo;; either raw bits for your application or a pointer to these bits.</p>

<p>In Cloud Foundry, packages are staged to produce an executable Droplet. We currently support raw bits and Docker packages.</p>

          <div class='no-margin'></div>

<h2 id="the-package-object">The package object</h2>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guid

        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Unique GUID for the package.
</p>
  </li>


  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Package type. Possible values are &ldquo;bits&rdquo;, &ldquo;docker&rdquo;.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      data
      <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">Data for docker packages. Can be empty for bits packages.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      state
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">State of the package. Possible states are &ldquo;PROCESSING_UPLOAD&rdquo;, &ldquo;READY&rdquo;, &ldquo;FAILED&rdquo;, &ldquo;AWAITING_UPLOAD&rdquo;, &ldquo;COPYING&rdquo;, and &ldquo;EXPIRED&rdquo;.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      created_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone when the app was created.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      updated_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone with the package was last updated.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      links

        <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">    Links to related resources.
</p>
  </li>


</ul>

          <h2 id="create-a-package">Create a package</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/v3/apps/:guid/packages</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/packages"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "type": "docker",
    "data": {
      "image": "registry/image:latest"
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>

{
  "guid": "4cb65058-f04f-458f-aca1-5f4e43de6407",
  "type": "docker",
  "data": {
    "hash": {
      "type": "sha1",
      "value": null
    },
    "error": null,
    "image": "registry/image:latest"
  },
  "state": "READY",
  "created_at": "2015-11-03T00:53:54Z",
  "updated_at": null,
  "links":
  {
    "self": {
      "href": "/v3/packages/4cb65058-f04f-458f-aca1-5f4e43de6407"
    },
    "app": {
      "href": "/v3/apps/d8b8148d-5798-44de-821a-64b85b15e968"
    }
  }
}

</code></pre>

<p>This endpoint creates a new package.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">Package type. Possible values are &ldquo;bits&rdquo;, &ldquo;docker&rdquo;.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      data

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Data for docker packages. Can be empty for bits packages.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      data[&lsquo;image&rsquo;]

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Location of docker image. Required for docker packages.</p>
  </li>
</ul>

          <h2 id="get-a-package">Get a package</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/packages/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/packages/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "44f7c078-0934-470f-9883-4fcddc5b8f13",
  "type": "bits",
  "data": {
    "hash": {
      "type": "sha1",
      "value": null
    },
    "error": null
  },
  "state": "PROCESSING_UPLOAD",
  "created_at": "2015-11-13T17:02:56Z",
  "updated_at": null,
  "links": {
    "self": {
      "href": "/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13"
    },
    "upload": {
      "href": "/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/upload",
      "method": "POST"
    },
    "download": {
      "href": "/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/download",
      "method": "GET"
    },
    "stage": {
      "href": "/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/droplets",
      "method": "POST"
    },
    "app": {
      "href": "/v3/apps/1d3bf0ec-5806-43c4-b64e-8364dba1086a"
    }
  }
}

</code></pre>

<p>This endpoint retrieves a specific package.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="stage-a-package">Stage a package</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/v3/packages/:guid/droplets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/packages/[guid]/droplets"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "environment_variables": {
      "CUSTOM_ENV_VAR": "hello"
    },
    "lifecycle": {
      "type": "buildpack",
      "data": {
        "buildpack": "http://github.com/myorg/awesome-buildpack",
        "stack": "cflinuxfs2"
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>

{
  "guid": "whatuuid",
  "state": "PENDING",
  "error": null,
  "lifecycle": {
    "type": "buildpack",
    "data": {
      "buildpack": "http://github.com/myorg/awesome-buildpack",
      "stack": "cflinuxfs2"
    }
  },
  "staging_memory_in_mb": 1024,
  "staging_disk_in_mb": 4096,
  "result": {
    "buildpack": null,
    "stack": "cflinuxfs2",
    "process_types": null,
    "hash": {
      "type": "sha1",
      "value": null
    },
    "execution_metadata": null
  },
  "environment_variables":
  {
    "CUSTOM_ENV_VAR": "hello",
    "VCAP_APPLICATION": {
      "limits": {
        "mem": 1024,
        "disk": 4096,
        "fds": 16384
      },
      "application_id": "f82a88a2-2197-45b2-8b6d-84d1be8e2d0e",
      "application_version": "whatuuid",
      "application_name": "name-673",
      "application_uris": [ ],
      "version": "whatuuid",
      "name": "name-673",
      "space_name": "name-670",
      "space_id": "8543c9f2-0ec4-4bd2-adb4-eee7b2cd6c9d",
      "uris": [ ],
      "users": null
    },
    "CF_STACK": "cflinuxfs2",
    "MEMORY_LIMIT": 1024,
    "VCAP_SERVICES": { }
  },
  "created_at": "2015-11-03T00:53:54Z",
  "updated_at": null,
  "links": {
    "self": {
      "href": "/v3/droplets/whatuuid"
    },
    "package": {
      "href": "/v3/packages/aee22e31-6476-435e-a8c9-8961c6ead83e"
    },
    "app": {
      "href": "/v3/apps/f82a88a2-2197-45b2-8b6d-84d1be8e2d0e"
    },
    "assign_current_droplet": {
      "href": "/v3/apps/f82a88a2-2197-45b2-8b6d-84d1be8e2d0e/droplets/current",
      "method": "PUT"
    }
  }
}
</code></pre>

<p>This endpoint stages a package. Staging a package creates a droplet.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      environment_variables

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">JSON object of environment variables to use during staging. Environment variable names may not start with &ldquo;VCAP_&rdquo; or &ldquo;CF_&rdquo;. &ldquo;PORT&rdquo; is not a valid environment variable. Example environment variables: {&ldquo;FEATURE_ENABLED&rdquo;: &ldquo;true&rdquo;}</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      staging_memory_in_mb

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Memory limit used to stage package. Must be an integer.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      staging_disk_in_mb

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Disk limit used to stage package. Must be an integer.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      lifecycle

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">JSON object of lifecycle information for a droplet. If not provided, it will default to a buildpack. Example lifecycle information: { &ldquo;type&rdquo;: &ldquo;buildpack&rdquo;, &ldquo;data&rdquo;: { &ldquo;buildpack&rdquo;: &ldquo;http://github.com/myorg/awesome-buildpack&rdquo;, &ldquo;stack&rdquo;: &ldquo;cflinuxfs2&rdquo; } }</p>
  </li>
</ul>

          <h2 id="upload-package-bits">Upload package bits</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/v3/packages/:guid/upload</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/packages/[guid]/upload"</span> <span class="se">\</span>
  -F <span class="nv">bits</span><span class="o">=</span>@<span class="s2">"package.zip"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "44f7c078-0934-470f-9883-4fcddc5b8f13",
  "type": "bits",
  "data": {
    "hash": {
      "type": "sha1",
      "value": null
    },
    "error": null
  },
  "state": "PROCESSING_UPLOAD",
  "created_at": "2015-11-13T17:02:56Z",
  "updated_at": null,
  "links": {
    "self": {
      "href": "/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13"
    },
    "upload": {
      "href": "/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/upload",
      "method": "POST"
    },
    "download": {
      "href": "/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/download",
      "method": "GET"
    },
    "stage": {
      "href": "/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/droplets",
      "method": "POST"
    },
    "app": {
      "href": "/v3/apps/1d3bf0ec-5806-43c4-b64e-8364dba1086a"
    }
  }
}

</code></pre>

<p>This endpoint uploads bits to an existing package of type &lsquo;bits&rsquo;. The bits must be sent as part of a multi-part form</p>

<h3 id="form-parameters">Form Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      bits

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">A binary zip file containing the package bits</p>
  </li>
</ul>

          <h2 id="download-package-bits">Download package bits</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/packages/:guid/download</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/packages/[guid]/download"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Found</span>

You are being redirected.

</code></pre>

<p>This endpoint downloads the bits of an existing package.<br><br>
When using a remote blobstore, such as AWS, the response is a redirect to the actual location of the bits. If the client is automatically following redirects, then the OAuth token that was used to communicate with Cloud Controller will be replayed on the new redirect request. Some blobstores may reject the request in that case. Clients may need to follow the redirect without including the OAuth token.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="copy-a-package">Copy a Package</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/v3/apps/:guid/packages</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/packages?source_package_guid=[guid]"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>

  {
  "guid": "fec72fc1-e453-4463-a86d-5df426f337a3",
  "type": "docker",
  "data": {
    "image": "http://awesome-sauce.com"
  },
  "state": "READY",
  "created_at": "2016-03-17T21:41:09Z",
  "updated_at": null,
  "links": {
    "self": {
      "href": "/v3/packages/fec72fc1-e453-4463-a86d-5df426f337a3"
    },
    "stage": {
      "href": "/v3/packages/fec72fc1-e453-4463-a86d-5df426f337a3/droplets",
      "method": "POST"
    },
    "app": {
      "href": "/v3/apps/36208a68-562d-4f51-94ea-28bd8553a271"
    }
  }
}

</code></pre>

<p>This endpoint copies the bits of a source package to a target package.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      source_package_guid

      <span class="method-list-item-type">required</span>
    </h4>

    <p class="method-list-item-description">Source of package to copy from</p>
  </li>
</ul>

          <h2 id="delete-a-package">Delete a package</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/v3/packages/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/packages/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This endpoint deletes a specific package.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="list-packages">List packages</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/packages</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/packages"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 2,
    "total_pages": 1,
    "first": {
      "href": "/v3/packages?types=bits%2Cdocker&amp;page=1&amp;per_page=2"
    },
    "last": {
      "href": "/v3/packages?types=bits%2Cdocker&amp;page=2&amp;per_page=2"
    },
    "next": {
      "href": null
    },
    "previous": null
  },
  "resources": [
    {
      "guid": "a57fd932-85db-483a-a27e-b00efbb3b0a4",
      "type": "bits",
      "data": {
        "hash": {
          "type": "sha1",
          "value": null
        },
        "error": null
      },
      "state": "AWAITING_UPLOAD",
      "created_at": "2015-11-03T00:53:54Z",
      "updated_at": null,
      "links": {
        "self": {
          "href": "/v3/packages/a57fd932-85db-483a-a27e-b00efbb3b0a4"
        },
        "upload": {
          "href": "/v3/packages/a57fd932-85db-483a-a27e-b00efbb3b0a4/upload",
          "method": "POST"
        },
        "download": {
          "href": "/v3/packages/a57fd932-85db-483a-a27e-b00efbb3b0a4/download",
          "method": "GET"
        },
        "stage": {
          "href": "/v3/packages/a57fd932-85db-483a-a27e-b00efbb3b0a4/droplets",
          "method": "POST"
        },
        "app": {
          "href": "/v3/apps/fa3558ce-1c4d-46fc-9776-54b9c8021745"
        }
      }
    },
    {
      "guid": "8f1f294d-cef8-4c11-9f0b-3bcdc0bd2691",
      "type": "docker",
      "data": {
        "hash": {
          "type": "sha1",
          "value": null
        },
        "error": null,
        "image": "repository/docker-image:latest"
      },
      "state": "READY",
      "created_at": "2015-11-03T00:53:54Z",
      "updated_at": null,
      "links": {
        "self": {
          "href": "/v3/packages/8f1f294d-cef8-4c11-9f0b-3bcdc0bd2691"
        },
        "app": {
          "href": "/v3/apps/fa3558ce-1c4d-46fc-9776-54b9c8021745"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves all the packages the user has access to.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      app_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of app guids to filter by. <br>Example: <code>app_guids=app_guid1,app_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of package guids to filter by. <br>Example: <code>guids=guid1,guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      organization_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of organization guids to filter by. <br>Example: <code>organization_guids=organization_guid1,organization_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      space_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of space guids to filter by. <br>Example: <code>space_guids=space_guid1,space_guid2</code>
</p>
  </li>



  <li class="method-list-item">
    <h4 class="method-list-item-label">
      states

      <span class="method-list-item-type">optional</span>
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Comma-delimited list of package states to filter by.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      types

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of package types to filter by.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h2 id="list-packages-for-an-app">List packages for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps/:guid/packages</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/packages"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 1,
    "total_pages": 1,
    "first": {
      "href": "/v3/apps/f2efe391-2b5b-4836-8518-ad93fa9ebf69/packages?states=READY&amp;page=1&amp;per_page=50"
    },
    "last": {
      "href": "/v3/apps/f2efe391-2b5b-4836-8518-ad93fa9ebf69/packages?states=READY&amp;page=1&amp;per_page=50"
    },
    "next": null,
    "previous": null
  },
  "resources": [
    {
      "guid": "752edab0-2147-4f58-9c25-cd72ad8c3561",
      "type": "bits",
      "data": {
        "error": null,
        "hash": {
          "type": "sha1",
          "value": null
        }
      },
      "state": "READY",
      "created_at": "2016-03-17T21:41:09Z",
      "updated_at": null,
      "links": {
        "self": {
          "href": "/v3/packages/752edab0-2147-4f58-9c25-cd72ad8c3561"
        },
        "upload": {
          "href": "/v3/packages/752edab0-2147-4f58-9c25-cd72ad8c3561/upload",
          "method": "POST"
        },
        "download": {
          "href": "/v3/packages/752edab0-2147-4f58-9c25-cd72ad8c3561/download",
          "method": "GET"
        },
        "stage": {
          "href": "/v3/packages/752edab0-2147-4f58-9c25-cd72ad8c3561/droplets",
          "method": "POST"
        },
        "app": {
          "href": "/v3/apps/f2efe391-2b5b-4836-8518-ad93fa9ebf69"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves the packages that associates with the given app guid.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of package guids to filter by. <br>Example: <code>guids=guid1,guid2</code>
</p>
  </li>



  <li class="method-list-item">
    <h4 class="method-list-item-label">
      states

      <span class="method-list-item-type">optional</span>
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Comma-delimited list of package states to filter by.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      types

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of package types to filter by.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h1 id="processes-by-guid">Processes By Guid</h1>

<p>Processes define the runnable units of an app. An app can have multiple process types, each with differing commands and scale.</p>

<p>To configure processes for an app, a Procfile should be provided in the application source.</p>

          <div class='no-margin'></div>

<h2 id="the-process-object">The process object</h2>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guid

        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Unique GUID for the process.
</p>
  </li>


  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Process type. A unique identifier for processes belonging to an app.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      command
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">The command is used to start the process.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      instances
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The number of instances to run.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      memory_in_mb
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The memory in mb allocated per instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      disk_in_mb
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The disk in mb allocated per instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      ports
      <span class="method-list-item-type">array of integers</span>
    </h4>

    <p class="method-list-item-description">The ports that will be open to accept traffic in the container running the process. An empty array will bind no ports to the application. <code>web</code> type processes will default to using port 8080 when ports are not provided. All other process types will default to no ports.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      health_check
      <span class="method-list-item-type">health_check object</span>
    </h4>

    <p class="method-list-item-description">The health check to perform on the process. See <a href="#the-health_check-object">health_check</a> for more information.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      created_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone when the app was created.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      updated_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone with the package was last updated.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      links

        <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">    Links to related resources.
</p>
  </li>


</ul>

          <div class='no-margin'></div>

<h2 id="the-health_check-object">The health_check object</h2>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">The type of health check to perform. Valid values are <code>port</code> and <code>process</code></p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      data[&lsquo;timeout&rsquo;]
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The time in seconds that the health check can fail before the process is restarted.</p>
  </li>
</ul>

          <div class='no-margin'></div>

<h2 id="the-process-stats-object">The process stats object</h2>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Process type. A unique identifier for processes belonging to an app.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      index
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The zero-based index of running intances.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      state
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">The state of the instance. RUNNING, CRASHED, STARTING</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      usage[&lsquo;time&rsquo;]
      <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">The time when the usage was requested.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      usage['cpu&rsquo;]
      <span class="method-list-item-type">number</span>
    </h4>

    <p class="method-list-item-description">The current cpu usage of the instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      usage['mem&rsquo;]
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The current memory usage of the instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      usage['disk&rsquo;]
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The current disk usage of the instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      host
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">The host the instance is running on.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      instance_ports
      <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">JSON array of port mappings between the network-exposed port used to communicate with the app (&ldquo;external&rdquo;) and port opened to the running process that it can listen on (&ldquo;internal&rdquo;).</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      uptime
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The uptime in seconds for the instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      mem_quota
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The maximum memory the instance is allowed to use.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      disk_quota
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The maximum disk the instance is allowed to use.</p>
  </li>
   <li class="method-list-item">
    <h4 class="method-list-item-label">
      fds_quota
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The maximum file descriptors the instance is allowed to use.</p>
  </li>
</ul>

          <h2 id="get-a-process">Get a process</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/processes/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/processes/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "6a901b7c-9417-4dc1-8189-d3234aa0ab82",
  "type": "web",
  "command": "rackup",
  "instances": 5,
  "memory_in_mb": 256,
  "disk_in_mb": 1024,
  "ports": [8080],
  "health_check": {
    "type": "port",
    "data": {
      "timeout": null
    }
  },
  "created_at": "2016-03-23T18:48:22Z",
  "updated_at": "2016-03-23T18:48:42Z",
  "links": {
    "self": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"
    },
    "scale": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/scale",
      "method": "PUT"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "space": {
      "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
    },
    "stats": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"
    }
  }
}

</code></pre>

<p>This endpoint retrieves a specific process.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="get-stats-for-a-process">Get stats for a process</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/processes/:guid/stats</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/processes/[guid]/stats"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "resources": [
    {
      "type": "web",
      "index": 0,
      "state": "RUNNING",
      "usage": {
        "time": "2016-03-23T23:17:30.476314154Z",
        "cpu": 0.00038711029163348665,
        "mem": 19177472,
        "disk": 69705728
      },
      "host": "10.244.16.10",
      "instance_ports": [
        {
          "external": 64546,
          "internal": 8080
        }
      ],
      "uptime": 9042,
      "mem_quota": 268435456,
      "disk_quota": 1073741824,
      "fds_quota": 16384
    }
  ]
}

</code></pre>

<p>This endpoint retrieves the stats for a specific process.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="update-a-process">Update a process</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">PATCH</span> <span class="nn">/v3/processes/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/processes/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{ "command": "rackup" }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "6a901b7c-9417-4dc1-8189-d3234aa0ab82",
  "type": "web",
  "command": "rackup",
  "instances": 5,
  "memory_in_mb": 256,
  "disk_in_mb": 1024,
  "ports": [8080],
  "health_check": {
    "type": "port",
    "data": {
      "timeout": null
    }
  },
  "created_at": "2016-03-23T18:48:22Z",
  "updated_at": "2016-03-23T18:48:42Z",
  "links": {
    "self": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"
    },
    "scale": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/scale",
      "method": "PUT"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "space": {
      "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
    },
    "stats": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"
    }
  }
}

</code></pre>

<p>This endpoint updates an existing process.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      command

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The command that will be used to start the process.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      ports
      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The ports that will be open to accept traffic in the container running the process. An empty array will bind no ports to the application. <code>web</code> type processes will default to using port 8080 when ports are not provided. All other process types will default to no ports.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      health_check

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The health check to perform on the process. See <a href="#the-health_check-object">health_check</a> for more information.</p>
  </li>
</ul>

          <h2 id="scale-a-process">Scale a process</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/v3/processes/:guid/scale</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/processes/[guid]/scale"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "instances": 5,
    "memory_in_mb": 256,
    "disk_in_mb": 1024,
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">OK</span>

{
  "guid": "6a901b7c-9417-4dc1-8189-d3234aa0ab82",
  "type": "web",
  "command": "rackup",
  "instances": 5,
  "memory_in_mb": 256,
  "disk_in_mb": 1024,
  "ports": [8080],
  "health_check": {
    "type": "port",
    "data": {
      "timeout": null
    }
  },
  "created_at": "2016-03-23T18:48:22Z",
  "updated_at": "2016-03-23T18:48:42Z",
  "links": {
    "self": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"
    },
    "scale": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/scale",
      "method": "PUT"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "space": {
      "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
    },
    "stats": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"
    }
  }
}

</code></pre>

<p>This endpoint scales an existing process.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      instances

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The number of instances.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      memory_in_mb

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The memory in mb allocated per instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      disk_in_mb

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The disk in mb allocated per instance.</p>
  </li>
</ul>

          <h2 id="terminate-a-process-instance">Terminate a process instance</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/v3/processes/:guid/instances/:index</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/processes/[guid]/instances/[index]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This endpoint terminates an instance of a specific process. Health management will eventually restart the instance.</p>

<p>This allows a user to stop a single misbehaving instance of a process.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="list-processes">List processes</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/processes</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/processes </span><span class="se">\</span><span class="s2">
  -X GET </span><span class="se">\</span><span class="s2">
  -H "</span>Authorization: bearer <span class="o">[</span>token]<span class="s2">"
</span></code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 3,
    "total_pages": 2,
    "first": {
      "href": "/v3/processes?page=1&amp;per_page=2"
    },
    "last": {
      "href": "/v3/processes?page=2&amp;per_page=2"
    },
    "next": {
      "href": "/v3/processes?page=2&amp;per_page=2"
    },
    "previous": null
  },
  "resources": [
    {
      "guid": "6a901b7c-9417-4dc1-8189-d3234aa0ab82",
      "type": "web",
      "command": "[PRIVATE DATA HIDDEN IN LISTS]",
      "instances": 5,
      "memory_in_mb": 256,
      "disk_in_mb": 1024,
      "ports": [8080],
      "health_check": {
        "type": "port",
        "data": {
          "timeout": null
        }
      },
      "created_at": "2016-03-23T18:48:22Z",
      "updated_at": "2016-03-23T18:48:42Z",
      "links": {
        "self": {
          "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"
        },
        "scale": {
          "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/scale",
          "method": "PUT"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "space": {
          "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
        },
        "stats": {
          "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"
        }
      }
    },
    {
      "guid": "3fccacd9-4b02-4b96-8d02-8e865865e9eb",
      "type": "worker",
      "command": "[PRIVATE DATA HIDDEN IN LISTS]",
      "instances": 1,
      "memory_in_mb": 256,
      "disk_in_mb": 1024,
      "ports": [],
      "health_check": {
        "type": "process",
        "data": {
          "timeout": null
        }
      },
      "created_at": "2016-03-23T18:48:22Z",
      "updated_at": "2016-03-23T18:48:42Z",
      "links": {
        "self": {
          "href": "/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb"
        },
        "scale": {
          "href": "/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb/scale",
          "method": "PUT"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "space": {
          "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
        },
        "stats": {
          "href": "/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb/stats"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves the processes the user has access to.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      app_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of app guids to filter by. <br>Example: <code>app_guids=app_guid1,app_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of process guids to filter by. <br>Example: <code>guids=guid1,guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      organization_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of organization guids to filter by. <br>Example: <code>organization_guids=organization_guid1,organization_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      space_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of space guids to filter by. <br>Example: <code>space_guids=space_guid1,space_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      types

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of process types to filter by.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h1 id="processes-by-app-and-type">Processes By App and Type</h1>

<p>Processes define the runnable units of an app. An app can have multiple process types, each with differing commands and scale.</p>

<p>To configure processes for an app, a Procfile should be provided in the application source.</p>

          <div class='no-margin'></div>

<h2 id="the-process-object">The process object</h2>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guid

        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Unique GUID for the process.
</p>
  </li>


  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Process type. A unique identifier for processes belonging to an app.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      command
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">The command is used to start the process.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      instances
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The number of instances to run.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      memory_in_mb
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The memory in mb allocated per instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      disk_in_mb
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The disk in mb allocated per instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      ports
      <span class="method-list-item-type">array of integers</span>
    </h4>

    <p class="method-list-item-description">The ports that will be open to accept traffic in the container running the process. An empty array will bind no ports to the application. <code>web</code> type processes will default to using port 8080 when ports are not provided. All other process types will default to no ports.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      health_check
      <span class="method-list-item-type">health_check object</span>
    </h4>

    <p class="method-list-item-description">The health check to perform on the process. See <a href="#the-health_check-object">health_check</a> for more information.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      created_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone when the app was created.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      updated_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone with the package was last updated.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      links

        <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">    Links to related resources.
</p>
  </li>


</ul>

          <div class='no-margin'></div>

<h2 id="the-health_check-object">The health_check object</h2>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">The type of health check to perform. Valid values are <code>port</code> and <code>process</code></p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      data[&lsquo;timeout&rsquo;]
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The time in seconds that the health check can fail before the process is restarted.</p>
  </li>
</ul>

          <div class='no-margin'></div>

<h2 id="the-process-stats-object">The process stats object</h2>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Process type. A unique identifier for processes belonging to an app.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      index
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The zero-based index of running intances.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      state
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">The state of the instance. RUNNING, CRASHED, STARTING</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      usage[&lsquo;time&rsquo;]
      <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">The time when the usage was requested.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      usage['cpu&rsquo;]
      <span class="method-list-item-type">number</span>
    </h4>

    <p class="method-list-item-description">The current cpu usage of the instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      usage['mem&rsquo;]
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The current memory usage of the instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      usage['disk&rsquo;]
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The current disk usage of the instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      host
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">The host the instance is running on.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      instance_ports
      <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">JSON array of port mappings between the network-exposed port used to communicate with the app (&ldquo;external&rdquo;) and port opened to the running process that it can listen on (&ldquo;internal&rdquo;).</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      uptime
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The uptime in seconds for the instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      mem_quota
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The maximum memory the instance is allowed to use.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      disk_quota
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The maximum disk the instance is allowed to use.</p>
  </li>
   <li class="method-list-item">
    <h4 class="method-list-item-label">
      fds_quota
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">The maximum file descriptors the instance is allowed to use.</p>
  </li>
</ul>

          <h2 id="get-a-process-for-an-app">Get a process for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps/:guid/processes/:type</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/processes/[type]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "6a901b7c-9417-4dc1-8189-d3234aa0ab82",
  "type": "web",
  "command": "rackup",
  "instances": 5,
  "memory_in_mb": 256,
  "disk_in_mb": 1024,
  "ports": [8080],
  "health_check": {
    "type": "port",
    "data": {
      "timeout": null
    }
  },
  "created_at": "2016-03-23T18:48:22Z",
  "updated_at": "2016-03-23T18:48:42Z",
  "links": {
    "self": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"
    },
    "scale": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/scale",
      "method": "PUT"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "space": {
      "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
    },
    "stats": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"
    }
  }
}

</code></pre>

<p>This endpoint retrieves a specific process belonging to an app.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="get-stats-for-a-process-for-an-app">Get stats for a process for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps/:guid/processes/:type/stats</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/processes/[type]/stats"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "resources": [
    {
      "type": "web",
      "index": 0,
      "state": "RUNNING",
      "usage": {
        "time": "2016-03-23T23:17:30.476314154Z",
        "cpu": 0.00038711029163348665,
        "mem": 19177472,
        "disk": 69705728
      },
      "host": "10.244.16.10",
      "instance_ports": [
        {
          "external": 64546,
          "internal": 8080
        }
      ],
      "uptime": 9042,
      "mem_quota": 268435456,
      "disk_quota": 1073741824,
      "fds_quota": 16384
    }
  ]
}

</code></pre>

<p>This endpoint retrieves the stats for a specific process belonging to an app.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="scale-a-process-for-an-app">Scale a process for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/v3/apps/:guid/processes/:type/scale</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/processes/[type]/scale"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "instances": 5,
    "memory_in_mb": 256,
    "disk_in_mb": 1024,
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">OK</span>

{
  "guid": "6a901b7c-9417-4dc1-8189-d3234aa0ab82",
  "type": "web",
  "command": "rackup",
  "instances": 5,
  "memory_in_mb": 256,
  "disk_in_mb": 1024,
  "ports": [8080],
  "health_check": {
    "type": "port",
    "data": {
      "timeout": null
    }
  },
  "created_at": "2016-03-23T18:48:22Z",
  "updated_at": "2016-03-23T18:48:42Z",
  "links": {
    "self": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"
    },
    "scale": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/scale",
      "method": "PUT"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "space": {
      "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
    },
    "stats": {
      "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"
    }
  }
}

</code></pre>

<p>This endpoint scales an existing process belonging to an app.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      instances

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The number of instances.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      memory_in_mb

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The memory in mb allocated per instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      disk_in_mb

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The disk in mb allocated per instance.</p>
  </li>
</ul>

          <h2 id="terminate-a-process-instance-for-an-app">Terminate a process instance for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/v3/apps/:guid/processes/:type/instances/:index</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/processes/[type]/instances/[index]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This endpoint terminates an instance of a specific process belonging to an app. Health management will eventually restart the instance.</p>

<p>This allows a user to stop a single misbehaving instance of a process.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="list-processes-for-an-app">List processes for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps/:guid/processes</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/processes </span><span class="se">\</span><span class="s2">
  -X GET </span><span class="se">\</span><span class="s2">
  -H "</span>Authorization: bearer <span class="o">[</span>token]<span class="s2">"
</span></code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 3,
    "total_pages": 2,
    "first": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes?page=1&amp;per_page=2"
    },
    "last": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes?page=2&amp;per_page=2"
    },
    "next": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes?page=2&amp;per_page=2"
    },
    "previous": null
  },
  "resources": [
    {
      "guid": "6a901b7c-9417-4dc1-8189-d3234aa0ab82",
      "type": "web",
      "command": "[PRIVATE DATA HIDDEN IN LISTS]",
      "instances": 5,
      "memory_in_mb": 256,
      "disk_in_mb": 1024,
      "ports": [8080],
      "health_check": {
        "type": "port",
        "data": {
          "timeout": null
        }
      },
      "created_at": "2016-03-23T18:48:22Z",
      "updated_at": "2016-03-23T18:48:42Z",
      "links": {
        "self": {
          "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"
        },
        "scale": {
          "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/scale",
          "method": "PUT"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "space": {
          "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
        },
        "stats": {
          "href": "/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"
        }
      }
    },
    {
      "guid": "3fccacd9-4b02-4b96-8d02-8e865865e9eb",
      "type": "worker",
      "command": "[PRIVATE DATA HIDDEN IN LISTS]",
      "instances": 1,
      "memory_in_mb": 256,
      "disk_in_mb": 1024,
      "ports": [],
      "health_check": {
        "type": "process",
        "data": {
          "timeout": null
        }
      },
      "created_at": "2016-03-23T18:48:22Z",
      "updated_at": "2016-03-23T18:48:42Z",
      "links": {
        "self": {
          "href": "/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb"
        },
        "scale": {
          "href": "/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb/scale",
          "method": "PUT"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "space": {
          "href": "/v2/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"
        },
        "stats": {
          "href": "/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb/stats"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves the processes belonging to an app.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      app_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of app guids to filter by. <br>Example: <code>app_guids=app_guid1,app_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of process guids to filter by. <br>Example: <code>guids=guid1,guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      organization_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of organization guids to filter by. <br>Example: <code>organization_guids=organization_guid1,organization_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      space_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of space guids to filter by. <br>Example: <code>space_guids=space_guid1,space_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      types

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of process types to filter by.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h1 id="route-mappings">Route Mappings</h1>

<p>Route Mappings are relations between an app and a route; to direct traffic from a route to an app, you must first create a mapping.</p>

          <div class='no-margin'></div>

<h2 id="the-route_mapping-object">The route_mapping object</h2>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      guid

        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Unique GUID for the route mapping.
</p>
  </li>



  <li class="method-list-item">
      <h4 class="method-list-item-label">
        app_port
        <span class="method-list-item-type">integer</span>
      </h4>

      <p class="method-list-item-description">The port that traffic will be routed to for the mapped process.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      created_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone when the app was created.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      updated_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone with the package was last updated.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      links

        <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">    Links to related resources.
</p>
  </li>


</ul>

          <h2 id="create-a-route-mapping">Create a route mapping</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/v3/route_mappings</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/route_mappings"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "relationships": {
      "app": {
        "guid": "[app-guid]"
      },
      "route": {
        "guid": "[route_guid]"
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>

{
  "guid": "89323d4e-2e84-43e7-83e9-adbf50a20c0e",
  "app_port": 8080,
  "created_at": "2016-02-17T01:50:05Z",
  "updated_at": null,
  "links": {
    "self": {
      "href": "/v3/route_mappings/89323d4e-2e84-43e7-83e9-adbf50a20c0e"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "route": {
      "href": "/v2/routes/9612ecbd-36f1-4ada-927a-efae9310b3a1"
    },
    "process": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/web"
    }
  }
}

</code></pre>

<p>This endpoint creates a new route mapping.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      app_port

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The port that traffic will be routed to for the mapped process. Defaults to <code>8080</code></p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      relationships[&lsquo;app&rsquo;]['guid&rsquo;]

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">Guid of the app to which you would like to map the route.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      relationships['route&rsquo;]['guid&rsquo;]

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">Guid of the route to which you would like to map the app.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      relationships['process&rsquo;]['type&rsquo;]

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Type of the process on the app to which you would like to map the route. Defaults to <code>web</code></p>
  </li>
</ul>

          <h2 id="get-a-route-mapping">Get a route mapping</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/route_mappings/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/route_mappings/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "89323d4e-2e84-43e7-83e9-adbf50a20c0e",
  "app_port": 8080,
  "created_at": "2016-02-17T01:50:05Z",
  "updated_at": null,
  "links": {
    "self": {
      "href": "/v3/route_mappings/89323d4e-2e84-43e7-83e9-adbf50a20c0e"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "route": {
      "href": "/v2/routes/9612ecbd-36f1-4ada-927a-efae9310b3a1"
    },
    "process": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/web"
    }
  }
}

</code></pre>

<p>This endpoint retrieves a specific route mapping.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="delete-a-route-mapping">Delete a route mapping</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/v3/route_mappings/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/route_mappings/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This endpoint deletes a specific route mapping.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="list-route-mappings">List route mappings</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/route_mappings</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/route_mappings"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 3,
    "total_pages": 2,
    "first": {
      "href": "/v3/route_mappings?page=1&amp;per_page=2"
    },
    "last": {
      "href": "/v3/route_mappings?page=2&amp;per_page=2"
    },
    "next": {
      "href": "/v3/route_mappings?page=2&amp;per_page=2"
    },
    "previous": null
  },
  "resources": [
    {
      "guid": "89323d4e-2e84-43e7-83e9-adbf50a20c0e",
      "app_port": 8080,
      "created_at": "2016-02-17T01:50:05Z",
      "updated_at": null,
      "links": {
        "self": {
          "href": "/v3/route_mappings/89323d4e-2e84-43e7-83e9-adbf50a20c0e"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "route": {
          "href": "/v2/routes/9612ecbd-36f1-4ada-927a-efae9310b3a1"
        },
        "process": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/web"
        }
      }
    },
    {
      "guid": "9f4970a8-9e6f-4984-b0a5-5e4a8af91665",
      "app_port": 8080,
      "created_at": "2016-02-17T01:50:05Z",
      "updated_at": null,
      "links": {
        "self": {
          "href": "/v3/route_mappings/9f4970a8-9e6f-4984-b0a5-5e4a8af91665"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "route": {
          "href": "/v2/routes/a32332f0-fb30-4e9e-9b78-348b8b6b98b6"
        },
        "process": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/admin-web"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves the route mappings the user has access to.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      app_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of app guids to filter by. <br>Example: <code>app_guids=app_guid1,app_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      route_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of route guids to filter by. <br>Example: <code>route_guids=route_guid1,route_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h2 id="list-route-mappings-for-an-app">List route mappings for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps/:guid/route_mappings</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/route_mappings"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 3,
    "total_pages": 2,
    "first": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/route_mappings?page=1&amp;per_page=2"
    },
    "last": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/route_mappings?page=2&amp;per_page=2"
    },
    "next": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/route_mappings?page=2&amp;per_page=2"
    },
    "previous": null
  },
  "resources": [
    {
      "guid": "89323d4e-2e84-43e7-83e9-adbf50a20c0e",
      "app_port": 8080,
      "created_at": "2016-02-17T01:50:05Z",
      "updated_at": null,
      "links": {
        "self": {
          "href": "/v3/route_mappings/89323d4e-2e84-43e7-83e9-adbf50a20c0e"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "route": {
          "href": "/v2/routes/9612ecbd-36f1-4ada-927a-efae9310b3a1"
        },
        "process": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/web"
        }
      }
    },
    {
      "guid": "9f4970a8-9e6f-4984-b0a5-5e4a8af91665",
      "app_port": 8080,
      "created_at": "2016-02-17T01:50:05Z",
      "updated_at": null,
      "links": {
        "self": {
          "href": "/v3/route_mappings/9f4970a8-9e6f-4984-b0a5-5e4a8af91665"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "route": {
          "href": "/v2/routes/a32332f0-fb30-4e9e-9b78-348b8b6b98b6"
        },
        "process": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/admin-web"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves the route mappings the user has access to.</p>

<h3 id="query-parameters">Query Parameters</h3>

<p><li class="method-list-item">
    <h4 class="method-list-item-label">
      route_guids</p>

<p><span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4></p>

<p><p class="method-list-item-description">    Comma-delimited list of route guids to filter by. <br>Example: <code>route_guids=route_guid1,route_guid2</code>
</p>
  </li></p>

<p><li class="method-list-item">
    <h4 class="method-list-item-label">
      page</p>

<p><span class="method-list-item-type">optional</span>
    </h4></p>

<p><p class="method-list-item-description">    Page to display. Possible values are all integers &gt;= 1.
</p>
  </li></p>

<p><li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page</p>

<p><span class="method-list-item-type">optional</span>
    </h4></p>

<p><p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li></p>

<p><li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by</p>

<p><span class="method-list-item-type">optional</span>
    </h4></p>

<p><p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li></p>

<p></ul></p>

          <h1 id="service-bindings">Service Bindings</h1>

<p>Service bindings are relations between a service instance and an app; to use a service instance with an app, you must first bind them together.</p>

<p>Not all services support binding, as some services deliver value to users directly without integration with an application.</p>

          <div class='no-margin'></div>

<h2 id="the-service_binding-object">The service_binding object</h2>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      guid
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Unique GUID for the service binding</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Service binding type. Currently only possible value is &ldquo;app&rdquo;.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      data
      <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">Data returned from the service broker for the service instance. Currently possible values are &ldquo;credentials&rdquo;, &ldquo;syslog_drain_url&rdquo; and (experimental) &ldquo;volume_mounts&rdquo;.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      created_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone when the app was created.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      updated_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone with the package was last updated.
</p>
  </li>



  <li class="method-list-item">
    <h4 class="method-list-item-label">
      links
      <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">Links to related resources.</p>
  </li>
</ul>

          <h2 id="create-a-service-binding">Create a service binding</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/v3/service_bindings</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/service_bindings"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "type": "app",
    "relationships": {
      "app": {
        "guid": "74f7c078-0934-470f-9883-4fddss5b8f13"
      },
      "service_instance": {
        "guid": "8bfe4c1b-9e18-45b1-83be-124163f31f9e"
      },
    },
    "data": {
      "parameters": {
        "some_object_id": "for_the_service_broker"
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>

{
  "guid": "dde5ad2a-d8f4-44dc-a56f-0452d744f1c3",
  "type": "app",
  "data": {
    "credentials": {
      "super-secret": "password"
    },
    "syslog_drain_url": "syslog://drain.url.com",
    "volume_mounts": []
  },
  "created_at": "2015-11-13T17:02:56Z",
  "updated_at": null,
  "links": {
    "self": {
      "href": "/v3/service_bindings/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"
    },
    "service_instance": {
      "href": "/v3/service_instances/8bfe4c1b-9e18-45b1-83be-124163f31f9e"
    },
    "app": {
      "href": "/v3/apps/74f7c078-0934-470f-9883-4fddss5b8f13"
    }
  }
}

</code></pre>

<p>This endpoint creates a new service binding.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      type

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">Service binding type. Currently, the only possible value is &ldquo;app&rdquo;.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      relationships[&lsquo;app&rsquo;]['guid&rsquo;]

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">Guid of the app to which you would like to bind the service instance.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      relationships['service_instance&rsquo;]['guid&rsquo;]

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">Guid of the service instance to which you would like to bind the app.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      data['parameters&rsquo;]

      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Additional configuration parameters for the service binding.</p>
  </li>
</ul>

          <h2 id="get-a-service-binding">Get a service binding</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/service_bindings/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/service_bindings/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "dde5ad2a-d8f4-44dc-a56f-0452d744f1c3",
  "type": "app",
  "data": {
    "credentials": {
      "super-secret": "password"
    },
    "syslog_drain_url": "syslog://drain.url.com",
    "volume_mounts": []
  },
  "created_at": "2015-11-13T17:02:56Z",
  "updated_at": null,
  "links": {
    "self": {
      "href": "/v3/service_bindings/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"
    },
    "service_instance": {
      "href": "/v3/service_instances/8bfe4c1b-9e18-45b1-83be-124163f31f9e"
    },
    "app": {
      "href": "/v3/apps/74f7c078-0934-470f-9883-4fddss5b8f13"
    }
  }
}

</code></pre>

<p>This endpoint retrieves a specific service binding.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="delete-a-service-binding">Delete a service binding</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">DELETE</span> <span class="nn">/v3/service_bindings/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/service_bindings/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This endpoint deletes a specific service binding.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="list-service-bindings">List service bindings</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/service_bindings</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/service_bindings"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 3,
    "total_pages": 2,
    "first": {
      "href": "/v3/service_bindings?page=1&amp;per_page=2"
    },
    "last": {
      "href": "/v3/service_bindings?page=2&amp;per_page=2"
    },
    "next": {
      "href": "/v3/service_bindings?page=2&amp;per_page=2"
    },
    "previous": null
  },
  "resources": [
    {
      "guid": "dde5ad2a-d8f4-44dc-a56f-0452d744f1c3",
      "type": "app",
      "data": {
        "credentials": {
          "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
        },
        "syslog_drain_url": "syslog://drain.url.com",
        "volume_mounts": []
      },
      "created_at": "2015-11-13T17:02:56Z",
      "updated_at": null,
      "links": {
        "self": {
          "href": "/v3/service_bindings/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"
        },
        "service_instance": {
          "href": "/v3/service_instances/8bfe4c1b-9e18-45b1-83be-124163f31f9e"
        },
        "app": {
          "href": "/v3/apps/74f7c078-0934-470f-9883-4fddss5b8f13"
        }
      }
    },
    {
      "guid": "7aa37bad-6ccb-4ef9-ba48-9ce3a91b2b62",
      "type": "app",
      "data": {
        "credentials": {
          "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
        },
        "syslog_drain_url": "syslog://drain.url.com",
        "volume_mounts": []
      },
      "created_at": "2015-11-13T17:02:56Z",
      "updated_at": null,
      "links": {
        "self": {
          "href": "/v3/service_bindings/7aa37bad-6ccb-4ef9-ba48-9ce3a91b2b62"
        },
        "service_instance": {
          "href": "/v3/service_instances/8bf356j3-9e18-45b1-3333-124163f31f9e"
        },
        "app": {
          "href": "/v3/apps/74f7c078-0934-470f-9883-4fddss5b8f13"
        }
      }
    }
  ]
}

</code></pre>

<p>This endpoint retrieves the service bindings the user has access to.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      app_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of app guids to filter by. <br>Example: <code>app_guids=app_guid1,app_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      service_instance_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of service_instance_guids types to filter by. Example: <code>service_instance_guids=guid1,guid2</code></p>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h1 id="tasks">Tasks</h1>

<p>Tasks are one-off jobs that are intended to perform a task, stop, and be cleaned up, freeing up resources.</p>

<p>Examples of this include database migrations, sending things, and batch jobs.</p>

          <div class='no-margin'></div>

<h2 id="the-task-object">The task object</h2>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      guid
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Unique GUID for the task</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      name
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">User-facing name of the task.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      command
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Command that will be executed</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      environment_variables
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Environment variables set on the
    container running your task.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      memory_in_mb
      <span class="method-list-item-type">integer</span>
    </h4>

    <p class="method-list-item-description">Maximum memory for the task in MB.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      state
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">State of the task. Possible states are PENDING, RUNNING, SUCCEEDED, CANCELING, and FAILED</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      droplet_guid
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">The guid of the droplet that will be used to run the command.</p>
  </li>
  <li class="method-list-item">
      <h4 class="method-list-item-label">
        result
        <span class="method-list-item-type">object</span>
      </h4>

      <p class="method-list-item-description">Results from the task</p>
  </li>
  <li class="method-list-item">
      <h4 class="method-list-item-label">
        result[failure_reason]
        <span class="method-list-item-type">string</span>
      </h4>

      <p class="method-list-item-description">Null if the task succeeds, contains the error message if it fails.</p>
  </li>
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      created_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone when the app was created.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      updated_at

        <span class="method-list-item-type">datetime</span>
    </h4>

    <p class="method-list-item-description">    The time with zone with the package was last updated.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      links

        <span class="method-list-item-type">object</span>
    </h4>

    <p class="method-list-item-description">    Links to related resources.
</p>
  </li>


</ul>

          <h2 id="create-a-task">Create a task</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/v3/apps/:guid/tasks</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/tasks"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "migrate",
    "command": "rake db:migrate"
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>

{
  "guid": "d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa",
  "name": "migrate",
  "command": "rake db:migrate",
  "state": "RUNNING",
  "memory_in_mb": 512,
  "environment_variables": {},
  "result": {
    "failure_reason": null
  },
  "droplet_guid": "740ebd2b-162b-469a-bd72-3edb96fabd9a",
  "created_at": "2016-05-04T17:00:41Z",
  "updated_at": "2016-05-04T17:00:42Z",
  "links": {
    "self": {
      "href": "/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "droplet": {
      "href": "/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"
    }
  }
}

</code></pre>

<p>This endpoint creates a new task.</p>

<p>Environment variables specified in the request body will overwrite and be appended to the environment variables set on the app associated with your task.
These overwrite and are appended to the app&rsquo;s running environment variable group.</p>

<h3 id="body-parameters">Body Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      name

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">User-facing name of the task</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      command

      <span class="method-list-item-type method-list-item-type-required">required</span>
    </h4>

    <p class="method-list-item-description">Command that will be executed</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
     environment_variables
     <span class="method-list-item-type">optional</span>
    </h4>
    <p class="method-list-item-description">Environment variables passed to the
    container running your task.</p>

  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      memory_in_mb
      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">Maximum memory for the task in MB. Defaults to operater-configurable &lsquo;default_app_memory&rsquo; when not specified.</p>
  </li>
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      droplet_guid
      <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">The guid of the droplet that will be used to run the command. Defaults to the app&rsquo;s current droplet when not specified.</p>
  </li>
</ul>

          <h2 id="get-a-task">Get a task</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/tasks/:guid</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/tasks/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "guid": "d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa",
  "name": "migrate",
  "command": "rake db:migrate",
  "state": "RUNNING",
  "memory_in_mb": 512,
  "environment_variables": {},
  "result": {
    "failure_reason": null
  },
  "droplet_guid": "740ebd2b-162b-469a-bd72-3edb96fabd9a",
  "created_at": "2016-05-04T17:00:41Z",
  "updated_at": "2016-05-04T17:00:42Z",
  "links": {
    "self": {
      "href": "/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "droplet": {
      "href": "/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"
    }
  }
}

</code></pre>

<p>This endpoint retrieves a specific task.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="cancel-a-task">Cancel a task</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/v3/tasks/:task_guid/cancel</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/tasks/[guid]/cancel"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>

{
  "guid": "d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa",
  "name": "migrate",
  "command": "rake db:migrate",
  "state": "CANCELING",
  "memory_in_mb": 512,
  "environment_variables": {},
  "result": {
    "failure_reason": null
  },
  "droplet_guid": "740ebd2b-162b-469a-bd72-3edb96fabd9a",
  "created_at": "2016-05-04T17:00:41Z",
  "updated_at": "2016-05-04T17:00:42Z",
  "links": {
    "self": {
      "href": "/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "droplet": {
      "href": "/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"
    }
  }
}

</code></pre>

<p>This endpoint cancels a running task.</p>

<p>Canceled tasks will initially be in state &ldquo;CANCELING&rdquo; and will move to state &ldquo;FAILED&rdquo; once the cancel request has been processed.</p>

<p>Cancel requests are idempotent and will be processed according to the state of the task when the request is executed.</p>

<p>Canceling a task that is in &ldquo;SUCCEEDED&rdquo; or &ldquo;FAILED&rdquo; state will return an error.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="list-tasks">List tasks</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/tasks</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/tasks"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 3,
    "total_pages": 2,
    "first": {
      "href": "/v3/tasks?page=1&amp;per_page=2"
    },
    "last": {
      "href": "/v3/tasks?page=2&amp;per_page=2"
    },
    "next": {
      "href": "/v3/tasks?page=2&amp;per_page=2"
    },
    "previous": null
  },
  "resources": [
    {
      "guid": "d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa",
      "name": "hello",
      "command": "[PRIVATE DATA HIDDEN IN LISTS]",
      "state": "SUCCEEDED",
      "memory_in_mb": 512,
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "result": {
        "failure_reason": null
      },
      "droplet_guid": "740ebd2b-162b-469a-bd72-3edb96fabd9a",
      "created_at": "2016-05-04T17:00:41Z",
      "updated_at": "2016-05-04T17:00:42Z",
      "links": {
        "self": {
          "href": "/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "droplet": {
          "href": "/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"
        }
      }
    },
    {
      "guid": "63b4cd89-fd8b-4bf1-a311-7174fcc907d6",
      "name": "migrate",
      "command": "[PRIVATE DATA HIDDEN IN LISTS]",
      "state": "FAILED",
      "memory_in_mb": 512,
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "result": {
        "failure_reason": "Exited with status 1"
      },
      "droplet_guid": "740ebd2b-162b-469a-bd72-3edb96fabd9a",
      "created_at": "2016-05-04T17:00:41Z",
      "updated_at": "2016-05-04T17:00:42Z",
      "links": {
        "self": {
          "href": "/v3/tasks/63b4cd89-fd8b-4bf1-a311-7174fcc907d6"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "droplet": {
          "href": "/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"
        }
      }
    },
  ]
}

</code></pre>

<p>This endpoint retrieves the tasks the user has access to.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
    <li class="method-list-item">
    <h4 class="method-list-item-label">
      app_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of app guids to filter by. <br>Example: <code>app_guids=app_guid1,app_guid2</code>
</p>
  </li>



  <li class="method-list-item">
    <h4 class="method-list-item-label">
      names

      <span class="method-list-item-type">optional</span>
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Comma-delimited list of task names to filter by.</p>
  </li>

  <li class="method-list-item">
    <h4 class="method-list-item-label">
      guids

      <span class="method-list-item-type">optional</span>
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Comma-delimited list of task guids to filter by.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      organization_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of organization guids to filter by. <br>Example: <code>organization_guids=organization_guid1,organization_guid2</code>
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      space_guids

        <span class="method-list-item-type">optional</span>
        <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">    Comma-delimited list of space guids to filter by. <br>Example: <code>space_guids=space_guid1,space_guid2</code>
</p>
  </li>



  <li class="method-list-item">
    <h4 class="method-list-item-label">
      states

      <span class="method-list-item-type">optional</span>
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Comma-delimited list of task states to filter by.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

          <h2 id="cancel-a-task-for-an-app">Cancel a task for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">PUT</span> <span class="nn">/v3/apps/:guid/tasks/:guid/cancel</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/[guid]/tasks/[guid]/cancel"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>

{
  "guid": "d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa",
  "name": "migrate",
  "command": "rake db:migrate",
  "state": "CANCELING",
  "memory_in_mb": 512,
  "environment_variables": {},
  "result": {
    "failure_reason": null
  },
  "droplet_guid": "740ebd2b-162b-469a-bd72-3edb96fabd9a",
  "created_at": "2016-05-04T17:00:41Z",
  "updated_at": "2016-05-04T17:00:42Z",
  "links": {
    "self": {
      "href": "/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"
    },
    "app": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
    },
    "droplet": {
      "href": "/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"
    }
  }
}

</code></pre>

<p>This endpoint cancels a running task.</p>

<p>Canceled tasks will initially be in state &ldquo;CANCELING&rdquo; and will move to state &ldquo;FAILED&rdquo; once the cancel request has been processed.</p>

<p>Cancel requests are idempotent and will be processed according to the state of the task when the request is executed.</p>

<p>Canceling a task that is in &ldquo;SUCCEEDED&rdquo; or &ldquo;FAILED&rdquo; state will return an error.</p>

<h3 id="body-parameters">Body Parameters</h3>

<p class='no-body-parameters-outer'>
  <span class='no-body-parameters-required'>
    No arguments
  </span>
</p>

          <h2 id="list-tasks-for-an-app">List tasks for an app</h2>
<pre class="highlight plaintext"><code>Definition
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/v3/apps/:guid/tasks</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.[your-domain.com]/v3/apps/:guid/tasks"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  "pagination": {
    "total_results": 3,
    "total_pages": 2,
    "first": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/tasks?page=1&amp;per_page=2"
    },
    "last": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/tasks?page=2&amp;per_page=2"
    },
    "next": {
      "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/tasks?page=2&amp;per_page=2"
    },
    "previous": null
  },
  "resources": [
    {
      "guid": "d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa",
      "name": "hello",
      "command": "[PRIVATE DATA HIDDEN IN LISTS]",
      "state": "SUCCEEDED",
      "memory_in_mb": 512,
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "result": {
        "failure_reason": null
      },
      "droplet_guid": "740ebd2b-162b-469a-bd72-3edb96fabd9a",
      "created_at": "2016-05-04T17:00:41Z",
      "updated_at": "2016-05-04T17:00:42Z",
      "links": {
        "self": {
          "href": "/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "droplet": {
          "href": "/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"
        }
      }
    },
    {
      "guid": "63b4cd89-fd8b-4bf1-a311-7174fcc907d6",
      "name": "migrate",
      "command": "[PRIVATE DATA HIDDEN IN LISTS]",
      "state": "FAILED",
      "memory_in_mb": 512,
      "environment_variables": {
        "redacted_message": "[PRIVATE DATA HIDDEN IN LISTS]"
      },
      "result": {
        "failure_reason": "Exited with status 1"
      },
      "droplet_guid": "740ebd2b-162b-469a-bd72-3edb96fabd9a",
      "created_at": "2016-05-04T17:00:41Z",
      "updated_at": "2016-05-04T17:00:42Z",
      "links": {
        "self": {
          "href": "/v3/tasks/63b4cd89-fd8b-4bf1-a311-7174fcc907d6"
        },
        "app": {
          "href": "/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"
        },
        "droplet": {
          "href": "/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"
        }
      }
    },
  ]
}

</code></pre>

<p>This endpoint retrieves the tasks the user has access to.</p>

<h3 id="query-parameters">Query Parameters</h3>

<ul class="method-list-group">
  <li class="method-list-item">
    <h4 class="method-list-item-label">
      guids

      <span class="method-list-item-type">optional</span>
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Comma-delimited list of task guids to filter by.</p>
  </li>

  <li class="method-list-item">
    <h4 class="method-list-item-label">
      names

      <span class="method-list-item-type">optional</span>
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Comma-delimited list of task names to filter by.</p>
  </li>

  <li class="method-list-item">
    <h4 class="method-list-item-label">
      states

      <span class="method-list-item-type">optional</span>
      <span class="method-list-item-type">string</span>
    </h4>

    <p class="method-list-item-description">Comma delimited list of task states to filter by.</p>
  </li>

    <li class="method-list-item">
    <h4 class="method-list-item-label">
      page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Page to display. Possible values are all integers >= 1.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      per_page

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Number of results per page. Possible values are 1 through 5000.
</p>
  </li>



    <li class="method-list-item">
    <h4 class="method-list-item-label">
      order_by

        <span class="method-list-item-type">optional</span>
    </h4>

    <p class="method-list-item-description">    Value to sort by. Defaults to ascending, or prepend with &ldquo;-&rdquo; to sort descending.
    <br>Possible values are <code>created_at</code> or <code>updated_at</code>.
</p>
  </li>


</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">curl</a>
          </div>
      </div>
    </div>
  </body>
</html>
