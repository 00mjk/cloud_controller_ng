<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Cloud Controller API Reference</title>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />

    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.2.36.min.js"></script>

      <script src="javascripts/all.js"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper tocify-sidebar">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">curl</a>
        </div>

      <div id="version-dropdown">
        <div class="dropdown">
          <button type="button" id="version-dropdown-button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Release Candidate<span class="caret">&#x25BE;</span></button>
          <ul id="version-dropdown-menu" class="dropdown-menu" role="menu" aria-labelledby="version-dropdown-button">
            <div class="dropdown-filter">
              <div class="dropdown-search-bar">
                <input id="version-select" type="text" placeholder="Filter">
              </div>
              <div class="dropdown-content">
                <ul class="dropdown-list" id="version-list">
                </ul>
              </div>
              <div class="dropdown-footer dropdown-content">
                <ul class="dropdown-list">
                  <li><a id="release-candidate" href="/version/release-candidate">Release Candidate</a></li>
                  <li><a id="latest-release" href="/">Latest</a></li>
                </ul>
              </div>
            </div>
          </ul>
        </div>
      </div>

        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>

      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          











          



          

          
          



          


          

          

          





          


          

          




          

          



          





          




          
          

          

          




          

          


          


          

          


          

          


          <h1 id="introduction">Introduction</h1>

<h2 id="overview">Overview</h2>

<p>Welcome to the Cloud Foundry V3 API docs! Version 3 will add support for several
key features:</p>

<ul>
<li>Running one-off tasks on Cloud Foundry</li>
<li>Applications consisting of several processes via a Procfile</li>
<li>Direct access to application packages and droplets</li>
</ul>

<h2 id="getting-help">Getting help</h2>

<p>The CAPI team can most easily be reached from our <a href="https://cloudfoundry.slack.com/messages/capi/">slack channel</a> for
questions and issues regarding the API. To report an issue with the docs or API, please feel free to file a github
issue on our API repo <a href="https://github.com/cloudfoundry/cloud_controller_ng">cloud_controller_ng</a>.</p>

<p>We recommend reaching out to slack first as the team will be most responsive there.</p>

<h2 id="more-resources">More Resources</h2>

<ul>
<li>The <a href="http://apidocs.cloudfoundry.org/">Cloud Foundry V2 API</a> is still the primary API for interacting with Cloud Foundry.</li>
<li><a href="https://docs.cloudfoundry.org/devguide/using-tasks.html">Running Tasks</a></li>
<li><a href="https://github.com/cloudfoundry/cloud_controller_ng/tree/master/docs/v3">V3 API Documentation Source Code</a></li>
</ul>

          <h1 id="concepts">Concepts</h1>

          <h2 id="api-resource">API Resource</h2>

<p>A resource represents an individual object within the system, such as an app or a service. It is represented as a JSON object.</p>

<p>A resource consists of several required resource fields and other attributes specific to the resource.</p>

<p>See <a href="#resources">Resources</a> and <a href="#experimental-resources">Experimental Resources</a> for specific resources.</p>

<h3 id="required-fields">Required fields</h3>
<pre class="highlight plaintext"><code>Example Person Resource
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T23:26:46Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">

  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">

  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/people/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>The unique identifier for the resource.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The ISO8601 compatible date and time when resource was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The ISO8601 compatible date and time when resource was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Provide URLs to related resources and actions for the current resource.</td>
</tr>
</tbody></table>

<h3 id="links">Links</h3>

<p>Links provide URLs to <a href="#relationships">relationships</a> and actions for a resource. Links are represented as a JSON object and will always contain at least a <code class="prettyprint">self</code> link.</p>

<p>Each link is keyed by its type and will include a <code class="prettyprint">href</code> for the URL and an optional <code class="prettyprint">method</code> for links that cannot be followed using <code class="prettyprint">GET</code>.</p>

<h4 id="the-link-object">The link object</h4>
<pre class="highlight plaintext"><code>Example Link object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/some/endpoint"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>href</strong></td>
<td><em>string</em></td>
<td>The absolute URL.</td>
</tr>
<tr>
<td><strong>method</strong></td>
<td><em>string</em></td>
<td>An optional field containing the HTTP method to be used when following the URL.</td>
</tr>
</tbody></table>

          <h2 id="authentication">Authentication</h2>

<p>The Cloud Foundry V3 API is secured using OAuth 2. Clients are expected to present a valid bearer token via HTTP header: <code class="prettyprint">Authorization: bearer &lt;token&gt;</code></p>

<p>Tokens can be obtained from the Cloud Foundry UAA server. For more information, see the <a href="http://docs.cloudfoundry.org/api/uaa/index.html">UAA API Documentation</a></p>

<aside class="notice">
Use the cf cli to obtain a bearer token: cf oauth-token
</aside>

          <h2 id="authorization">Authorization</h2>

<p>Access to resources is determined by combining scopes in the OAuth2 Token with User Roles that are managed by the API. User Roles are currently managed by the <a href="http://apidocs.cloudfoundry.org/">V2 API</a>.</p>

<h4 id="oauth2-scopes">OAuth2 Scopes</h4>

<table><thead>
<tr>
<th>Scope</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cloud_controller.admin</td>
<td>This scope provides read and write access to all resources</td>
</tr>
<tr>
<td>cloud_controller.admin_read_only</td>
<td>This scope provides read only access to all resources</td>
</tr>
<tr>
<td>cloud_controller.global_auditor</td>
<td>This scope provides read only access to all resources except secrets (such as environment variables)</td>
</tr>
<tr>
<td>cloud_controller.read</td>
<td>This scope provides read access to resources based on user roles</td>
</tr>
<tr>
<td>cloud_controller.write</td>
<td>This scope provides write access to resources based on user roles</td>
</tr>
</tbody></table>

<h4 id="cloud-foundry-user-roles">Cloud Foundry User Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td>Allows a user to manage the platform. OAuth token must contain <code class="prettyprint">cloud_controller.admin</code> scope.</td>
</tr>
<tr>
<td>Admin Read-Only</td>
<td>Allows a user to read all resources on the platform. OAuth token must contain <code class="prettyprint">cloud_controller.admin_read_only</code> scope.</td>
</tr>
<tr>
<td>Global Auditor</td>
<td>Allows a user to read all resources on the platform, excluding sensitive data such as environment variables and service bindings. OAuth token must contain <code class="prettyprint">cloud_controller.global_auditor</code> scope.</td>
</tr>
<tr>
<td>Org Member</td>
<td>Allows a user to be assigned other roles within an Organization and its Spaces</td>
</tr>
<tr>
<td>Org Manager</td>
<td>Provides Organization management access</td>
</tr>
<tr>
<td>Org Auditor</td>
<td>Provides read-only access to a Organization for auditing purposes</td>
</tr>
<tr>
<td>Org Billing Manager</td>
<td>Allows a user to create and manage billing account and payment information</td>
</tr>
<tr>
<td>Space Developer</td>
<td>Allows developers to create and manage apps and services in a Space</td>
</tr>
<tr>
<td>Space Manager</td>
<td>Provides Space management access</td>
</tr>
<tr>
<td>Space Auditor</td>
<td>Provides read-only access to a Space for auditing purposes</td>
</tr>
</tbody></table>

          <h2 id="errors">Errors</h2>
<pre class="highlight plaintext"><code>Example Error
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">10008</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-UnprocessableEntity"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"something went wrong"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>An error response will always return a list of error objects in the <code class="prettyprint">errors</code> field.</p>

<h4 id="the-error-object">The error object</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>code</strong></td>
<td><em>integer</em></td>
<td>A numeric code for this error.</td>
</tr>
<tr>
<td><strong>title</strong></td>
<td><em>string</em></td>
<td>Short description of the error.</td>
</tr>
<tr>
<td><strong>detail</strong></td>
<td><em>string</em></td>
<td>Detailed description of the error.</td>
</tr>
</tbody></table>

          <h2 id="include">Include</h2>

<p>The <code class="prettyprint">include</code> parameter allows clients to fetch resources and ensure that information about the parent object(s) is part of the response.
For example, a response to <code class="prettyprint">/v3/spaces/:guid?include=org</code> will contain detailed information about the space and its parent org.</p>

<p>Developers may choose to use the <code class="prettyprint">include</code> feature to reduce the number of API calls. The include
query param can be used with a single resource or a list of resources.</p>

<h3 id="resources">Resources</h3>

<p>The following resources can take an <code class="prettyprint">include</code> parameter:</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Allowed values</th>
</tr>
</thead><tbody>
<tr>
<td><strong>apps</strong></td>
<td><code class="prettyprint">org</code>, <code class="prettyprint">space</code></td>
</tr>
<tr>
<td><strong>apps/[:guid]</strong></td>
<td><code class="prettyprint">org</code>, <code class="prettyprint">space</code></td>
</tr>
<tr>
<td><strong>spaces</strong></td>
<td><code class="prettyprint">org</code></td>
</tr>
<tr>
<td><strong>spaces/[:guid]</strong></td>
<td><code class="prettyprint">org</code></td>
</tr>
</tbody></table>

<h3 id="sample-requests">Sample requests</h3>
<pre class="highlight plaintext"><code>Example request to apps resource to include parent orgs and spaces
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps?include=org,space"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example response
</code></pre>
<pre class="highlight java"><code><span class="o">{</span>
   <span class="s">"pagination"</span><span class="o">:</span> <span class="o">{</span>
      <span class="s">"total_results"</span><span class="o">:</span> <span class="mi">2</span>
      <span class="c1">// rest of pagination omitted</span>
   <span class="o">},</span>
   <span class="s">"resources"</span><span class="o">:</span> <span class="o">[</span>
      <span class="o">{</span>
         <span class="s">"guid"</span><span class="o">:</span> <span class="s">"42ad8d5a-8124-4fc7-baf2-3f39bfe1c170"</span><span class="o">,</span>
         <span class="s">"name"</span><span class="o">:</span> <span class="s">"app1"</span>
         <span class="c1">// rest omitted</span>
      <span class="o">},</span>
      <span class="o">{</span>
         <span class="s">"guid"</span><span class="o">:</span> <span class="s">"b90f287b-fcdd-4cbb-9523-1a8dbd2a9837"</span><span class="o">,</span>
         <span class="s">"name"</span><span class="o">:</span> <span class="s">"app2"</span>
         <span class="c1">// rest omitted</span>
      <span class="o">}</span>
   <span class="o">],</span>
   <span class="s">"included"</span><span class="o">:</span> <span class="o">{</span>
      <span class="s">"spaces"</span><span class="o">:</span> <span class="o">[</span>
         <span class="o">{</span>
            <span class="s">"guid"</span><span class="o">:</span> <span class="s">"134f95ad-b5eb-4b55-9ce0-b906c513d54b"</span><span class="o">,</span>
            <span class="s">"name"</span><span class="o">:</span> <span class="s">"space1"</span>
            <span class="c1">// rest of info on space1 omitted</span>
         <span class="o">},</span>
         <span class="o">{</span>
            <span class="s">"guid"</span><span class="o">:</span> <span class="s">"00b76d5c-5176-4cbc-be5d-0bd76363dca9"</span><span class="o">,</span>
            <span class="s">"name"</span><span class="o">:</span> <span class="s">"space2"</span>
            <span class="c1">// rest of info on space2 omitted</span>
         <span class="o">}</span>
      <span class="o">],</span>
      <span class="s">"organizations"</span><span class="o">:</span> <span class="o">[</span>
         <span class="o">{</span>
            <span class="s">"guid"</span><span class="o">:</span> <span class="s">"b2075a71-28b6-411a-a896-56f75d892f58"</span><span class="o">,</span>
            <span class="s">"name"</span><span class="o">:</span> <span class="s">"org1"</span>
            <span class="c1">// rest of info on org1 omitted</span>
         <span class="o">},</span>
         <span class="o">{</span>
            <span class="s">"guid"</span><span class="o">:</span> <span class="s">"b56fbd01-296b-442b-8faf-a559aebf985e"</span><span class="o">,</span>
            <span class="s">"name"</span><span class="o">:</span> <span class="s">"org2"</span>
            <span class="c1">// rest of info on org2 omitted</span>
         <span class="o">}</span>
      <span class="o">]</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight plaintext"><code>Example request for a single app instance to include its parent space
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]?include=space"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example response
</code></pre>
<pre class="highlight java"><code><span class="o">{</span>
   <span class="s">"guid"</span><span class="o">:</span> <span class="s">"b90f287b-fcdd-4cbb-9523-1a8dbd2a9837"</span><span class="o">,</span>
   <span class="s">"name"</span><span class="o">:</span> <span class="s">"staticfile"</span><span class="o">,</span>
   <span class="c1">// ...</span>
   <span class="s">"included"</span><span class="o">:</span> <span class="o">{</span>
      <span class="s">"spaces"</span><span class="o">:</span> <span class="o">[</span>
         <span class="o">{</span>
            <span class="s">"guid"</span><span class="o">:</span> <span class="s">"00b76d5c-5176-4cbc-be5d-0bd76363dca9"</span><span class="o">,</span>
            <span class="s">"name"</span><span class="o">:</span> <span class="s">"space1a"</span>
           <span class="c1">// ...</span>
         <span class="o">}</span>
      <span class="o">]</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight plaintext"><code>Example request for all spaces including their parent orgs
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/spaces?include=org"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>    Example Response
</code></pre>
<pre class="highlight java"><code><span class="o">{</span>
   <span class="s">"pagination"</span><span class="o">:</span> <span class="o">{</span>
      <span class="s">"total_results"</span><span class="o">:</span> <span class="mi">4</span><span class="o">,</span>
      <span class="s">"total_pages"</span><span class="o">:</span> <span class="mi">1</span><span class="o">,</span>
     <span class="c1">// ...</span>
   <span class="o">},</span>
   <span class="s">"resources"</span><span class="o">:</span> <span class="o">[</span>
      <span class="o">{</span>
         <span class="s">"guid"</span><span class="o">:</span> <span class="s">"134f95ad-b5eb-4b55-9ce0-b906c513d54b"</span><span class="o">,</span>
         <span class="s">"name"</span><span class="o">:</span> <span class="s">"space"</span>
         <span class="c1">// ...</span>
      <span class="o">},</span>
      <span class="o">{</span>
         <span class="s">"guid"</span><span class="o">:</span> <span class="s">"00b76d5c-5176-4cbc-be5d-0bd76363dca9"</span><span class="o">,</span>
         <span class="s">"name"</span><span class="o">:</span> <span class="s">"space1a"</span>
        <span class="c1">// ...</span>
      <span class="o">},</span>
      <span class="o">{</span>
         <span class="s">"guid"</span><span class="o">:</span> <span class="s">"615e724a-dfae-4846-836b-8c413f6192cd"</span><span class="o">,</span>
         <span class="s">"name"</span><span class="o">:</span> <span class="s">"space1b"</span>
         <span class="c1">// ...</span>
      <span class="o">},</span>
      <span class="o">{</span>
         <span class="s">"guid"</span><span class="o">:</span> <span class="s">"5801b8dd-5ca6-41bb-ba23-690e703c631a"</span><span class="o">,</span>
         <span class="s">"name"</span><span class="o">:</span> <span class="s">"space2a"</span>
        <span class="c1">// ...</span>
      <span class="o">}</span>
   <span class="o">],</span>
   <span class="s">"included"</span><span class="o">:</span> <span class="o">{</span>
      <span class="s">"organizations"</span><span class="o">:</span> <span class="o">[</span>
         <span class="o">{</span>
            <span class="s">"guid"</span><span class="o">:</span> <span class="s">"b2075a71-28b6-411a-a896-56f75d892f58"</span><span class="o">,</span>
            <span class="s">"name"</span><span class="o">:</span> <span class="s">"org"</span>
            <span class="c1">// ...</span>
         <span class="o">},</span>
         <span class="o">{</span>
            <span class="s">"guid"</span><span class="o">:</span> <span class="s">"b56fbd01-296b-442b-8faf-a559aebf985e"</span><span class="o">,</span>
            <span class="s">"name"</span><span class="o">:</span> <span class="s">"org1"</span>
            <span class="c1">// ...</span>
         <span class="o">},</span>
         <span class="o">{</span>
            <span class="s">"guid"</span><span class="o">:</span> <span class="s">"c4bf7e09-57e7-453c-8b8e-fbebc986201e"</span><span class="o">,</span>
            <span class="s">"name"</span><span class="o">:</span> <span class="s">"org2"</span>
            <span class="c1">// ...</span>
         <span class="o">}</span>
      <span class="o">]</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h2 id="lifecycles">Lifecycles</h2>

<p>Lifecycles inform the platform of how to build droplets and run apps. For example the
<code class="prettyprint">buildpack</code> lifecycle will use a droplet and a rootfs to run the app, while a <code class="prettyprint">docker</code> lifecycle will
pull a docker image from a registry to run an app.</p>

<h4 id="the-lifecycle-object">The lifecycle object</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td>Type of the lifecycle. Valid values are <code class="prettyprint">buildpack</code>, <code class="prettyprint">docker</code>.</td>
</tr>
<tr>
<td><strong>data</strong></td>
<td><em>object</em></td>
<td>Data that is used during staging and running for a lifecycle.</td>
</tr>
</tbody></table>

<h3 id="buildpack-lifecycle">Buildpack lifecycle</h3>
<pre class="highlight plaintext"><code>Example Buildpack Lifecycle
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java_buildpack"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This is the default lifecycle for Cloud Foundry. When staging an app with this lifecycle, the app source code will be
compiled using a buildpack, resulting in a droplet.  When running an app with this lifecycle, a container running a rootfs
will be created and the droplet will be expanded inside that container to be executed.</p>

<h4 id="buildpack-lifecycle-object">Buildpack lifecycle object</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td><code class="prettyprint">buildpack</code></td>
</tr>
<tr>
<td><strong>data.buildpacks</strong></td>
<td><em>array of strings</em></td>
<td>A list of the names of buildpacks, URLs from which they may be downloaded, or null to auto-detect a suitable buildpack.</td>
</tr>
<tr>
<td><strong>data.stack</strong></td>
<td><em>string</em></td>
<td>The root filesystem to use with the buildpack, for example <code class="prettyprint">cflinuxfs3</code></td>
</tr>
</tbody></table>

<h3 id="docker-lifecycle">Docker lifecycle</h3>

<p>This allows Cloud Foundry to run docker images. When staging an app with this lifecycle, the docker registry is queried for
metadata about the image, such as ports and start command.  When running an app with this lifecycle, a container is created
and the docker image is executed inside of it.</p>

<h4 id="docker-lifecycle-object">Docker lifecycle object</h4>
<pre class="highlight plaintext"><code>Example Docker Lifecycle
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td><code class="prettyprint">docker</code></td>
</tr>
<tr>
<td><strong>data</strong></td>
<td><em>object</em></td>
<td>Data is not used by the docker lifecycle. Valid value is <code class="prettyprint">{}</code>.</td>
</tr>
</tbody></table>

          <h2 id="metadata">Metadata</h2>

<p>Metadata allows you to tag <a href="#api-resource">API Resources</a> with information that does not directly affect its functionality.</p>

<h3 id="annotations">Annotations</h3>
<pre class="highlight plaintext"><code>Example Resource with Annotations
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T23:26:46Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">

  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api-server"</span><span class="p">,</span><span class="w">

  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bill tel(1111111) email(bill@fixme), Bob tel(222222) pager(3333333#555) email(bob@fixme)"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">

  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Annotations are user-specified key/value pairs that are attached to <a href="#api-resource">API Resources</a>. Annotations are not queryable, non-identifying attributes of a resource, and they do not affect the operation of CloudFoundry.</p>

<p>Examples may include (but are not limited to):</p>

<ul>
<li><code class="prettyprint">&quot;contact info&quot;: &quot;bob@example.com jane@example.com&quot;</code></li>
<li><code class="prettyprint">&quot;library versions&quot;: &quot;Spring: 5.1, Redis Client: a184098. yaml parser: 38&quot;</code></li>
<li><code class="prettyprint">&quot;git-sha&quot;: &quot;d56fe0367554ae5e878e37ed6c5b9a82f5995512&quot;</code></li>
</ul>

<h4 id="annotation-key">Annotation Key</h4>

<p>Annotation keys are made up of an (optional) prefix, and name. If a prefix is present, it is separated from the name by a <code class="prettyprint">/</code>.
Prefixes are dns names intended to enable namespacing of annotation keys.</p>

<p>A annotation key <code class="prettyprint">prefix</code> must adhere to the following restrictions:</p>

<ul>
<li>Length: 0-253 characters</li>
<li>Allowed characters: alphanumeric, <code class="prettyprint">-</code>, and <code class="prettyprint">.</code></li>
<li>DNS subdomain format (series of subdomain annotations separated by <code class="prettyprint">.</code>)</li>
</ul>

<p>A annotation key <code class="prettyprint">name</code> must adhere to the following restrictions:</p>

<ul>
<li>Length: 1-63 characters</li>
<li>Allowed characters: alphanumeric , <code class="prettyprint">-</code>, <code class="prettyprint">_</code>, and <code class="prettyprint">.</code></li>
<li>Must begin and end with an alphanumeric character</li>
</ul>

<h4 id="annotation-value">Annotation Value</h4>

<p>Annotation values must adhere to the following restrictions:</p>

<ul>
<li>Length: 0-5000 characters</li>
</ul>

<h3 id="labels-and-selectors">Labels and Selectors</h3>

<p>Labels are user-specified key/value pairs that are attached to <a href="#api-resource">API Resources</a>.
They are queryable, identifying attributes of a resource, but they do not affect the operation of CloudFoundry.</p>

<p>For example, an app may be assigned a label with key <code class="prettyprint">sensitive</code> and possible values <code class="prettyprint">true</code> or <code class="prettyprint">false</code>.</p>

<p>Users could then find all sensitive apps with a selector for <code class="prettyprint">sensitive=true</code>, resulting in a response containing
only apps having the label key <code class="prettyprint">sensitive</code> with a label value of <code class="prettyprint">false</code>.</p>

<h4 id="labels">Labels</h4>
<pre class="highlight plaintext"><code>Example Resource with Labels
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T23:26:46Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">

  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api-server"</span><span class="p">,</span><span class="w">

  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"production"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"internet-facing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">},</span><span class="w">

  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Labels allow users to apply identifying attributes to resources that are meaningful to the user, but not the CloudFoundry system.</p>

<p>Examples may include (but are not limited to):</p>

<ul>
<li><code class="prettyprint">&quot;production&quot; : &quot;true&quot;</code> or <code class="prettyprint">&quot;production&quot; : &quot;false&quot;</code></li>
<li><code class="prettyprint">&quot;env&quot; : &quot;dev&quot;</code> or <code class="prettyprint">&quot;env&quot; : &quot;test&quot;</code> or <code class="prettyprint">&quot;env&quot; : &quot;prod&quot;</code></li>
<li><code class="prettyprint">&quot;chargeback-code&quot; : &quot;abc123&quot;</code></li>
</ul>

<p><strong>Label Keys</strong></p>

<p>Label keys are made up of an (optional) prefix, and name. If a prefix is present, it is separated from the name by a <code class="prettyprint">/</code>.
Prefixes are dns names intended to enable namespacing of label keys.</p>

<p>A label key <code class="prettyprint">prefix</code> must adhere to the following restrictions:</p>

<ul>
<li>Length: 0-253 characters</li>
<li>Allowed characters: alphanumeric, <code class="prettyprint">-</code>, and <code class="prettyprint">.</code></li>
<li>DNS subdomain format (series of subdomain labels separated by <code class="prettyprint">.</code>)</li>
</ul>

<p>A label key <code class="prettyprint">name</code> must adhere to the following restrictions:</p>

<ul>
<li>Length: 1-63 characters</li>
<li>Allowed characters: alphanumeric , <code class="prettyprint">-</code>, <code class="prettyprint">_</code>, and <code class="prettyprint">.</code></li>
<li>Must begin and end with an alphanumeric character</li>
</ul>

<p><strong>Label Values</strong></p>

<p>Label values must adhere to the following restrictions:</p>

<ul>
<li>Length: 0-63 characters</li>
<li>Allowed characters: alphanumeric , <code class="prettyprint">-</code>, <code class="prettyprint">_</code>, and <code class="prettyprint">.</code></li>
<li>Must begin and end with an alphanumeric character</li>
<li>Empty values are allowed</li>
</ul>

<h4 id="selectors">Selectors</h4>
<pre class="highlight plaintext"><code>Example label selector
</code></pre>
<pre class="highlight shell"><code>cf curl /v3/apps?label_selector<span class="o">=</span><span class="nv">env</span><span class="o">=</span>dev,%21chargeback-code,tier%20in%20%28backend,worker%29
</code></pre>

<p>Selectors allow users to filter and group API resources by the labels applied to them. A selector consists of one or
more <code class="prettyprint">requirements</code> in a comma-delimited list.</p>

<p><em>eg:</em> <code class="prettyprint">env=dev,!chargeback-code,tier in (backend,worker)</code></p>

<p>Selectors can be used to filter and group resources using the query parameter <code class="prettyprint">label_selector</code> on list endpoints.</p>

<aside class="notice">
When included in a url, the selector must be appropriately escaped.
</aside>

<p>A requirement consists of a <em>key</em>, an <code class="prettyprint">operator</code>, and optional <em>value(s)</em>.</p>

<table><thead>
<tr>
<th>Requirement</th>
<th>Format</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>existence</td>
<td><em>key</em></td>
<td>Returns all resources that have been assigned a label with the given <em>key</em> (with any <em>value</em>)</td>
</tr>
<tr>
<td>non-existence</td>
<td><code class="prettyprint">!</code><em>key</em></td>
<td>Returns all resources that have not been assigned a label with the given <em>key</em> (with any <em>value</em>)</td>
</tr>
<tr>
<td>equality</td>
<td><em>key</em><code class="prettyprint">=</code><em>value</em> or <em>key</em><code class="prettyprint">==</code><em>value</em></td>
<td>Returns all resources that have been assigned a label with the given <em>key</em> and <em>value</em></td>
</tr>
<tr>
<td>inequality</td>
<td><em>key</em><code class="prettyprint">!=</code><em>value</em></td>
<td>Returns all resources that either have not been assigned a label with the given <em>key</em> or have a label with the given <em>key</em> but a different <em>value</em></td>
</tr>
<tr>
<td>set inclusion</td>
<td><em>key</em> <code class="prettyprint">in</code> (<em>value1</em>,<em>value2</em>&hellip;)</td>
<td>Returns all resources that have been assigned a label with the given <em>key</em> with one of the specified <em>value(s)</em></td>
</tr>
<tr>
<td>set exclusion</td>
<td><em>key</em> <code class="prettyprint">notin</code> (<em>value1</em>,<em>value2</em>&hellip;)</td>
<td>Returns all resources that either have not been assigned a label with the given <em>key</em> or have a label with the given <em>key</em> but none of the specified <em>value(s)</em></td>
</tr>
</tbody></table>

<p>See <a href="https://docs.cloudfoundry.org/adminguide/metadata.html#query">the metadata documentation</a> for more information.</p>

<h3 id="updating-labels-and-annotations">Updating Labels and Annotations</h3>

<p>Labels and annotations can be updated by using the PATCH endpoint for their resource.
For example, to update labels or annotations on an app, use the <a href="#update-an-app">update an app</a> endpoint.
When patching metadata, CAPI endpoints do a deep merge, only updating labels or annotations that are specified in the request.</p>

<p>Labels and annotations follow the same rules for patching and must be wrapped in the metadata object inside the request body</p>

<ul>
<li>To create, include the new key with a value</li>
<li>To change, include the existing key with a new value</li>
<li>To delete, include the existing key with a <code class="prettyprint">null</code> value</li>
<li>To remain unchanged, do not include the existing key.</li>
</ul>
<pre class="highlight plaintext"><code>Example Initial Metadata
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"staging"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ready-to-deploy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nt">"spring-version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.1"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"app-version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1-alpha"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight plaintext"><code>Example Patch Request Body
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"production"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ready-to-deploy"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nt">"app-version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"deployed-month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"november"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight plaintext"><code>Example Final Metadata
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"production"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="nt">"spring-version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.1"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"app-version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
       </span><span class="nt">"deployed-month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"november"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h2 id="pagination">Pagination</h2>

<p>Any request that can return multiple resources will be paginated and contain a <code class="prettyprint">pagination</code> object and list of <code class="prettyprint">resources</code>.
Requests for multiple resources can use <code class="prettyprint">page</code>, <code class="prettyprint">per_page</code>, and <code class="prettyprint">order_by</code> in addition to filters specific to the endpoint.</p>

<h4 id="the-pagination-object">The pagination object</h4>
<pre class="highlight plaintext"><code>Example Paginated Response
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/people?page=1&amp;per_page=1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/people?page=3&amp;per_page=1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/people?page=2&amp;per_page=1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T23:26:46Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">

      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">

      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/people/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>total_results</strong></td>
<td><em>integer</em></td>
<td>Total number of resources for all pages.</td>
</tr>
<tr>
<td><strong>total_pages</strong></td>
<td><em>integer</em></td>
<td>Total number of pages.</td>
</tr>
<tr>
<td><strong>first</strong></td>
<td><a href="#the-link-object"><em>link object</em></a></td>
<td>Link to the first page.</td>
</tr>
<tr>
<td><strong>last</strong></td>
<td><a href="#the-link-object"><em>link object</em></a></td>
<td>Link to the last page.</td>
</tr>
<tr>
<td><strong>next</strong></td>
<td><a href="#the-link-object"><em>link object</em></a></td>
<td>Link to the next page.</td>
</tr>
<tr>
<td><strong>previous</strong></td>
<td><a href="#the-link-object"><em>link object</em></a></td>
<td>Link to the previous page.</td>
</tr>
</tbody></table>

          <h2 id="procfiles">Procfiles</h2>
<pre class="highlight plaintext"><code>Example Ruby Procfile
</code></pre>
<pre class="highlight yaml"><code><span class="s">web</span><span class="pi">:</span> <span class="s">bundle exec rackup config.ru -p $PORT</span>
<span class="s">rake</span><span class="pi">:</span> <span class="s">bundle exec rake</span>
<span class="s">worker</span><span class="pi">:</span> <span class="s">bundle exec rake workers:start</span>
</code></pre>

<p>A Procfile enables you to declare required runtime processes, called process types, for your app.
Procfiles must be named <code class="prettyprint">Procfile</code> exactly, and placed in the root directory of your application.</p>

<p>In a Procfile, you declare one process type per line and use the syntax <code class="prettyprint">PROCESS_TYPE: COMMAND</code>.</p>

<ul>
<li><code class="prettyprint">PROCESS_TYPE</code> defines the type of the process.</li>
<li><code class="prettyprint">COMMAND</code> is the command line to launch the process.</li>
</ul>

<h4 id="procfile-use-cases">Procfile use cases</h4>

<p>Many buildpacks provide their own process types and commands by default; however, there are special cases where specifying a custom <code class="prettyprint">COMMAND</code> is necessary.
Commands can be overwritten by providing a Procfile with the same process type.</p>

<p>For example, a buildpack may provide a <code class="prettyprint">worker</code> process type that runs the <code class="prettyprint">rake default:start</code> command.
If a Procfile is provided that also contains a <code class="prettyprint">worker</code> process type, but a different command such as <code class="prettyprint">rake custom:start</code>, the <code class="prettyprint">rake custom:start</code> command will be used.</p>

<p>Some buildpacks, such as Python, that work on a variety of frameworks, do not attempt to provide a default start command. For these cases, a Procfile should be used to specify any necessary commands for the app.</p>

<h4 id="web-process">Web process</h4>

<p><code class="prettyprint">web</code> is a <a href="#web-process-type">special process type</a> that is required for all applications.
The <code class="prettyprint">web</code> <code class="prettyprint">PROCESS_TYPE</code> must be specified by either the buildpack or the Procfile.</p>

          <h2 id="relationships">Relationships</h2>

<p>Relationships represent associations between resources. They can be used to create, read, update, and delete these associations.</p>

<p>Relationships do not affect the fundamental properties of a resource, but may affect their behavior and permissions logic.
Relationships are tied to the lifecycles of the associated resources and will be removed if either of the associated resources are deleted.</p>

<p>Not all resources implement every relationship operation listed below. See the docs for each resource to see how it interacts with its relationships.</p>

<h4 id="the-relationship-object">The relationship object</h4>

<p>The relationship object is a key-value pair that uniquely identifies a resource. In practice this is almost always the <code class="prettyprint">guid</code> of a resource.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>string</em></td>
<td>The unique identifier for the related resource.</td>
</tr>
</tbody></table>

<h3 id="to-one-relationships">To-One relationships</h3>
<pre class="highlight plaintext"><code>Example to-one relationship
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[related-resource-guid]"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Some relationships relate a resource to exactly one other resource. For example an app can belong to only one space.</p>

<h4 id="to-one-relationship-object">To-One relationship object</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>data</strong></td>
<td><em><a href="#the-relationship-object">relationship object</a></em></td>
<td>A single relationship</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>Setting the to-one relationship while creating an object
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/books"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "color": "yellow",
    "relationships": {
      "publisher": {
        "data": {
          "guid": "publisher-guid"
        }
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Modifying the to-one relationship
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/books/[guid]/relationships/publisher"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "data": {
      "guid": "publisher-guid"
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Removing the to-one relationship
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/books/[guid]/relationships/publisher"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "data": null }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Viewing the to-one relationship
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/books/[guid]/relationships/publisher"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>

<h3 id="to-many-relationships">To-Many relationships</h3>
<pre class="highlight plaintext"><code>Example to-many relationship
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[related-resource-guid-1]"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[related-resource-guid-2]"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Some relationships relate an resource to several other resources. For example an Isolation Segment can be entitled to multiple organizations.</p>

<h4 id="to-many-relationship-object">To-Many relationship object</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>data</strong></td>
<td><em>array of <a href="#the-relationship-object">relationship objects</a></em></td>
<td>An array of multiple relationships.</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>Adding related to-many resources
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/books/[guid]/relationships/authors"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "data": [
      { "guid":"author-guid-1" },
      { "guid":"author-guid-2" }
    ]
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Replacing all to-many relationships
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/books/[guid]/relationships/authors"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "data": [
      { "guid":"author-guid-3" },
      { "guid":"author-guid-4" }
    ]
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Removing all to-many relationships
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/books/[guid]/relationships/authors"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "data": [] }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Removing specific to-many relationships
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/books/[guid]/relationships/authors/[author-guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Viewing the to-many relationships
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/books/[guid]/relationships/authors"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>

          <h2 id="status-codes">Status Codes</h2>

<p>Cloud Foundry V3 API uses a subset of HTTP response codes to indicate the success or failure of an API request.
In general, codes in the 2xx range indicate success, codes in the 4xx range indicate an error that can potentially be fixed by correcting the request, and codes in the 5xx range indicate an error on the server side.</p>

<table><thead>
<tr>
<th>HTTP Status Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200 OK</td>
<td>The request completed successfully.</td>
</tr>
<tr>
<td>201 Created</td>
<td>The request completed successfully and created a new resource.</td>
</tr>
<tr>
<td>202 Accepted</td>
<td>The request will be completed asynchronously.</td>
</tr>
<tr>
<td>204 No Content</td>
<td>The request completed successfully and did not return a body.</td>
</tr>
<tr>
<td>400 Bad Request</td>
<td>The request has malformed or invalid data.</td>
</tr>
<tr>
<td>401 Unauthenticated</td>
<td>The request requires an authenticated user.</td>
</tr>
<tr>
<td>403 Forbidden</td>
<td>The request cannot be performed by the user.</td>
</tr>
<tr>
<td>404 Not Found</td>
<td>The requested resource does not exist.</td>
</tr>
<tr>
<td>422 Unprocessable Entity</td>
<td>The request cannot be performed.</td>
</tr>
<tr>
<td>500 Internal Server Error</td>
<td>An unexpected error occurred.</td>
</tr>
<tr>
<td>502 Bad Gateway</td>
<td>An upstream service caused the request to fail.</td>
</tr>
</tbody></table>

          <h1 id="workflows">Workflows</h1>

<p>Many users will think of interactions with Cloud Foundry in terms of a single operation like <code class="prettyprint">cf push</code> in order to upload an application to the platform, have it compiled, and schedule it to be run.
Performing a push operation actually requires a client to orchestrate several requests to the API to accomplish the entire operation.
This section is meant to explain how clients can perform complex workflows using the API.</p>

<h2 id="push-v2-app-and-run-a-v3-task">Push V2 App and Run a V3 Task</h2>

<p>As of CF-245, a V2 Application is also available as a V3 Application, allowing a user to run a V3 Task against it.</p>

<ol>
<li>Push an application: <code class="prettyprint">cf push v3-tasks-sample</code></li>
<li>Construct a task creation curl: <code class="prettyprint">cf curl /v3/apps/$(cf app v3-tasks-sample --guid)/tasks -X POST -d &#39;{&quot;command&quot;:&quot;echo foo; sleep 5; echo bar;&quot;}&#39;</code></li>
<li>Get logs from task: <code class="prettyprint">cf logs v3-tasks-sample --recent</code></li>
<li>Check task state: <code class="prettyprint">cf curl /v3/apps/$(cf app v3-tasks-sample --guid)/tasks</code></li>
</ol>

<p>For more information, see <a href="#create-a-task">Create a task</a>.</p>

          <h1 id="resources">Resources</h1>

          <h2 id="apps">Apps</h2>

<p>Apps are top-level objects that link together and contain configuration
information for your packages, droplets, processes, tasks, and more.</p>

          <h3 id="the-app-object">The app object</h3>
<pre class="highlight plaintext"><code>Example App object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOPPED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java_buildpack"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"processes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route_mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/environment_variables"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/start"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/stop"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"deployed_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions/deployed"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the app.</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>Current desired state of the app. Valid values are <code class="prettyprint">STOPPED</code> or <code class="prettyprint">STARTED</code>.</td>
</tr>
<tr>
<td><strong>lifecycle</strong></td>
<td><a href="#the-lifecycle-object"><em>lifecycle object</em></a></td>
<td>Provides the lifecycle object for the application.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the app.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>relationships.space</strong> <em>(experimental)</em></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>The space the app is contained in.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the app.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations added to the app.</td>
</tr>
</tbody></table>

          <h3 id="create-an-app">Create an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "my_app",
    "relationships": {
      "space": {
        "data": {
          "guid": "2f35885d-0c9d-4423-83ad-fd05066f8576"
        }
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOPPED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java_buildpack"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"processes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route_mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/environment_variables"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/start"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/stop"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"deployed_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions/deployed"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/apps</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the app.</td>
</tr>
<tr>
<td><strong>relationships.space</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to a space.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>environment_variables</strong></td>
<td><em>object</em></td>
<td>Environment variables to be used for the App when running.</td>
<td><code class="prettyprint">{}</code></td>
</tr>
<tr>
<td><strong>lifecycle</strong></td>
<td><a href="#the-lifecycle-object"><em>lifecycle object</em></a></td>
<td>Provides the lifecycle object for the application.</td>
<td><a href="#buildpack-lifecycle-object">buildpack lifecycle</a></td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the app.</td>
<td></td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the app.</td>
<td></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="get-an-app">Get an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOPPED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java_buildpack"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"processes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route_mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/environment_variables"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/start"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/stop"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"deployed_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions/deployed"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>include</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - Optionally include additional related resources in the response. <br>Valid values are <code class="prettyprint">space</code>, <code class="prettyprint">org</code> or <code class="prettyprint">space,org</code></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-apps">List apps</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps?page=1&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STARTED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:30Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T11:32:30Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java_buildpack"</span><span class="p">],</span><span class="w">
            </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"processes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"route_mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/environment_variables"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"droplets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/start"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"stop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/stop"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"deployed_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions/deployed"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02b4ec9b-94c7-4468-9c23-4e906191a0f8"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOPPED"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01T00:00:02Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ruby_buildpack"</span><span class="p">],</span><span class="w">
            </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"processes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/processes"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"route_mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/route_mappings"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/packages"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/environment_variables"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/droplets/current"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"droplets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/droplets"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/tasks"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/actions/start"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"stop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/actions/stop"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org//v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/revisions"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"deployed_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org//v3/apps/02b4ec9b-94c7-4468-9c23-4e906191a0f8/revisions/deployed"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all apps the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app guids to filter by.</td>
</tr>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app names to filter by.</td>
</tr>
<tr>
<td><strong>space_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space guids to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>stacks</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of stack names to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>, <code class="prettyprint">name</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
<tr>
<td><strong>include</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - Optionally include a list of unique related resources in the response. <br>Valid values are <code class="prettyprint">space</code> and <code class="prettyprint">org</code>, and are separated by a <code class="prettyprint">,</code></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="update-an-app">Update an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "my_app",
    "lifecycle": {
      "type": "buildpack",
      "data": {
        "buildpacks": ["java_buildpack"]
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STARTED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T11:32:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java_buildpack"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"processes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route_mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/environment_variables"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/start"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/stop"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"deployed_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions/deployed"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/apps/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the app.</td>
</tr>
<tr>
<td><strong>lifecycle</strong></td>
<td><a href="#the-lifecycle-object"><em>lifecycle object</em></a></td>
<td>Lifecycle to be used when updating the app. Note: <code class="prettyprint">data</code> is a required field in lifecycle if lifecycle is updated.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the app.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the app.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="delete-an-app">Delete an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/apps/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="get-current-droplet">Get current droplet</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/droplets/current </span><span class="se">\</span><span class="s2">
  -X GET </span><span class="se">\</span><span class="s2">
  -H "</span>Authorization: bearer <span class="o">[</span>token]<span class="s2">"
</span></code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"rake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rake"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"web"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup config.ru -p $PORT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"detect_output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby 1.6.14"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.1."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"buildpack_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/droplets/current</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="get-current-droplet-association-for-an-app">Get current droplet association for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/relationships/current_droplet"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9d8e007c-ce52-4ea7-8a57-f2825d2c6b39"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/d4c91047-7b29-4fda-b7f9-04033e5c9c9f/relationships/current_droplet"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"related"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/d4c91047-7b29-4fda-b7f9-04033e5c9c9f/droplets/current"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint retrieves the current droplet relationship for an app.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/relationships/current_droplet</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="get-environment-for-an-app">Get environment for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/env"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"staging_env_json"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"GEM_CACHE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://gem-cache.example.org"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"running_env_json"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"HTTP_PROXY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://proxy.example.org"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"RAILS_ENV"</span><span class="p">:</span><span class="w"> </span><span class="s2">"production"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"system_env_json"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"VCAP_SERVICES"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"mysql"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db-for-my-app"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mysql"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"relational"</span><span class="p">,</span><span class="w"> </span><span class="s2">"sql"</span><span class="p">],</span><span class="w">
          </span><span class="nt">"plan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xlarge"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"top-secret"</span><span class="w">
           </span><span class="p">},</span><span class="w">
          </span><span class="nt">"syslog_drain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://syslog.example.org/drain"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"application_env_json"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"VCAP_APPLICATION"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"limits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"fds"</span><span class="p">:</span><span class="w"> </span><span class="mi">16384</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"application_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"application_uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"my_app.example.org"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"space_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_space"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"space_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"my_app.example.org"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve the environment variables that will be provided to an app at runtime.
It will include environment variables for Environment Variable Groups and Service Bindings.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/env</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="get-environment-variables-for-an-app">Get environment variables for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/environment_variables"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"var"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"RAILS_ENV"</span><span class="p">:</span><span class="w"> </span><span class="s2">"production"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/[guid]/environment_variables"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/[guid]"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve the environment variables that are associated with the given app.
For the entire list of environment variables that will be available to the app at runtime, see the <a href="#get-environment-for-an-app">env endpoint</a>.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/environment_variables</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="set-current-droplet">Set current droplet</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/relationships/current_droplet"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "data": { "guid": "[droplet_guid]" } }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9d8e007c-ce52-4ea7-8a57-f2825d2c6b39"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/d4c91047-7b29-4fda-b7f9-04033e5c9c9f/relationships/current_droplet"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"related"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/d4c91047-7b29-4fda-b7f9-04033e5c9c9f/droplets/current"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Set the current droplet for an app. The current droplet is the droplet that the app will use when running.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/apps/:guid/relationships/current_droplet</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="start-an-app">Start an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/actions/start"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STARTED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T11:32:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java_buildpack"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"processes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route_mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/environment_variables"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/start"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/stop"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"deployed_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions/deployed"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/apps/:guid/actions/start</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="stop-an-app">Stop an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/actions/stop"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOPPED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T11:32:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java_buildpack"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"processes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route_mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/environment_variables"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/start"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/stop"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"deployed_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions/deployed"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/apps/:guid/actions/stop</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="update-environment-variables-for-an-app">Update environment variables for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/environment_variables"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -d <span class="s1">'{
     "var": {
       "DEBUG": "false"
     }
   }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"var"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"RAILS_ENV"</span><span class="p">:</span><span class="w"> </span><span class="s2">"production"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DEBUG"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/[guid]/environment_variables"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/[guid]"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update the environment variables associated with the given app.
The variables given in the request will be merged with the existing app environment variables.
Any requested variables with a value of <code class="prettyprint">null</code> will be removed from the app.
Environment variable names may not start with VCAP_. PORT is not a valid environment variable.</p>

<aside class="notice">The updated environment variables will not take effect until the app is restarted.</aside>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/apps/:guid/environment_variables</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="builds">Builds</h2>

<p>Builds represent the process of staging an application package. There are two types
(<a href="#lifecycles">lifecycles</a>) of builds: buildpack and docker.</p>

<p>After an <a href="#apps">application</a> is created and <a href="#packages">packages</a> are uploaded, a build
resource can be created to initiate the staging process. A successful build results in a 
<a href="#droplets">droplet</a>.</p>

          <h3 id="the-build-object">The build object</h3>
<pre class="highlight plaintext"><code>Example Build object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3cb4e243-bed4-49d5-8739-f8b45abdec1c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill@example.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e4da443-f255-499c-8b47-b3729b5b7432"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1e1186e7-d803-4c46-b9d6-5c81e50fe55a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/1e1186e7-d803-4c46-b9d6-5c81e50fe55a"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/builds/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>State of the build. Valid states are <code class="prettyprint">STAGING</code>, <code class="prettyprint">STAGED</code>, or <code class="prettyprint">FAILED</code>.</td>
</tr>
<tr>
<td><strong>error</strong></td>
<td><em>string</em></td>
<td>A string describing errors during the build process.</td>
</tr>
<tr>
<td><strong>lifecycle</strong></td>
<td><a href="#the-lifecycle-object"><em>lifecycle object</em></a></td>
<td>An object describing the lifecycle that was configured or discovered from the app.</td>
</tr>
<tr>
<td><strong>package</strong></td>
<td><em>object</em></td>
<td>The package that is the input to the staging process.</td>
</tr>
<tr>
<td><strong>droplet</strong></td>
<td><em>object</em></td>
<td>A resulting droplet from the staging process.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the build.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the build was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the build was last updated.</td>
</tr>
<tr>
<td><strong>created_by</strong></td>
<td><em>object</em></td>
<td>The user that created the build.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the build.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the build.</td>
</tr>
</tbody></table>

          <h3 id="create-a-build">Create a build</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/builds"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "package": {
       "guid": "[package-guid]"
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3cb4e243-bed4-49d5-8739-f8b45abdec1c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill@example.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e4da443-f255-499c-8b47-b3729b5b7432"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/builds/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/builds</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>package</strong></td>
<td><em>object</em></td>
<td>App package to stage.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>lifecycle</strong></td>
<td><a href="#the-lifecycle-object"><em>lifecycle object</em></a></td>
<td>Lifecycle information for a build.</td>
<td>lifecycle on the app</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the build.</td>
<td></td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the build.</td>
<td></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="get-a-build">Get a build</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/builds/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3cb4e243-bed4-49d5-8739-f8b45abdec1c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill@example.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e4da443-f255-499c-8b47-b3729b5b7432"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1e1186e7-d803-4c46-b9d6-5c81e50fe55a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/1e1186e7-d803-4c46-b9d6-5c81e50fe55a"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/builds/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/builds/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-builds">List builds</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/builds"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/builds?states=STAGING&amp;page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/builds?states=STAGING&amp;page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3cb4e243-bed4-49d5-8739-f8b45abdec1c"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill@example.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGING"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e4da443-f255-499c-8b47-b3729b5b7432"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/builds/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all builds the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/builds</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>states</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of build states to filter by.</td>
</tr>
<tr>
<td><strong>app_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app guids to filter by.</td>
</tr>
<tr>
<td><strong>package_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of package guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-builds-for-an-app">List builds for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/builds"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/[guid]/builds?states=STAGING&amp;page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/[guid]/builds?states=STAGING&amp;page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3cb4e243-bed4-49d5-8739-f8b45abdec1c"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill@example.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGING"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e4da443-f255-499c-8b47-b3729b5b7432"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/builds/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all builds for the app.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/[guid]/builds</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>states</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of build states to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-a-build">Update a build</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/builds/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "metadata": { "labels": { "key": "value" }, "annotations": {"note": "detailed information"}}}'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3cb4e243-bed4-49d5-8739-f8b45abdec1c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill@example.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e4da443-f255-499c-8b47-b3729b5b7432"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1e1186e7-d803-4c46-b9d6-5c81e50fe55a"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/1e1186e7-d803-4c46-b9d6-5c81e50fe55a"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/builds/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/builds/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the build.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the build.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="buildpacks">Buildpacks</h2>

<p>Buildpacks are used during a <a href="#builds">build</a>
to download external dependencies
and transform a <a href="#packages">package</a>
into an executable <a href="#droplets">droplet</a>.
In this way, buildpacks are a pluggable extension to Cloud Foundry
that enable CF to run different languages and frameworks.
Buildpacks will automatically detect if they support an application.
Buildpacks can also be explicitly specified on <a href="#apps">apps</a> and <a href="#builds">builds</a>.</p>

          <h3 id="the-buildpack-object">The buildpack object</h3>
<pre class="highlight plaintext"><code>Example Buildpack object
</code></pre>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T23:26:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_UPLOAD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"filename"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"windows64"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2/upload"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the buildpack.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>The name of the buildpack. To be used by app buildpack field. (only alphanumeric characters)</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>The state of the buildpack. Valid value is: <code class="prettyprint">AWAITING_UPLOAD</code></td>
</tr>
<tr>
<td><strong>filename</strong></td>
<td><em>string</em></td>
<td>The filename of the buildpack.</td>
</tr>
<tr>
<td><strong>stack</strong></td>
<td><em>string</em></td>
<td>The name of the stack that the buildpack will use.</td>
</tr>
<tr>
<td><strong>position</strong></td>
<td><em>integer</em></td>
<td>The order in which the buildpacks are checked during buildpack auto-detection.</td>
</tr>
<tr>
<td><strong>enabled</strong></td>
<td><em>boolean</em></td>
<td>Whether or not the buildpack can be used for staging</td>
</tr>
<tr>
<td><strong>locked</strong></td>
<td><em>boolean</em></td>
<td>Whether or not the buildpack is locked to prevent updating the bits</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
</tbody></table>

          <h3 id="create-a-buildpack">Create a buildpack</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/buildpacks"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "ruby_buildpack",
    "position": 42,
    "enabled": true,
    "locked": false,
    "stack": "windows64"
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T23:26:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_UPLOAD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"filename"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"windows64"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2/upload"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/buildpacks</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the buildpack.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>stack</strong></td>
<td><em>string</em></td>
<td>The name of the stack that the buildpack will use.</td>
<td>null</td>
</tr>
<tr>
<td><strong>position</strong></td>
<td><em>integer</em></td>
<td>The order in which the buildpacks are checked during buildpack auto-detection.</td>
<td>1</td>
</tr>
<tr>
<td><strong>enabled</strong></td>
<td><em>boolean</em></td>
<td>Whether or not the buildpack will be used for staging</td>
<td>true</td>
</tr>
<tr>
<td><strong>locked</strong></td>
<td><em>boolean</em></td>
<td>Whether or not the buildpack is locked to prevent updating the bits</td>
<td>false</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the buildpack.</td>
<td></td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the buildpack.</td>
<td></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h3 id="get-a-buildpack">Get a buildpack</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/buildpacks/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T23:26:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_UPLOAD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"filename"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"windows64"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2/upload"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/buildpacks/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-buildpacks">List buildpacks</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/buildpacks"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks?page=1&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T23:26:46Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-buildpack"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_UPLOAD"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"filename"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-stack"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2/upload"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all buildpacks the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/buildpacks</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of buildpack names to filter by.</td>
</tr>
<tr>
<td><strong>stacks</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of stack names to filter by.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>, and <code class="prettyprint">position</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="update-a-buildpack">Update a buildpack</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/buildpacks/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "ruby_buildpack",
    "position": 42,
    "enabled": true,
    "locked": false,
    "stack": "windows64"
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T23:26:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_UPLOAD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"filename"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"windows64"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2/upload"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/buildpacks/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the buildpack.</td>
</tr>
<tr>
<td><strong>stack</strong></td>
<td><em>string</em></td>
<td>The name of the stack that the buildpack will use.</td>
</tr>
<tr>
<td><strong>position</strong></td>
<td><em>integer</em></td>
<td>The order in which the buildpacks are checked during buildpack auto-detection.</td>
</tr>
<tr>
<td><strong>enabled</strong></td>
<td><em>boolean</em></td>
<td>Whether or not the buildpack will be used for staging</td>
</tr>
<tr>
<td><strong>locked</strong></td>
<td><em>boolean</em></td>
<td>Whether or not the buildpack is locked to prevent updating the bits</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the buildpack.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the buildpack.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h3 id="delete-a-buildpack">Delete a buildpack</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/buildpacks/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/buildpacks/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h3 id="upload-buildpack-bits">Upload buildpack bits</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/buildpacks/[guid]/upload"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -F <span class="nv">bits</span><span class="o">=</span>@<span class="s2">"buildpack.zip"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T23:26:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_UPLOAD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"filename"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"windows64"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/buildpacks/fd35633f-5c5c-4e4e-a5a9-0722c970a9d2/upload"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Upload a zip file containing a Cloud Foundry compatible buildpack. The file must be sent as part of a multi-part form.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/buildpacks/:guid/upload</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>bits</strong></td>
<td><em>form field</em></td>
<td>A binary zip file containing the buildpack bits.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h2 id="domains">Domains</h2>

<p>Domains represent a <a href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a> that is used for application routes.</p>

<p>Domains can be scoped to a set of organizations or be left unscoped to allow all organizations access.</p>

          <h3 id="the-domain-object">The domain object</h3>
<pre class="highlight plaintext"><code>Example Domain object
</code></pre>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-domain.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"internal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a3f3d89-3f89-4f05-8188-751b298c79d5"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"404f3d89-3f89-6z72-8188-751b298d88d5"</span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"416d3d89-3f89-8h67-2189-123b298d3592"</span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/3a3f3d89-3f89-4f05-8188-751b298c79d5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"route_reservations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/route_reservations"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/relationships/shared_organizations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the domain.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>The name of the domain.<br>Must be between 3 ~ 253 characters and follow <a href="https://tools.ietf.org/html/rfc1035">RFC 1035</a>.</td>
</tr>
<tr>
<td><strong>internal</strong></td>
<td><em>boolean</em></td>
<td>Whether the domain is used for internal (container-to-container) traffic.</td>
</tr>
<tr>
<td><strong>organization</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>The organization the domain is scoped to. If set, the domain will only be available in that organization. Otherwise, the domain will be globally available.</td>
</tr>
<tr>
<td><strong>shared_organizations</strong></td>
<td><a href="#to-many-relationships"><em>to-many relationship</em></a></td>
<td>Organizations the domain is shared with. If set, the domain will be available in these organizations in addition to the organization the domain is scoped to.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the domain.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the domain.</td>
</tr>
</tbody></table>

          <h3 id="create-a-domain">Create a domain</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/domains"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "example.com",
    "internal": false
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-domain.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"internal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a3f3d89-3f89-4f05-8188-751b298c79d5"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"404f3d89-3f89-6z72-8188-751b298d88d5"</span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"416d3d89-3f89-8h67-2189-123b298d3592"</span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/3a3f3d89-3f89-4f05-8188-751b298c79d5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"route_reservations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/route_reservations"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/relationships/shared_organizations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/domains</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the domain.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>internal</strong></td>
<td><em>boolean</em></td>
<td>Whether the domain is used for internal (container-to-container) traffic.</td>
<td>false</td>
</tr>
<tr>
<td><strong>organization</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to the organization the domain will be scoped to. <br><em>Note: can not be used with the internal param</em></td>
<td></td>
</tr>
<tr>
<td><strong>shared_organizations</strong></td>
<td><a href="#to-many-relationships"><em>to-many relationship</em></a></td>
<td>A relationship to organizations the domain will be shared with. <br><em>Note: can not be used without an organization relationship</em></td>
<td></td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the domain.</td>
<td></td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the domain.</td>
<td></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Org Manager</td>
<td>When an <code class="prettyprint">organization</code> relationship is provided.</td>
</tr>
</tbody></table>

          <h3 id="get-a-domain">Get a domain</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/domains/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-domain.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"internal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a3f3d89-3f89-4f05-8188-751b298c79d5"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"404f3d89-3f89-6z72-8188-751b298d88d5"</span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"416d3d89-3f89-8h67-2189-123b298d3592"</span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/3a3f3d89-3f89-4f05-8188-751b298c79d5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"route_reservations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/route_reservations"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/relationships/shared_organizations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/domains/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Roles</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
<tr>
<td>Space Manager</td>
<td></td>
</tr>
<tr>
<td>Space Auditor</td>
<td></td>
</tr>
<tr>
<td>Org Auditor</td>
<td></td>
</tr>
<tr>
<td>Org Manager</td>
<td></td>
</tr>
<tr>
<td>Org Billing Manager</td>
<td>Can only view domains without an organization relationship.</td>
</tr>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Admin Read-Only</td>
<td></td>
</tr>
<tr>
<td>Global Auditor</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="list-domains">List domains</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/domains"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains?page=1&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-domain.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"internal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"route_reservations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/route_reservations"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="err">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all domains the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/domains</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of guids to filter by.</td>
</tr>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of domain names to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of owning organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="list-domains-for-an-organization">List domains for an organization</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/organizations/[org_guid]/domains"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains?page=1&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-domain.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"internal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"route_reservations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/route_reservations"</span><span class="w">
          </span><span class="p">},</span><span class="w">
        </span><span class="err">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all domains available in an organization for the current user. This will return user-visible domains without an organization relationship AND domains scoped or shared with the organization.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/organizations/:org_guid/domains</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of guids to filter by.</td>
</tr>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of domain names to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of owning organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="update-a-domain">Update a domain</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/domains/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "metadata": {
      "labels": {"key": "value"},
      "annotations": {"note": "detailed information"}
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-domain.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"internal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a3f3d89-3f89-4f05-8188-751b298c79d5"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"404f3d89-3f89-6z72-8188-751b298d88d5"</span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"416d3d89-3f89-8h67-2189-123b298d3592"</span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/3a3f3d89-3f89-4f05-8188-751b298c79d5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"route_reservations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/route_reservations"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/relationships/shared_organizations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/domains/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the domain.</td>
<td></td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the domain.</td>
<td></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Org Manager</td>
<td>If domain is scoped to organization managed by the org manager.</td>
</tr>
</tbody></table>

          <h3 id="delete-a-domain">Delete a domain</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/domains/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/domains/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Org Manager</td>
<td>If domain is scoped to organization managed by the org manager.</td>
</tr>
</tbody></table>

          <h3 id="share-a-domain">Share a domain</h3>

<p>This endpoint shares an organization-scoped domain to other organizations specified by a list of organization guids. This will allow any of the other organizations to use the organization-scoped domain.</p>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/domains/[guid]/relationships/shared_organizations"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "data": [
      {"guid": "404f3d89-3f89-6z72-8188-751b298d88d5"},
      {"guid": "416d3d89-3f89-8h67-2189-123b298d3592"}
    ]
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"404f3d89-3f89-6z72-8188-751b298d88d5"</span><span class="p">}</span><span class="w">
      </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"416d3d89-3f89-8h67-2189-123b298d3592"</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/domains/:guid/relationships/shared_organizations</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>data</strong></td>
<td><em><a href="#to-many-relationships">to-many relationship</a></em></td>
<td>The organization guids with which to share the domain.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Org Manager</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="unshare-a-domain">Unshare a domain</h3>

<p>This endpoint removes an organization from the list of organizations an organization-scoped domain is shared with. This prevents the organization from using the organization-scoped domain.</p>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/domains/[domain_guid]/relationships/shared_organizations/[org_guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/domains/:guid/relationships/shared_organizations/:org_guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Org Manager</td>
<td><em>Can be in either the domain&rsquo;s owning organization or the organization it has been shared to</em></td>
</tr>
</tbody></table>

          <h2 id="droplets">Droplets</h2>

<p>Droplets are the result of staging an application package. There are two types
(lifecycles) of droplets: buildpack and docker. In the case of the buildpacks,
the droplet contains the bits produced by the buildpack, typically application
code and dependencies.</p>

<p>After an application is created and packages are uploaded, a droplet must be
created via a <a href="#builds">build</a> in order for an application to be deployed or tasks to be run. 
The current droplet <a href="#set-current-droplet-for-an-app">must be assigned</a> to an 
application before it may be started. When <a href="#create-a-task">tasks are created</a>, 
they either use a specific droplet guid, or use the current droplet assigned to an application.</p>

          <h3 id="the-droplet-object">The droplet object</h3>
<pre class="highlight plaintext"><code>Example Droplet object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"rake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rake"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"web"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup config.ru -p $PORT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"detect_output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby 1.6.14"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.1."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"buildpack_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>State of the droplet. Valid states are <code class="prettyprint">AWAITING_UPLOAD</code>, <code class="prettyprint">PROCESSING_UPLOAD</code>, <code class="prettyprint">STAGED</code>, <code class="prettyprint">COPYING</code>, <code class="prettyprint">FAILED</code>, or <code class="prettyprint">EXPIRED</code>.</td>
</tr>
<tr>
<td><strong>error</strong></td>
<td><em>string</em></td>
<td>A string describing the last error during the droplet lifecycle.</td>
</tr>
<tr>
<td><strong>lifecycle</strong></td>
<td><a href="#the-lifecycle-object"><em>lifecycle object</em></a></td>
<td>An object describing the lifecycle that was configured or discovered from the app. <strong>lifecycle.data</strong> will always be an empty hash for a droplet object.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the droplet.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>execution_metadata</strong></td>
<td><em>string</em></td>
<td>Serialized JSON data resulting from staging for use when executing a droplet.</td>
</tr>
<tr>
<td><strong>process_types</strong></td>
<td><em>object</em></td>
<td>The process types (keys) and associated start commands (values) that will be created when the droplet is executed.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong><em>(experimental)</em></td>
<td><a href="#labels"><em>labels object</em></a></td>
<td>Labels on the droplet</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong><em>(experimental)</em></td>
<td><a href="#annotations"><em>annotations object</em></a></td>
<td>Annotations on the droplet</td>
</tr>
</tbody></table>

<p>In addition to these fields, a droplet object will contain the following fields from both lifecycles.
Their values will be <code class="prettyprint">null</code> by default and will contain values when the droplet is of a specific <strong>lifecycle.type</strong>.</p>

<h4 id="buildpack-droplet">Buildpack droplet</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>checksum.type</strong></td>
<td><em>string</em></td>
<td>Hashing algorithm for checksum. Supported algorithms are <code class="prettyprint">sha256</code> and <code class="prettyprint">sha1</code>.</td>
</tr>
<tr>
<td><strong>checksum.value</strong></td>
<td><em>string</em></td>
<td>Checksum of droplet.</td>
</tr>
<tr>
<td><strong>buildpacks</strong></td>
<td><em>array of <a href="#detected-buildpack-object">detected buildpack objects</a></em></td>
<td>Detected buildpacks from the staging process.</td>
</tr>
<tr>
<td><strong>stack</strong></td>
<td><em>string</em></td>
<td>The root filesystem to use with the buildpack, for example <code class="prettyprint">cflinuxfs3</code></td>
</tr>
</tbody></table>

<h5 id="detected-buildpack-object">Detected buildpack object</h5>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>System buildpack name</td>
</tr>
<tr>
<td><strong>detect_output</strong></td>
<td><em>string</em></td>
<td>Output during buildpack detect process</td>
</tr>
<tr>
<td><strong>buildpack_name</strong></td>
<td><em>string</em></td>
<td>Name reported by the buildpack</td>
</tr>
<tr>
<td><strong>version</strong></td>
<td><em>string</em></td>
<td>Version reported by the buildpack</td>
</tr>
</tbody></table>

<h4 id="docker-droplet">Docker droplet</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>image</strong></td>
<td><em>string</em></td>
<td>Docker image name.</td>
</tr>
</tbody></table>

          <h3 id="create-a-droplet">Create a droplet</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/droplets"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "relationships": {
      "app": {
        "data": {
          "guid": "[app-guid]"
        }
      }
    },
    "process_types": {
      "rake": "bundle exec rake",
      "web": "bundle exec rackup config.ru -p $PORT"
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_UPLOAD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"rake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rake"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"web"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup config.ru -p $PORT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"detect_output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby 1.6.14"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.1."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"buildpack_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16/upload"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint is only for creating a droplet without a package. To create a droplet based on a package, see <a href="#create-a-build">Create a build</a>.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/droplets</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>app</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>App to create droplet for.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>process_types</strong></td>
<td><em>hash</em></td>
<td>Process names and start commands for the droplet.</td>
<td><code class="prettyprint">{&quot;web&quot;: &quot;&quot;}</code></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="get-a-droplet">Get a droplet</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/droplets/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"rake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rake"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"web"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup config.ru -p $PORT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"detect_output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby 1.6.14"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.1."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"buildpack_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/droplets/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-droplets">List droplets</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/droplets"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRIVATE DATA HIDDEN"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redacted_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"detect_output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby 1.6.14"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.1."</span><span class="p">,</span><span class="w">
          </span><span class="nt">"buildpack_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fdf3851c-def8-4de1-87f1-6d4543189e22"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redacted_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cloudfoundry/diego-docker-app-custom:latest"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T00:00:01Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:32Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/fdf3851c-def8-4de1-87f1-6d4543189e22"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/c5725684-a02f-4e59-bc67-8f36ae944688"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all droplets the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/droplets</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of droplet guids to filter by.</td>
</tr>
<tr>
<td><strong>states</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of droplet states to filter by.</td>
</tr>
<tr>
<td><strong>app_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app guids to filter by.</td>
</tr>
<tr>
<td><strong>space_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space guids to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code> and <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-droplets-for-a-package">List droplets for a package</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/packages/[guid]/droplets"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRIVATE DATA HIDDEN"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redacted_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"detect_output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby 1.6.14"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.1."</span><span class="p">,</span><span class="w">
          </span><span class="nt">"buildpack_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fdf3851c-def8-4de1-87f1-6d4543189e22"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redacted_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cloudfoundry/diego-docker-app-custom:latest"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T00:00:01Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:32Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/fdf3851c-def8-4de1-87f1-6d4543189e22"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/c5725684-a02f-4e59-bc67-8f36ae944688"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve a list of droplets belonging to a package.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/packages/:guid/droplets</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of droplet guids to filter by.</td>
</tr>
<tr>
<td><strong>states</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of droplet states to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code> and <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-droplets-for-an-app">List droplets for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/droplets"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/app/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/app/7b34f1cf-7e73-428a-bb5a-8a17a8058396/droplets?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRIVATE DATA HIDDEN"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redacted_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"detect_output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby 1.6.14"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.1."</span><span class="p">,</span><span class="w">
          </span><span class="nt">"buildpack_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fdf3851c-def8-4de1-87f1-6d4543189e22"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"redacted_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cloudfoundry/diego-docker-app-custom:latest"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T00:00:01Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:32Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/fdf3851c-def8-4de1-87f1-6d4543189e22"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/c5725684-a02f-4e59-bc67-8f36ae944688"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve a list of droplets belonging to an app.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/droplets</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of droplet guids to filter by.</td>
</tr>
<tr>
<td><strong>states</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of droplet states to filter by.</td>
</tr>
<tr>
<td><strong>current</strong></td>
<td><em>boolean</em></td>
<td>If true, only include the droplet currently assigned to the app.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code> and <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-a-droplet">Update a droplet</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.space/v3/droplets/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "metadata": { "labels": { "key": "value" }, "annotations": {"note": "detailed information"}}}'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STAGED"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"rake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rake"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"web"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup config.ru -p $PORT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby_buildpack"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"detect_output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby 1.6.14"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.1."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"buildpack_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ruby"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"release"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stable"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/droplets/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the droplet.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the droplet.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>OrgManager</td>
</tr>
<tr>
<td>SpaceDeveloper</td>
</tr>
<tr>
<td>SpaceManager</td>
</tr>
</tbody></table>

          <h3 id="delete-a-droplet">Delete a droplet</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/droplets/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/droplets/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="copy-a-droplet">Copy a droplet</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/droplets?source_guid=[guid]"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "relationships": {
      "app": {
        "data": {
          "guid": "[app-guid]"
        }
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COPYING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-28T23:39:34Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"package"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/8222f76a-9e09-4360-b3aa-1ed329945e92"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396/relationships/current_droplet"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Copy a droplet to a different app. The copied droplet excludes the
environment variables listed on the source droplet.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/droplets?source_guid=:guid</code></p>

<h4 id="required-query-parameters">Required Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>source_guid</strong></td>
<td><em>uuid</em></td>
<td>Source guid of the droplet to be copied.</td>
</tr>
</tbody></table>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>relationships.app</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to the destination app.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="upload-droplet-bits">Upload droplet bits</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/droplets/[guid]/upload"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -F <span class="nv">bits</span><span class="o">=</span>@<span class="s2">"droplet.tgz"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3c64aba2-2d9e-4eea-9e07-6fec1636315e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING_UPLOAD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"execution_metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"rake"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rake"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"web"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup config.ru -p $PORT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-15T22:43:54Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-15T22:53:02Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/3c64aba2-2d9e-4eea-9e07-6fec1636315e"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/a7c7b09d-350d-4816-bf0b-18612fb2eab4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"assign_current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/a7c7b09d-350d-4816-bf0b-18612fb2eab4/relationships/current_droplet"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Upload a gzip compressed tarball file containing a Cloud Foundry compatible droplet. The file must be sent as part of a multi-part form.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/droplets/:guid/upload</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>bits</strong></td>
<td><em>form field</em></td>
<td>A gzip compressed tarball file with <code class="prettyprint">.tgz</code> extension containing the droplet bits.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="feature-flags">Feature Flags</h2>

<p>Feature flags are runtime flags that enable or disable functionality on the API.</p>

          <h3 id="the-feature-flag-object">The feature flag object</h3>
<pre class="highlight plaintext"><code>Example Feature Flag object
</code></pre>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_feature_flag"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"custom_error_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error message the user sees"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/feature_flags/my_feature_flag"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>The name of the feature flag.</td>
</tr>
<tr>
<td><strong>enabled</strong></td>
<td><em>boolean</em></td>
<td>Whether the feature flag is enabled.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated. This will be blank for feature flags that have not been configured.</td>
</tr>
<tr>
<td><strong>custom_error_message</strong></td>
<td><em>string</em></td>
<td>The error string returned by the API when a client performs an action disabled by the feature flag.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
</tbody></table>

          <h3 id="list-of-feature-flags">List of feature flags</h3>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">app_bits_upload</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, space developers can upload app bits. When disabled, only admin users can upload app bits.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">app_scaling</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, space developers can perform scaling operations (i.e. change memory, disk or instances). When disabled, only admins can perform scaling operations.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">diego_docker</code><br><strong>Default:</strong> <code class="prettyprint">false</code> <br><strong>Description:</strong> When enabled, Docker applications are supported by Diego. When disabled, Docker applications will stop running. It will still be possible to stop and delete them and update their configurations.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">env_var_visibility</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, all users can see their environment variables. When disabled, no users can see environment variables.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">hide_marketplace_from_unauthenticated_users</code><br><strong>Default:</strong> <code class="prettyprint">false</code> <br><strong>Description:</strong> When enabled, service offerings available in the marketplace will be hidden from unauthenticated users. When disabled, unauthenticated users will be able to see the service offerings available in the marketplace.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">private_domain_creation</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, an organization manager can create private domains for that organization. When disabled, only admin users can create private domains.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">route_creation</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, a space developer can create routes in a space. When disabled, only admin users can create routes.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">service_instance_creation</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, a space developer can create service instances in a space. When disabled, only admin users can create service instances.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">service_instance_sharing</code><br><strong>Default:</strong> <code class="prettyprint">false</code> <br><strong>Description:</strong> When enabled, Space Developers can share service instances between two spaces (even across orgs!) in which they have the Space Developer role. When disabled, Space Developers cannot share service instances between two spaces.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">set_roles_by_username</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, Org Managers or Space Managers can add access roles by username. In order for this feature to be enabled the CF operator must: <br>1) Enable the <code class="prettyprint">/ids/users/</code> endpoint for UAA <br>2) Create a UAA <code class="prettyprint">cloud_controller_username_lookup</code> client with the <code class="prettyprint">scim.userids</code> authority</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">space_developer_env_var_visibility</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, space developers can do a get on the /v2/apps/:guid/env and /v3/apps/:guid/env end points. When disabled, space developers can no longer do a get against these end points.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">space_scoped_private_broker_creation</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, space developers can create space scoped private brokers. When disabled, only admin users can create create space scoped private brokers.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">task_creation</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, space developers can create tasks. When disabled, only admin users can create tasks.</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">unset_roles_by_username</code><br><strong>Default:</strong> <code class="prettyprint">true</code> <br><strong>Description:</strong> When enabled, Org Managers or Space Managers can remove access roles by username. In order for this feature to be enabled the CF operator must: <br>1) Enable the <code class="prettyprint">/ids/users/</code> endpoint for UAA <br>2) Create a UAA <code class="prettyprint">cloud_controller_username_lookup</code> client with the <code class="prettyprint">scim.userids</code> authority</td>
</tr>
<tr>
<td><strong>Name:</strong> <code class="prettyprint">user_org_creation</code><br><strong>Default:</strong> <code class="prettyprint">false</code> <br><strong>Description:</strong> When enabled, any user can create an organization via the API. When disabled, only admin users can create organizations via the API.</td>
</tr>
</tbody></table>

          <h3 id="get-a-feature-flag">Get a feature flag</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/feature_flags/[name]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_feature_flag"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"custom_error_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error message the user sees"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/feature_flags/my_feature_flag"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/feature_flags/:name</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-feature-flags">List feature flags</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/feature_flags"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/feature_flags?page=1&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/feature_flags?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/feature_flags?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_feature_flag"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"custom_error_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error message the user sees"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/feature_flags/my_feature_flag"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_second_feature_flag"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"custom_error_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/feature_flags/my_second_feature_flag"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all feature_flags.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/feature_flags</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to <code class="prettyprint">name</code> ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid value is <code class="prettyprint">name</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="update-a-feature-flag">Update a feature flag</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/feature_flags/[name]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "enabled": true,
    "custom_error_message": "error message the user sees"
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_feature_flag"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-17T20:00:42Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"custom_error_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error message the user sees"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/feature_flags/my_feature_flag"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/feature_flags/:name</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>enabled</strong></td>
<td><em>boolean</em></td>
<td>Whether the feature flag is enabled.</td>
</tr>
<tr>
<td><strong>custom_error_message</strong></td>
<td><em>string</em></td>
<td>The error string returned by the API when a client performs an action disabled by the feature flag.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h2 id="isolation-segments">Isolation Segments</h2>

<p>Isolation Segments provide dedicated pools of resources to which apps can be deployed to isolate workloads.</p>

          <h3 id="the-isolation-segment-object">The isolation segment object</h3>
<pre class="highlight plaintext"><code>Example Isolation Segment object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"an_isolation_segment"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:25:04Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/b19f6525-cbd3-4155-b156-dc0c2a431b4c/organizations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the isolation segment.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the isolation segment.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong><em>(experimental)</em></td>
<td><a href="#labels"><em>labels object</em></a></td>
<td>Labels on the isolation segment</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong><em>(experimental)</em></td>
<td><a href="#annotations"><em>annotations object</em></a></td>
<td>Annotations on the isolation segment</td>
</tr>
</tbody></table>

          <h3 id="create-an-isolation-segment">Create an isolation segment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/isolation_segments"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "my_segment"
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"an_isolation_segment"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:25:04Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/b19f6525-cbd3-4155-b156-dc0c2a431b4c/organizations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/isolation_segments</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the Isolation Segment.  Isolation Segment names must be unique across the entire system, and case is ignored when checking for uniqueness.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the isolation segment.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the isolation segment.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h3 id="get-an-isolation-segment">Get an isolation segment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/isolation_segments/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"an_isolation_segment"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:25:04Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/b19f6525-cbd3-4155-b156-dc0c2a431b4c/organizations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/isolation_segments/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-isolation-segments">List isolation segments</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/isolation_segments"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments?page=1&amp;per_page=5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments?page=3&amp;per_page=5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments?page=2&amp;per_page=5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"an_isolation_segment"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:25:04Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/b19f6525-cbd3-4155-b156-dc0c2a431b4c/organizations"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68d54d31-9b3a-463b-ba94-e8e4c32edbac"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"an_isolation_segment1"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:29:19Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/68d54d31-9b3a-463b-ba94-e8e4c32edbac"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/68d54d31-9b3a-463b-ba94-e8e4c32edbac/organizations"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ecdc67c3-a71e-43ff-bddf-048930b8cd03"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"an_isolation_segment2"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:29:22Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/ecdc67c3-a71e-43ff-bddf-048930b8cd03"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/ecdc67c3-a71e-43ff-bddf-048930b8cd03/organizations"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"424c89e4-4353-46b7-9bf4-f90bd9bacac0"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"an_isolation_segment3"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:29:27Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/424c89e4-4353-46b7-9bf4-f90bd9bacac0"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/424c89e4-4353-46b7-9bf4-f90bd9bacac0/organizations"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0a79fcec-a648-4eb8-a6c3-2b5be39047c7"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"an_isolation_segment4"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:29:33Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/0a79fcec-a648-4eb8-a6c3-2b5be39047c7"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/0a79fcec-a648-4eb8-a6c3-2b5be39047c7/organizations"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieves all isolation segments to which the user has access.  For admin, this is all the isolation segments in the system.  For an org manager, this is the isolation segments in the allowed list for any organization to which the user belongs.  For any other user, this is the isolation segments assigned to any spaces to which the user has access.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/isolation_segments</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of isolation segment guids to filter by.</td>
</tr>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of isolation segment names to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>, and <code class="prettyprint">name</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-organizations-relationship">List organizations relationship</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/isolation_segments/[guid]/relationships/organizations"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68d54d31-9b3a-463b-ba94-e8e4c32edbac"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/bdeg4371-cbd3-4155-b156-dc0c2a431b4c/relationships/organizations"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"related"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/bdeg4371-cbd3-4155-b156-dc0c2a431b4c/organizations"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint lists the organizations entitled for the isolation segment.  For an Admin, this will list all entitled organizations in the system.  For any other user, this will list only the entitled organizations to which the user belongs.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/isolation_segments/:guid/relationships/organizations</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-spaces-relationship">List spaces relationship</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/isolation_segments/[guid]/relationships/spaces"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4c91047-7b29-4fda-b7f9-04033e5c9c9f"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/bdeg4371-cbd3-4155-b156-dc0c2a431b4c/relationships/spaces"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint lists the spaces to which the isolation segment is assigned.  For an Admin, this will list all associated spaces in the system.  For an org manager, this will list only those associated spaces belonging to orgs for which the user is a manager.  For any other user, this will list only those associated spaces to which the user has access.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/isolation_segments/:guid/relationships/spaces</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-an-isolation-segment">Update an isolation segment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/isolation_segments/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "name": "my_isolation_segment" }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_isolation_segment"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:25:04Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/b19f6525-cbd3-4155-b156-dc0c2a431b4c/organizations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/isolation_segments/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the Isolation Segment.  Isolation Segment names must be unique across the entire system, and case is ignored when checking for uniqueness.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the isolation segment.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the isolation segment.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h3 id="delete-an-isolation-segment">Delete an isolation segment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/isolation_segments/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>An isolation segment cannot be deleted if it is entitled to any organization.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/isolation_segments/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h3 id="entitle-organizations-for-an-isolation-segment">Entitle organizations for an isolation segment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/isolation_segments/[guid]/relationships/organizations"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "data": [
      { "guid":"org-guid-1" },
      { "guid":"org-guid-2" }
    ]
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68d54d31-9b3a-463b-ba94-e8e4c32edbac"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/bdeg4371-cbd3-4155-b156-dc0c2a431b4c/relationships/organizations"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"related"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/bdeg4371-cbd3-4155-b156-dc0c2a431b4c/organizations"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint entitles the specified organizations for the isolation segment.
In the case where the specified isolation segment is the system-wide shared segment, and if an organization is not already entitled for any other isolation segment, then the shared isolation segment automatically gets assigned as the default for that organization.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/isolation_segments/:guid/relationships/organizations</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>data</strong></td>
<td><a href="#to-many-relationships"><em>to-many relationship</em></a></td>
<td>Organization relationships. Each organization will be entitled to manage this isolation segment.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h3 id="revoke-entitlement-to-isolation-segment-for-an-organization">Revoke entitlement to isolation segment for an organization</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/isolation_segments/[guid]/relationships/organizations/[org_guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This endpoint revokes the entitlement for the specified organization to the isolation segment. If the isolation segment is assigned to a space within an organization, the entitlement cannot be revoked.  If the isolation segment is the organization&rsquo;s default, the entitlement cannot be revoked.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/isolation_segments/:guid/relationships/organizations/:org_guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h2 id="jobs">Jobs</h2>

<p>Jobs are created by the platform when performing certain asynchronous actions.</p>

          <h3 id="the-job-object">The job object</h3>
<pre class="highlight plaintext"><code>Example Job object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19ae525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:25:04Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app.delete"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETE"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/jobs/b19ae525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the job.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>operation</strong></td>
<td><em>string</em></td>
<td>Current desired operation of the job on a model.</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>State of the job. Valid values are <code class="prettyprint">PROCESSING</code>, <code class="prettyprint">COMPLETE</code>, or<code class="prettyprint">FAILED</code>.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>errors</strong></td>
<td><a href="#errors"><em>errors list</em></a></td>
<td>Array of errors that occurred while processing the job.</td>
</tr>
</tbody></table>

          <h3 id="get-a-job">Get a job</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/jobs/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Completed Job Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19ae525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:25:04Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app.delete"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMPLETE"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/jobs/b19ae525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight plaintext"><code>Failed Job Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19ae525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T20:25:04Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app.delete"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/jobs/b19ae525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/7b34f1cf-7e73-428a-bb5a-8a17a8058396"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">10008</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF-UnprocessableEntity"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"something went wrong"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/jobs/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h2 id="organizations">Organizations</h2>

<p>An org is a development account that an individual or multiple collaborators can own and use. All collaborators access an org with user accounts. Collaborators in an org share a resource quota plan, applications, services availability, and custom domains.</p>

          <h3 id="the-organization-object">The organization object</h3>
<pre class="highlight plaintext"><code>Example Organization object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24637893-3b77-489d-bb79-8466f0d88b52"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-organization"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"quota"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b7887f5c-34bb-40c5-9778-577572e4fb2d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52/domains"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"default_domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52/domains/default"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the organization.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the organization.</td>
</tr>
<tr>
<td><strong>status</strong> <em>(experimental)</em></td>
<td><em>string</em></td>
<td>Valid values are <code class="prettyprint">active</code> and <code class="prettyprint">suspended</code>. Suspended organizations, along with their spaces, may not be modified by non-admins.</td>
</tr>
<tr>
<td><strong>relationships.quota</strong> <em>(experimental)</em></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>The quota applied to the organization.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the organization.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations added to the organization.</td>
</tr>
</tbody></table>

          <h3 id="create-an-organization">Create an organization</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/organizations"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "name": "my-organization" }'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24637893-3b77-489d-bb79-8466f0d88b52"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-organization"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"quota"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b7887f5c-34bb-40c5-9778-577572e4fb2d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52/domains"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"default_domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52/domains/default"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/organizations</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Organization name</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the organization.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the organization.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

<p>If the <code class="prettyprint">user_org_creation</code> feature flag is enabled, any user with the <code class="prettyprint">cloud_controller.write</code> scope will be able to create organizations.</p>

          <h3 id="get-an-organization">Get an organization</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/organizations/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24637893-3b77-489d-bb79-8466f0d88b52"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-organization"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"quota"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b7887f5c-34bb-40c5-9778-577572e4fb2d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52/domains"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"default_domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52/domains/default"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint retrieves the specified organization object.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/organizations/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-organizations">List organizations</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/organizations"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"quota"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b7887f5c-34bb-40c5-9778-577572e4fb2d"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/885735b5-aea4-4cf5-8e44-961af0e41920/domains"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"default_domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/885735b5-aea4-4cf5-8e44-961af0e41920/domains/default"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4c91047-7b29-4fda-b7f9-04033e5c9c9f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-02T00:14:30Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-02T00:14:30Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"quota"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b7887f5c-34bb-40c5-9778-577572e4fb2d"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/d4c91047-7b29-4fda-b7f9-04033e5c9c9f"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/d4c91047-7b29-4fda-b7f9-04033e5c9c9f/domains"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"default_domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/d4c91047-7b29-4fda-b7f9-04033e5c9c9f/domains/default"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all organizations the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/organizations</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization names to filter by.</td>
</tr>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>, and <code class="prettyprint">name</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-organizations-for-isolation-segment">List organizations for isolation segment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/isolation_segments/[guid]/organizations"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/933b4c58-120b-499a-b85d-4b6fc9e2903b/organizations?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/933b4c58-120b-499a-b85d-4b6fc9e2903b/organizations?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/885735b5-aea4-4cf5-8e44-961af0e41920/domains"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"default_domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/885735b5-aea4-4cf5-8e44-961af0e41920/domains/default"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"quota"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b7887f5c-34bb-40c5-9778-577572e4fb2d"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4c91047-7b29-4fda-b7f9-04033e5c9c9f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-02T00:14:30Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-02T00:14:30Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"org2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"quota"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b7887f5c-34bb-40c5-9778-577572e4fb2d"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/d4c91047-7b29-4fda-b7f9-04033e5c9c9f"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/d4c91047-7b29-4fda-b7f9-04033e5c9c9f/domains"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"default_domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/d4c91047-7b29-4fda-b7f9-04033e5c9c9f/domains/default"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve the organizations entitled to the isolation segment. Return only the organizations the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/isolation_segments/:guid/organizations</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization names to filter by.</td>
</tr>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>, and <code class="prettyprint">name</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Auditor</td>
</tr>
<tr>
<td>Org Billing Manager</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
</tbody></table>

          <h3 id="update-an-organization">Update an organization</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/organizations/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "name": "my-organization" }'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24637893-3b77-489d-bb79-8466f0d88b52"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-organization"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"quota"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b7887f5c-34bb-40c5-9778-577572e4fb2d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"domains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52/domains"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"default_domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/24637893-3b77-489d-bb79-8466f0d88b52/domains/default"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/organizations/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Organization name</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the organization.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the organization.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>OrgManager</td>
</tr>
</tbody></table>

          <h3 id="assign-default-isolation-segment">Assign default isolation segment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/organizations/[guid]/relationships/default_isolation_segment"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "data": {
      "guid": "[iso-seg-guid]"
     }
   }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9d8e007c-ce52-4ea7-8a57-f2825d2c6b39"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/d4c91047-7b29-4fda-b7f9-04033e5c9c9f/relationships/default_isolation_segment"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"related"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/9d8e007c-ce52-4ea7-8a57-f2825d2c6b39"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Set the default isolation segment for a given organization.
Only isolation segments that are entitled to the organization are eligible to be the default isolation segment.</p>

<aside class="notice">Apps will not run in the new default isolation segment until they are restarted.</aside>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/organizations/:guid/relationships/default_isolation_segment</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>data</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>Isolation segment relationship. Apps will run in this isolation segment. Set data to <code class="prettyprint">null</code> to remove the relationship.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
</tbody></table>

          <h3 id="get-default-isolation-segment">Get default isolation segment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/organizations/[guid]/relationships/default_isolation_segment"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9d8e007c-ce52-4ea7-8a57-f2825d2c6b39"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/d4c91047-7b29-4fda-b7f9-04033e5c9c9f/relationships/default_isolation_segment"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"related"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/9d8e007c-ce52-4ea7-8a57-f2825d2c6b39"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve the default isolation segment for a given organization.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/organizations/:guid/relationships/default_isolation_segment</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="get-default-domain">Get default domain</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/organizations/[guid]/domains/default"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-08T01:06:19Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-domain.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"internal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a3f3d89-3f89-4f05-8188-751b298c79d5"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"404f3d89-3f89-6z72-8188-751b298d88d5"</span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"416d3d89-3f89-8h67-2189-123b298d3592"</span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/3a3f3d89-3f89-4f05-8188-751b298c79d5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"route_reservations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/route_reservations"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"shared_organizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/3a5d3d89-3f89-4f05-8188-8a2b298c79d5/relationships/shared_organizations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve the default domain for a given organization.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/organizations/:guid/domains/default</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Roles</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
<tr>
<td>Space Manager</td>
<td></td>
</tr>
<tr>
<td>Space Auditor</td>
<td></td>
</tr>
<tr>
<td>Org Auditor</td>
<td></td>
</tr>
<tr>
<td>Org Manager</td>
<td></td>
</tr>
<tr>
<td>Org Billing Manager</td>
<td>Can only view domains without an organization relationship.</td>
</tr>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Admin Read-Only</td>
<td></td>
</tr>
<tr>
<td>Global Auditor</td>
<td></td>
</tr>
</tbody></table>

          <h2 id="packages">Packages</h2>

<p>A package is an application&rsquo;s &lsquo;source code&rsquo;; either raw bits for your application or a pointer to these bits.</p>

<p>In Cloud Foundry, packages are staged to produce an executable Droplet. We currently support raw bits and Docker packages.</p>

          <h3 id="the-package-object">The package object</h3>
<pre class="highlight plaintext"><code>Example Package object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44f7c078-0934-470f-9883-4fcddc5b8f13"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bits"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING_UPLOAD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/upload"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"download"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/download"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1d3bf0ec-5806-43c4-b64e-8364dba1086a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td>Package type. Valid values are <code class="prettyprint">bits</code>, <code class="prettyprint">docker</code>.</td>
</tr>
<tr>
<td><strong>data</strong></td>
<td><em>object</em></td>
<td>Data for package type.</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>State of the package. Valid states are <code class="prettyprint">AWAITING_UPLOAD</code>, <code class="prettyprint">PROCESSING_UPLOAD</code>, <code class="prettyprint">READY</code>, <code class="prettyprint">FAILED</code>, <code class="prettyprint">COPYING</code>, <code class="prettyprint">EXPIRED</code>.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the package.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the package.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the package.</td>
</tr>
</tbody></table>

<h4 id="bits-package">Bits package</h4>

<p>A bits package is used to upload source code for an app to. The bits package will provide an <code class="prettyprint">upload</code> link to which a zip file should be uploaded.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td><code class="prettyprint">bits</code></td>
</tr>
<tr>
<td><strong>data.error</strong></td>
<td><em>string</em></td>
<td>If an error occurs this field will contain the error message.</td>
</tr>
<tr>
<td><strong>data.checksum.type</strong></td>
<td><em>string</em></td>
<td>The checksum type, for example: <code class="prettyprint">sha256</code>.</td>
</tr>
<tr>
<td><strong>data.checksum.value</strong></td>
<td><em>string</em></td>
<td>The checksum value. This will be populated after bits are uploaded.</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>State of the package. Valid states are <code class="prettyprint">AWAITING_UPLOAD</code>, <code class="prettyprint">PROCESSING_UPLOAD</code>, <code class="prettyprint">READY</code>, <code class="prettyprint">FAILED</code>, <code class="prettyprint">COPYING</code>, <code class="prettyprint">EXPIRED</code>.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the package.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the package.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the package.</td>
</tr>
</tbody></table>

<h4 id="docker-package">Docker package</h4>

<p>A docker package references a docker image from a registry.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td><code class="prettyprint">docker</code></td>
</tr>
<tr>
<td><strong>data.image</strong></td>
<td><em>string</em></td>
<td>The registry address of the image.</td>
</tr>
<tr>
<td><strong>data.username</strong></td>
<td><em>string</em></td>
<td>The username for the image&rsquo;s registry.</td>
</tr>
<tr>
<td><strong>data.password</strong></td>
<td><em>string</em></td>
<td>The password for the image&rsquo;s registry.</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>State of the package. Valid states are <code class="prettyprint">READY</code>, <code class="prettyprint">FAILED</code>, <code class="prettyprint">COPYING</code>, <code class="prettyprint">EXPIRED</code>.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the package.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the package.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the package.</td>
</tr>
</tbody></table>

          <h3 id="create-a-package">Create a package</h3>
<pre class="highlight plaintext"><code>Example Request (buildpack app)
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/packages"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "type": "bits",
    "relationships": {
      "app": {
        "data": {
          "guid": "[guid]"
        }
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44f7c078-0934-470f-9883-4fcddc5b8f13"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bits"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_UPLOAD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/upload"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"download"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/download"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1d3bf0ec-5806-43c4-b64e-8364dba1086a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight plaintext"><code>Example Request (docker app)
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/packages"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "type": "docker",
    "relationships": {
      "app": {
        "data": {
          "guid": "[guid]"
        }
      }
    },
    "data": {
      "image": "registry/image:latest",
      "username": "username",
      "password": "password"
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4cb65058-f04f-458f-aca1-5f4e43de6407"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"registry/image:latest"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"READY"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-03T00:53:54Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/4cb65058-f04f-458f-aca1-5f4e43de6407"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/d8b8148d-5798-44de-821a-64b85b15e968"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/packages</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td>Type of the package. Valid values are <code class="prettyprint">bits</code>, <code class="prettyprint">docker</code>.</td>
</tr>
<tr>
<td><strong>relationships.app</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to an app.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>data</strong></td>
<td><em>object</em></td>
<td>Data for package type.</td>
<td><code class="prettyprint">{}</code></td>
</tr>
</tbody></table>

<h4 id="conditional-parameters">Conditional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>data.image</strong></td>
<td><em>string</em></td>
<td>Required when <code class="prettyprint">type</code> is <code class="prettyprint">docker</code>. The registry address of the image.</td>
</tr>
<tr>
<td><strong>data.username</strong></td>
<td><em>string</em></td>
<td>Optional when <code class="prettyprint">type</code> is <code class="prettyprint">docker</code> and accessing a secured registry.</td>
</tr>
<tr>
<td><strong>data.password</strong></td>
<td><em>string</em></td>
<td>Optional when <code class="prettyprint">type</code> is <code class="prettyprint">docker</code> and accessing a secured registry.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the package.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the package.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="get-a-package">Get a package</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/packages/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44f7c078-0934-470f-9883-4fcddc5b8f13"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bits"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING_UPLOAD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/upload"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"download"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/download"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1d3bf0ec-5806-43c4-b64e-8364dba1086a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/packages/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-packages">List packages</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/packages"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages?types=bits%2Cdocker&amp;page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages?types=bits%2Cdocker&amp;page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a57fd932-85db-483a-a27e-b00efbb3b0a4"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bits"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AWAITING_UPLOAD"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-03T00:53:54Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/a57fd932-85db-483a-a27e-b00efbb3b0a4"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/a57fd932-85db-483a-a27e-b00efbb3b0a4/upload"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"download"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/a57fd932-85db-483a-a27e-b00efbb3b0a4/download"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/fa3558ce-1c4d-46fc-9776-54b9c8021745"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8f1f294d-cef8-4c11-9f0b-3bcdc0bd2691"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"registry/image:latest"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"READY"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-03T00:53:54Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/8f1f294d-cef8-4c11-9f0b-3bcdc0bd2691"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/fa3558ce-1c4d-46fc-9776-54b9c8021745"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all packages the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/packages</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of package guids to filter by.</td>
</tr>
<tr>
<td><strong>states</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of package states to filter by.</td>
</tr>
<tr>
<td><strong>types</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of package types to filter by.</td>
</tr>
<tr>
<td><strong>app_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app guids to filter by.</td>
</tr>
<tr>
<td><strong>space_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space guids to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-packages-for-an-app">List packages for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/packages"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/f2efe391-2b5b-4836-8518-ad93fa9ebf69/packages?states=READY&amp;page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/f2efe391-2b5b-4836-8518-ad93fa9ebf69/packages?states=READY&amp;page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"752edab0-2147-4f58-9c25-cd72ad8c3561"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bits"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"READY"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:09Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/752edab0-2147-4f58-9c25-cd72ad8c3561"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/752edab0-2147-4f58-9c25-cd72ad8c3561/upload"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"download"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/752edab0-2147-4f58-9c25-cd72ad8c3561/download"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/f2efe391-2b5b-4836-8518-ad93fa9ebf69"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve packages for an app that the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/packages</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of package guids to filter by.</td>
</tr>
<tr>
<td><strong>states</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of package states to filter by.</td>
</tr>
<tr>
<td><strong>types</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of package types to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-a-package">Update a package</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/packages/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "metadata": { "labels": { "key": "value" }, "annotations": {"note": "detailed information"}}}'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44f7c078-0934-470f-9883-4fcddc5b8f13"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bits"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING_UPLOAD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/upload"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"download"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/download"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1d3bf0ec-5806-43c4-b64e-8364dba1086a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/packages/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the package.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the package.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="delete-a-package">Delete a package</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/packages/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/packages/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="copy-a-package">Copy a package</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/packages?source_guid=[guid]"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "relationships": {
      "app": {
        "data": {
          "guid": "[destination-app-guid]"
        }
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fec72fc1-e453-4463-a86d-5df426f337a3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://awesome-sauce.example.org"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COPYING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:09Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/fec72fc1-e453-4463-a86d-5df426f337a3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/36208a68-562d-4f51-94ea-28bd8553a271"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint copies the bits of a source package to a target package.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/packages?source_guid=:guid</code></p>

<h4 id="required-query-parameters">Required Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>source_guid</strong></td>
<td><em>uuid</em></td>
<td>GUID of the source package to copy from.</td>
</tr>
</tbody></table>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>relationships.app</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to the destination app.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="download-package-bits">Download package bits</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/packages/[guid]/download"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Found</span>

You are being redirected.

</code></pre>

<p>This endpoint downloads the bits of an existing package.<br><br>
When using a remote blobstore, such as AWS, the response is a redirect to the actual location of the bits.
If the client is automatically following redirects, then the OAuth token that was used to communicate
with Cloud Controller will be replayed on the new redirect request. Some blobstores may reject
the request in that case. Clients may need to follow the redirect without including the OAuth token.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/packages/:guid/download</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="stage-a-package">Stage a package</h3>

<p>Staging a package is accomplished by creating a build. See <a href=#create-a-build>Create a build</a>.</p>

          <h3 id="upload-package-bits">Upload package bits</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/packages/[guid]/upload"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -F <span class="nv">bits</span><span class="o">=</span>@<span class="s2">"package.zip"</span> <span class="se">\</span>
  -F <span class="nv">resources</span><span class="o">=</span><span class="s1">'[{"path":"path/to/content.txt","size_in_bytes":123,"checksum": {"value": "b907173290db6a155949ab4dc9b2d019dea0c901"}},{"path":"path/to/code.jar","size_in_bytes":123,"checksum": {"value": "ff84f89760317996b9dd180ab996b079f418396f"}},{"path":"path/to/code.jar","size_in_bytes":123,"checksum": {"value": "ff84f89760317996b9dd180ab996b079f418396f"},"mode":"644"}]'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44f7c078-0934-470f-9883-4fcddc5b8f13"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bits"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha256"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROCESSING_UPLOAD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/upload"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"download"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/packages/44f7c078-0934-470f-9883-4fcddc5b8f13/download"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1d3bf0ec-5806-43c4-b64e-8364dba1086a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This upload endpoint takes a multi-part form requests for packages of type <code class="prettyprint">bits</code>. The request requires either a <a href="https://en.wikipedia.org/wiki/Zip_(file_format)">.zip file</a> uploaded under the <code class="prettyprint">bits</code> field or a list of <a href="#the-resource-match-object">resource match objects</a> under the <code class="prettyprint">resources</code> field. These field may be used together.</p>

<p>The <code class="prettyprint">resources</code> field in the request accepts the v2 resources object format.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/packages/:guid/upload</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>bits</strong></td>
<td><em>form field</em></td>
<td>A binary zip file containing the package bits.</td>
<td></td>
</tr>
<tr>
<td><strong>resources</strong></td>
<td><em>form field</em></td>
<td>Fingerprints of the application bits that have previously been pushed to Cloud Foundry, formatted as <a href="#the-resource-match-object">resource match objects</a>.</td>
<td><code class="prettyprint">[]</code></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="processes">Processes</h2>

<p>Processes define the runnable units of an app. An app can have multiple process types, each with differing commands and scale.
Processes for an app are defined by the buildpack used to stage the app and can be customized by including a <a href="#procfiles">Procfile</a> in the application source.</p>

<h4 id="web-process-type">Web process type</h4>

<ul>
<li>By default, a newly created app will come with one instance of the <code class="prettyprint">web</code> process and all other process types are scaled to zero</li>
<li>Scale the <code class="prettyprint">web</code> process to zero if it is not required for your app</li>
<li>Unless otherwise specified, all routes will be mapped to the <code class="prettyprint">web</code> process by default</li>
</ul>

          <h3 id="the-process-object">The process object</h3>
<pre class="highlight plaintext"><code>Example Process object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rackup"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
  </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
  </span><span class="nt">"health_check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"port"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:22Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:42Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"scale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/actions/scale"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td>Process type. A unique identifier for processes belonging to an app.</td>
</tr>
<tr>
<td><strong>command</strong></td>
<td><em>string</em> or <em>null</em></td>
<td>The command used to start the process. Use <em>null</em> to revert to the buildpack-detected or procfile-provided start command.</td>
</tr>
<tr>
<td><strong>instances</strong></td>
<td><em>integer</em></td>
<td>The number of instances to run.</td>
</tr>
<tr>
<td><strong>memory_in_mb</strong></td>
<td><em>integer</em></td>
<td>The memory in MB allocated per instance.</td>
</tr>
<tr>
<td><strong>disk_in_mb</strong></td>
<td><em>integer</em></td>
<td>The disk in MB allocated per instance.</td>
</tr>
<tr>
<td><strong>health_check</strong></td>
<td><a href="#the-health-check-object"><em>health check object</em></a></td>
<td>The health check to perform on the process.</td>
</tr>
<tr>
<td><strong>relationships.revision</strong> <em>(experimental)</em></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>The app revision the process is currently running.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the process.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the process.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the process.</td>
</tr>
</tbody></table>

          <h3 id="the-health-check-object">The health check object</h3>
<pre class="highlight plaintext"><code>Example health check object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"port"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td>The type of health check to perform. Valid values are <code class="prettyprint">http</code>, <code class="prettyprint">port</code>, and <code class="prettyprint">process</code>. Default is <code class="prettyprint">port</code>.</td>
</tr>
<tr>
<td><strong>data.timeout</strong></td>
<td><em>integer</em></td>
<td>The duration in seconds that health checks can fail before the process is restarted.</td>
</tr>
<tr>
<td><strong>data.invocation_timeout</strong></td>
<td><em>integer</em></td>
<td>The timeout in seconds for individual health check requests for <code class="prettyprint">http</code> and <code class="prettyprint">port</code> health checks.</td>
</tr>
<tr>
<td><strong>data.endpoint</strong></td>
<td><em>string</em></td>
<td>The endpoint called to determine if the app is healthy. This key is only present for <code class="prettyprint">http</code> health checks.</td>
</tr>
</tbody></table>

          <h3 id="the-process-stats-object">The process stats object</h3>
<pre class="highlight plaintext"><code>Example process stats object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"usage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T23:17:30.476314154Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cpu"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00038711029163348665</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mi">19177472</span><span class="p">,</span><span class="w">
    </span><span class="nt">"disk"</span><span class="p">:</span><span class="w"> </span><span class="mi">69705728</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.244.16.10"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instance_ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"external"</span><span class="p">:</span><span class="w"> </span><span class="mi">64546</span><span class="p">,</span><span class="w">
      </span><span class="nt">"internal"</span><span class="p">:</span><span class="w"> </span><span class="mi">8080</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"uptime"</span><span class="p">:</span><span class="w"> </span><span class="mi">9042</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mem_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">268435456</span><span class="p">,</span><span class="w">
  </span><span class="nt">"disk_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">1073741824</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fds_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">16384</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isolation_segment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example_iso_segment"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td>Process type. A unique identifier for processes belonging to an app.</td>
</tr>
<tr>
<td><strong>index</strong></td>
<td><em>integer</em></td>
<td>The zero-based index of running instances.</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>The state of the instance. Valid values are <code class="prettyprint">RUNNING</code>, <code class="prettyprint">CRASHED</code>, <code class="prettyprint">STARTING</code>, <code class="prettyprint">DOWN</code>.</td>
</tr>
<tr>
<td><strong>usage.time</strong></td>
<td><em>datetime</em></td>
<td>The time when the usage was requested.</td>
</tr>
<tr>
<td><strong>usage.cpu</strong></td>
<td><em>number</em></td>
<td>The current cpu usage of the instance.</td>
</tr>
<tr>
<td><strong>usage.mem</strong></td>
<td><em>integer</em></td>
<td>The current memory usage of the instance.</td>
</tr>
<tr>
<td><strong>usage.disk</strong></td>
<td><em>integer</em></td>
<td>The current disk usage of the instance.</td>
</tr>
<tr>
<td><strong>host</strong></td>
<td><em>string</em></td>
<td>The host the instance is running on.</td>
</tr>
<tr>
<td><strong>instance_ports</strong></td>
<td><em>object</em></td>
<td>JSON array of port mappings between the network-exposed port used to communicate with the app (<code class="prettyprint">external</code>) and port opened to the running process that it can listen on (<code class="prettyprint">internal</code>).</td>
</tr>
<tr>
<td><strong>uptime</strong></td>
<td><em>integer</em></td>
<td>The uptime in seconds for the instance.</td>
</tr>
<tr>
<td><strong>mem_quota</strong></td>
<td><em>integer</em></td>
<td>The maximum memory the instance is allowed to use.</td>
</tr>
<tr>
<td><strong>disk_quota</strong></td>
<td><em>integer</em></td>
<td>The maximum disk the instance is allowed to use.</td>
</tr>
<tr>
<td><strong>fds_quota</strong></td>
<td><em>integer</em></td>
<td>The maximum file descriptors the instance is allowed to use.</td>
</tr>
<tr>
<td><strong>isolation_segment</strong></td>
<td><em>string</em></td>
<td>The current isolation segment that the instance is running on. The value is <code class="prettyprint">null</code> when the instance is not placed on a particular isolation segment.</td>
</tr>
<tr>
<td><strong>details</strong></td>
<td><em>string</em></td>
<td>Information about errors placing the instance. The value is <code class="prettyprint">null</code>  if there are no placement errors.</td>
</tr>
</tbody></table>

          <h3 id="get-a-process">Get a process</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/processes/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rackup"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
  </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
  </span><span class="nt">"health_check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"port"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:22Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:42Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"scale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/actions/scale"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/processes/:guid</code> <br>
<code class="prettyprint">GET /v3/apps/:guid/processes/:type</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="get-stats-for-a-process">Get stats for a process</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/processes/[guid]/stats"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"usage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T23:17:30.476314154Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cpu"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00038711029163348665</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mem"</span><span class="p">:</span><span class="w"> </span><span class="mi">19177472</span><span class="p">,</span><span class="w">
        </span><span class="nt">"disk"</span><span class="p">:</span><span class="w"> </span><span class="mi">69705728</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.244.16.10"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instance_ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"external"</span><span class="p">:</span><span class="w"> </span><span class="mi">64546</span><span class="p">,</span><span class="w">
          </span><span class="nt">"internal"</span><span class="p">:</span><span class="w"> </span><span class="mi">8080</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"uptime"</span><span class="p">:</span><span class="w"> </span><span class="mi">9042</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mem_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">268435456</span><span class="p">,</span><span class="w">
      </span><span class="nt">"disk_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">1073741824</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fds_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">16384</span><span class="p">,</span><span class="w">
      </span><span class="nt">"isolation_segment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example_iso_segment"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/processes/:guid/stats</code> <br>
<code class="prettyprint">GET /v3/apps/:guid/processes/:type/stats</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-processes">List processes</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/processes </span><span class="se">\</span><span class="s2">
  -X GET </span><span class="se">\</span><span class="s2">
  -H "</span>Authorization: bearer <span class="o">[</span>token]<span class="s2">"
</span></code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
      </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
      </span><span class="nt">"health_check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"port"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:22Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"scale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/actions/scale"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fccacd9-4b02-4b96-8d02-8e865865e9eb"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"worker"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
      </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
      </span><span class="nt">"health_check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"process"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:22Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"scale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb/actions/scale"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb/stats"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all processes the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/processes</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of process guids to filter by.</td>
</tr>
<tr>
<td><strong>types</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of process types to filter by.</td>
</tr>
<tr>
<td><strong>app_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app guids to filter by.</td>
</tr>
<tr>
<td><strong>space_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space guids to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-processes-for-app">List processes for app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/processes </span><span class="se">\</span><span class="s2">
  -X GET </span><span class="se">\</span><span class="s2">
  -H "</span>Authorization: bearer <span class="o">[</span>token]<span class="s2">"
</span></code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
      </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
      </span><span class="nt">"health_check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"port"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:22Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"scale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/actions/scale"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fccacd9-4b02-4b96-8d02-8e865865e9eb"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"worker"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
      </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
      </span><span class="nt">"health_check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"process"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:22Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"scale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb/actions/scale"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/3fccacd9-4b02-4b96-8d02-8e865865e9eb/stats"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieves all processes belonging to an app.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/processes</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of process guids to filter by.</td>
</tr>
<tr>
<td><strong>types</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of process types to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-a-process">Update a process</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/processes/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "command": "rackup", "metadata": { "labels": { "key": "value" }, "annotations": {"note": "detailed information"}} }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rackup"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
  </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
  </span><span class="nt">"health_check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"port"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:22Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:42Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"scale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/actions/scale"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/processes/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>command</strong></td>
<td><em>string</em> or <em>null</em></td>
<td>The command used to start the process. Use <em>null</em> to revert to the buildpack-detected or procfile-provided start command.</td>
</tr>
<tr>
<td><strong>health_check</strong></td>
<td><a href="#the-health_check-object"><em>health_check object</em></a></td>
<td>The health check to perform on the process.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the process.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the process.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="scale-a-process">Scale a process</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/processes/[guid]/actions/scale"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "instances": 5,
    "memory_in_mb": 256,
    "disk_in_mb": 1024
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rackup"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">256</span><span class="p">,</span><span class="w">
  </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
  </span><span class="nt">"health_check"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"port"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:22Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-23T18:48:42Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"scale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/actions/scale"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/6a901b7c-9417-4dc1-8189-d3234aa0ab82/stats"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/processes/:guid/actions/scale</code> <br>
<code class="prettyprint">POST /v3/apps/:guid/processes/:type/actions/scale</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>instances</strong></td>
<td><em>integer</em></td>
<td>The number of instances to run.</td>
</tr>
<tr>
<td><strong>memory_in_mb</strong></td>
<td><em>integer</em></td>
<td>The memory in mb allocated per instance.</td>
</tr>
<tr>
<td><strong>disk_in_mb</strong></td>
<td><em>integer</em></td>
<td>The disk in mb allocated per instance.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="terminate-a-process-instance">Terminate a process instance</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/processes/[guid]/instances/[index]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>Terminate an instance of a specific process. Health management will eventually restart the instance.</p>

<p>This allows a user to stop a single misbehaving instance of a process.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/processes/:guid/instances/:index</code> <br>
<code class="prettyprint">DELETE /v3/apps/:guid/processes/:type/instances/:index</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="service-instances">Service Instances</h2>

<p>An instantiation of a service offering.</p>

          <h3 id="the-service-instance-object">The service instance object</h3>
<pre class="highlight plaintext"><code>Example Service Instance object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85ccdcad-d725-4109-bca4-fd6ba062b5c8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-17T13:54:21Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-17T13:54:21Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_service_instance"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ae0031f9-dd49-461c-a945-df40e77c39cb"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/ae0031f9-dd49-461c-a945-df40e77c39cb"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the service instance.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the service instance.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>relationships.space</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>The space the service instance is contained in.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the service instance.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the service instance.</td>
</tr>
</tbody></table>

          <h3 id="list-service-instances">List service instances</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_instances"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_instances?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_instances?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85ccdcad-d725-4109-bca4-fd6ba062b5c8"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-17T13:54:21Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-17T13:54:21Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_service_instance"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ae0031f9-dd49-461c-a945-df40e77c39cb"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/ae0031f9-dd49-461c-a945-df40e77c39cb"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint retrieves the service instances the user has access to. At the moment, this endpoint only returns managed service instances. This may change in the future.</p>

<p>This includes access granted by service instance sharing.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/service_instances</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of service instance names to filter by.</td>
</tr>
<tr>
<td><strong>space_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-shared-spaces-relationship">List shared spaces relationship</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_instances/[guid]/relationships/shared_spaces"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68d54d31-9b3a-463b-ba94-e8e4c32edbac"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_instances/bdeg4371-cbd3-4155-b156-dc0c2a431b4c/relationships/shared_spaces"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint lists the spaces that the service instance has been shared to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/service_instances/:guid/relationships/shared_spaces</code></p>

<h4 id="permitted-roles-in-the-service-instance-39-s-originating-space">Permitted Roles (in the service instance&rsquo;s originating space)</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-a-service-instance">Update a service instance</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_instances/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "metadata": { "labels": { "key": "value" }, "annotations": {"note": "detailed information"}}}'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85ccdcad-d725-4109-bca4-fd6ba062b5c8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-17T13:54:21Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-17T13:54:21Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_service_instance"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ae0031f9-dd49-461c-a945-df40e77c39cb"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/ae0031f9-dd49-461c-a945-df40e77c39cb"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/service_instances/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the service_instance.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the service_instance.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="share-a-service-instance-to-other-spaces">Share a service instance to other spaces</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_instances/[guid]/relationships/shared_spaces"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "data": [
      { "guid":"space-guid-1" },
      { "guid":"space-guid-2" }
    ]
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68d54d31-9b3a-463b-ba94-e8e4c32edbac"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b19f6525-cbd3-4155-b156-dc0c2a431b4c"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_instances/bdeg4371-cbd3-4155-b156-dc0c2a431b4c/relationships/shared_spaces"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint shares the service instance with the specified spaces.
In order to share into a space the requesting user must be a space developer in the target space.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/service_instances/:guid/relationships/shared_spaces</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>data</strong></td>
<td><a href="#to-many-relationships"><em>to-many relationship</em></a></td>
<td>Shared space relationships. Each space will have this service instance shared to it.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="unshare-a-service-instance-from-another-space">Unshare a service instance from another space</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_instances/[guid]/relationships/shared_spaces/[space_guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This endpoint unshares the service instance with the specified space. This will automatically unbind any applications bound to this service instance in the specified space.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/service_instances/:guid/relationships/shared_spaces/:space_guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="spaces">Spaces</h2>

<p>Every application and service is scoped to a space. Each org contains at least one space. A space provides users with access to a shared location for application development, deployment, and maintenance.</p>

          <h3 id="the-space-object">The space object</h3>
<pre class="highlight plaintext"><code>Example Space object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-space"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e00705b9-7b42-4561-ae97-2520399d2133"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/e00705b9-7b42-4561-ae97-2520399d2133"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the space.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the space.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>relationships.organization</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>The organization the space is contained in.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the space.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the space.</td>
</tr>
</tbody></table>

          <h3 id="create-a-space">Create a space</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/spaces"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "my-space",
    "relationships": {
      "organization": {
        "data": {
          "guid": "[org-guid]"
        }
      }
    }'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-space"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e00705b9-7b42-4561-ae97-2520399d2133"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/e00705b9-7b42-4561-ae97-2520399d2133"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/spaces</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Space name</td>
</tr>
<tr>
<td><strong>relationships.organization</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to an organization.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the space.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the space.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>OrgManager</td>
</tr>
</tbody></table>

          <h3 id="get-a-space">Get a space</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/spaces/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OKAdmin|</span>

Content-Type: application/json

{
  "guid": "885735b5-aea4-4cf5-8e44-961af0e41920",
  "created_at": "2017-02-01T01:33:58Z",
  "updated_at": "2017-02-01T01:33:58Z",
  "name": "my-space",
  "relationships": {
    "organization": {
      "data": {
        "guid": "e00705b9-7b42-4561-ae97-2520399d2133"
      }
    }
  },
  "links": {
    "self": {
      "href": "https://api.example.org/v3/spaces/885735b5-aea4-4cf5-8e44-961af0e41920"
    },
    "organization": {
      "href": "https://api.example.org/v3/organizations/e00705b9-7b42-4561-ae97-2520399d2133"
    }
  },
  "metadata": {
    "labels": {},
    "annotations": {}
  }
}

</code></pre>

<p>This endpoint retrieves the specified space object.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/spaces/:guid</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>include</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - Optionally include additional related resources in the response. <br>Valid value is <code class="prettyprint">org</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-spaces">List spaces</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/spaces"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"space1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e00705b9-7b42-4561-ae97-2520399d2133"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/e00705b9-7b42-4561-ae97-2520399d2133"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4c91047-7b29-4fda-b7f9-04033e5c9c9f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-02T00:14:30Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-02T00:14:30Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"space2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b4ce91bd-31df-4b7d-8fd4-21a6b533276b"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/d4c91047-7b29-4fda-b7f9-04033e5c9c9f"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/b4ce91bd-31df-4b7d-8fd4-21a6b533276b"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all spaces the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/spaces</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space names to filter by.</td>
</tr>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space guids to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>, <code class="prettyprint">name</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
<tr>
<td><strong>include</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - Optionally include a list of unique related resources in the response. <br>Valid value is <code class="prettyprint">org</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="update-a-space">Update a space</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.space/v3/spaces/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "name": "new-space-name" }'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-space"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e00705b9-7b42-4561-ae97-2520399d2133"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/organizations/e00705b9-7b42-4561-ae97-2520399d2133"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/spaces/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>New space name</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the space.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the space.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>OrgManager</td>
</tr>
<tr>
<td>SpaceManager</td>
</tr>
</tbody></table>

          <h3 id="get-assigned-isolation-segment">Get assigned isolation segment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/spaces/[guid]/relationships/isolation_segment"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4c91047-3b29-4fda-b7f9-04033e5a9c9f"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885735b5-aea4-4cf5-8e44-961af0e41920/relationships/isolation_segment"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"related"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/e4c91047-3b29-4fda-b7f9-04033e5a9c9f"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/spaces/:guid/relationships/isolation_segment</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="manage-isolation-segment">Manage isolation segment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/spaces/[guid]/relationships/isolation_segment"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "data": {
      "guid": "[iso-seg-guid]"
    }
   }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e4c91047-3b29-4fda-b7f9-04033e5a9c9f"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885735b5-aea4-4cf5-8e44-961af0e41920/relationships/isolation_segment"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"related"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/isolation_segments/e4c91047-3b29-4fda-b7f9-04033e5a9c9f"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint assigns an isolation segment to the space.
The isolation segment must be <a href="#entitle-organizations-for-an-isolation-segment">entitled</a> to the space&rsquo;s parent organization.</p>

<aside class="notice">Apps will not run in the newly assigned isolation segment until they are restarted.</aside>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/spaces/:guid/relationships/isolation_segment</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>data</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>Isolation segment relationship. Apps will run in this isolation segment. Set data to <code class="prettyprint">null</code> to remove the relationship.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
</tbody></table>

          <h2 id="stacks">Stacks</h2>

<p>Stacks are the base operating system and file system that your application will execute in.
A stack is how you configure applications to run against different operating systems
(like Windows or Linux)
and different versions of those operating systems
(like Windows 2012 or Windows 2016).</p>

<p>An application&rsquo;s <a href="#lifecycles">lifecycle</a> will specify which stack to execute the application in.
Buildpacks can also be associated with a particular stack if they contain stack-specific logic.
An application will automatically use buildpacks associated with the application&rsquo;s configured stack.</p>

<p>Stacks are not used for apps with a <a href="#docker-lifecycle">Docker lifecycle</a>.</p>

          <h3 id="the-stack-object">The stack object</h3>
<pre class="highlight plaintext"><code>Example Stack object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11c916c9-c2f9-440e-8e73-102e79c4704d"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:28Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:28Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-stack"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here is my stack!"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
     </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/v3/stacks/11c916c9-c2f9-440e-8e73-102e79c4704d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>The name of the stack</td>
</tr>
<tr>
<td><strong>description</strong></td>
<td><em>string</em></td>
<td>The description of the stack</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the stack.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the stack.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the stack.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
</tbody></table>

          <h3 id="create-a-stack">Create a stack</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/stacks"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "my-stack",
    "description": "Here is my stack!",
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11c916c9-c2f9-440e-8e73-102e79c4704d"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:28Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:28Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-stack"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here is my stack!"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
     </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/v3/stacks/11c916c9-c2f9-440e-8e73-102e79c4704d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/stacks</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the stack. Must be unique and no longer than 250 characters.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>description</strong></td>
<td><em>string</em></td>
<td>Description of the stack. Must no longer than 250 characters.</td>
<td><code class="prettyprint">null</code></td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the stack.</td>
<td></td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the stack.</td>
<td></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h3 id="get-a-stack">Get a stack</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/stacks/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11c916c9-c2f9-440e-8e73-102e79c4704d"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:28Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:28Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-stack"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here is my stack!"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
     </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/v3/stacks/11c916c9-c2f9-440e-8e73-102e79c4704d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/stacks/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-stacks">List stacks</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/stacks"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/stacks?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/stacks?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/stacks?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11c916c9-c2f9-440e-8e73-102e79c4704d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:28Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:28Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-stack-1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is my first stack!"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/stacks/11c916c9-c2f9-440e-8e73-102e79c4704d"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81c916c9-c2f9-440e-8e73-102e79c4704h"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:29Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:29Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-stack-2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is my second stack!"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/stacks/81c916c9-c2f9-440e-8e73-102e79c4704h"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre>

<p>Retrieve all stacks.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/stacks</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app names to filter by.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="update-a-stack">Update a stack</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/stacks/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "metadata": { "labels": { "key": "value" }, "annotations": {"note": "detailed information"}}}'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11c916c9-c2f9-440e-8e73-102e79c4704d"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:28Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-09T22:43:28Z"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-stack"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Here is my stack!"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
     </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/v3/stacks/11c916c9-c2f9-440e-8e73-102e79c4704d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/stacks/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the stack.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the stack.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="delete-a-stack">Delete a Stack</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/stacks/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/stacks/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h2 id="tasks">Tasks</h2>

<p>Tasks are one-off jobs that are intended to perform a task, stop, and be cleaned up, freeing up resources.</p>

<p>Examples of this include database migrations, sending things, and batch jobs.</p>

          <h3 id="the-task-object">The task object</h3>
<pre class="highlight plaintext"><code>Example Task object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sequence_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"migrate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rake db:migrate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
  </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
  </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"failure_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"droplet_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:41Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:42Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa/actions/cancel"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>sequence_id</strong></td>
<td><em>integer</em></td>
<td>User-facing id of the task. This number is unique for every task associated with a given app.</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the task.</td>
</tr>
<tr>
<td><strong>command</strong></td>
<td><em>string</em></td>
<td>Command that will be executed. This field may be excluded based on a user&rsquo;s role.</td>
</tr>
<tr>
<td><strong>disk_in_mb</strong></td>
<td><em>integer</em></td>
<td>Amount of disk to allocate for the task in MB.</td>
</tr>
<tr>
<td><strong>memory_in_mb</strong></td>
<td><em>integer</em></td>
<td>Amount of memory to allocate for the task in MB.</td>
</tr>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>State of the task. Possible states are <code class="prettyprint">PENDING</code>, <code class="prettyprint">RUNNING</code>, <code class="prettyprint">SUCCEEDED</code>, <code class="prettyprint">CANCELING</code>, and <code class="prettyprint">FAILED</code></td>
</tr>
<tr>
<td><strong>droplet_guid</strong></td>
<td><em>uuid</em></td>
<td>The guid of the droplet that will be used to run the command.</td>
</tr>
<tr>
<td><strong>result</strong></td>
<td><em>object</em></td>
<td>Results from the task</td>
</tr>
<tr>
<td><strong>result.failure_reason</strong></td>
<td><em>string</em></td>
<td>Null if the task succeeds, contains the error message if it fails.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the task.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the task.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the task.</td>
</tr>
</tbody></table>

          <h3 id="create-a-task">Create a task</h3>
<pre class="highlight plaintext"><code>Example Request with Command
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/tasks"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "command": "rake db:migrate" }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request with Template Process
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/tasks"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "template": { "process": {"guid": "89323d4e-2e84-43e7-83e9-adbf50a20c0e"} } }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sequence_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"migrate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rake db:migrate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
  </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
  </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"failure_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"droplet_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:41Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:42Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa/actions/cancel"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/apps/:app_guid/tasks</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>command</strong><sup>[1]</sup></td>
<td><em>string</em></td>
<td>Command that will be executed. <strong>NOTE:</strong> optional if a <code class="prettyprint">template.process.guid</code> is provided</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the task.</td>
<td>auto-generated</td>
</tr>
<tr>
<td><strong>disk_in_mb</strong><sup>[1]</sup></td>
<td><em>integer</em></td>
<td>Amount of disk to allocate for the task in MB.</td>
<td>operator-configured <code class="prettyprint">default_app_disk_in_mb</code></td>
</tr>
<tr>
<td><strong>memory_in_mb</strong><sup>[1]</sup></td>
<td><em>integer</em></td>
<td>Amount of memory to allocate for the task in MB.</td>
<td>operator-configured <code class="prettyprint">default_app_memory</code></td>
</tr>
<tr>
<td><strong>droplet_guid</strong></td>
<td><em>uuid</em></td>
<td>The guid of the droplet that will be used to run the command.</td>
<td>the app&rsquo;s current droplet</td>
</tr>
<tr>
<td><strong>template.process.guid</strong> <em>(experimental)</em></td>
<td><em>uuid</em></td>
<td>The guid of the process that will be used as a template.</td>
<td><code class="prettyprint">null</code></td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the package.</td>
<td></td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the package.</td>
<td></td>
</tr>
</tbody></table>

<p><sup>1 If not provided, and a <code class="prettyprint">template.process.guid</code> is provided, this field will use the value from the process with the given guid.</sup></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h3 id="get-a-task">Get a task</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/tasks/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sequence_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"migrate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rake db:migrate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
  </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
  </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"failure_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"droplet_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:41Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:42Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa/actions/cancel"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve a specific task. The <code class="prettyprint">command</code> field may be excluded
in the response based on the user&rsquo;s role.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/tasks/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
</tbody></table>

          <h3 id="list-tasks">List tasks</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/tasks"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sequence_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCEEDED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
      </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"failure_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"droplet_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:41Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa/actions/cancel"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63b4cd89-fd8b-4bf1-a311-7174fcc907d6"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sequence_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"migrate"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
      </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"failure_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exited with status 1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"droplet_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:41Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/63b4cd89-fd8b-4bf1-a311-7174fcc907d6"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/63b4cd89-fd8b-4bf1-a311-7174fcc907d6/actions/cancel"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all tasks the user has access to. The <code class="prettyprint">command</code> field is excluded in the response.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/tasks</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of task guids to filter by.</td>
</tr>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of task names to filter by.</td>
</tr>
<tr>
<td><strong>states</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of task states to filter by.</td>
</tr>
<tr>
<td><strong>app_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app guids to filter by.</td>
</tr>
<tr>
<td><strong>space_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space guids to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-tasks-for-an-app">List tasks for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/:guid/tasks"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/tasks?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/tasks?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/tasks?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sequence_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCEEDED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
      </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"failure_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"droplet_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:41Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa/actions/cancel"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63b4cd89-fd8b-4bf1-a311-7174fcc907d6"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sequence_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"migrate"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
      </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"failure_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exited with status 1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"droplet_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:41Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/63b4cd89-fd8b-4bf1-a311-7174fcc907d6"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/63b4cd89-fd8b-4bf1-a311-7174fcc907d6/actions/cancel"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve tasks for an app the user has access to. The <code class="prettyprint">command</code> field may be
excluded in the response based on the user&rsquo;s role.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/tasks</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of task guids to filter by.</td>
</tr>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of task names to filter by.</td>
</tr>
<tr>
<td><strong>states</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of task states to filter by.</td>
</tr>
<tr>
<td><strong>sequence_ids</strong></td>
<td><em>list of strings</em></td>
<td>Comma delimited list of sequence ids to filter by. Valid values are integers &gt;= 1</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
</tbody></table>

          <h3 id="update-a-task">Update a task</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/tasks/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "metadata": { "labels": { "key": "value" }, "annotations": {"note": "detailed information"}}}'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sequence_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"migrate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rake db:migrate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
  </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
  </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"failure_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"droplet_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:41Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:42Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa/actions/cancel"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/tasks/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the task.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the task.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h3 id="cancel-a-task">Cancel a task</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/tasks/[guid]/actions/cancel"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sequence_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"migrate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rake db:migrate"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
  </span><span class="nt">"disk_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
  </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"failure_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"droplet_guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:41Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-04T17:00:42Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"cancel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/tasks/d5cc22ec-99a3-4e6a-af91-a44b4ab7b6fa"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/droplets/740ebd2b-162b-469a-bd72-3edb96fabd9a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Cancels a running task.</p>

<p>Canceled tasks will initially be in state <code class="prettyprint">CANCELING</code> and will move to state <code class="prettyprint">FAILED</code> once the cancel request has been processed.</p>

<p>Cancel requests are idempotent and will be processed according to the state of the task when the request is executed.</p>

<p>Canceling a task that is in <code class="prettyprint">SUCCEEDED</code> or <code class="prettyprint">FAILED</code> state will return an error.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/tasks/:task_guid/actions/cancel</code> <br>
<code class="prettyprint">PUT /v3/tasks/:task_guid/cancel</code> <em>(Deprecated)</em></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h1 id="experimental-resources">Experimental Resources</h1>

          <h2 id="app-features">App Features</h2>

          <h3 id="the-app-feature-object">The app feature object</h3>
<pre class="highlight plaintext"><code>Example App Feature object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable SSHing into the app."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the app feature.</td>
</tr>
<tr>
<td><strong>description</strong></td>
<td><em>string</em></td>
<td>Description of the app feature.</td>
</tr>
<tr>
<td><strong>enabled</strong></td>
<td><em>boolean</em></td>
<td>Denotes whether or not the app feature is enabled.</td>
</tr>
</tbody></table>

          <h3 id="supported-app-features">Supported app features</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>ssh</strong></td>
<td>Enable SSHing into the app.</td>
</tr>
<tr>
<td><strong>revisions</strong></td>
<td>Enable versioning of an application (experimental)</td>
</tr>
</tbody></table>

          <h3 id="get-an-app-feature">Get an app feature</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/features/[name]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable SSHing into the app."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/features/:name</code> <br></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-app-features">List app features</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/features"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable SSHing into the app."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"revisions"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable versioning of an application (experimental)"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/v3/apps/05d39de4-2c9e-4c76-8fd6-10417da07e42/features"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/v3/apps/05d39de4-2c9e-4c76-8fd6-10417da07e42/features"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint retrieves the list of features for the specified app.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/features</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-an-app-feature">Update an app feature</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/features/[name]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "enabled": false }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable SSHing into the app."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/apps/:guid/features/:name</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>enabled</strong></td>
<td><em>boolean</em></td>
<td>Denotes whether or not the app feature should be enabled.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="app-manifest">App Manifest</h2>

          <p>The app manifest is a method for applying bulk configuration to an app and its underlying processes.</p>

<h3 id="the-app-manifest-specification">The app manifest specification</h3>
<pre class="highlight plaintext"><code>Example Manifest
</code></pre>
<pre class="highlight yaml"><code><span class="nn">---</span>
<span class="s">applications</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">buildpacks</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">ruby_buildpack</span>
  <span class="pi">-</span> <span class="s">java_buildpack</span>
  <span class="s">env</span><span class="pi">:</span>
    <span class="s">VAR1</span><span class="pi">:</span> <span class="s">value1</span>
    <span class="s">VAR2</span><span class="pi">:</span> <span class="s">value2</span>
  <span class="s">routes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">route</span><span class="pi">:</span> <span class="s">route.example.com</span>
  <span class="pi">-</span> <span class="s">route</span><span class="pi">:</span> <span class="s">another-route.example.com</span>
  <span class="s">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">my-service1</span>
  <span class="pi">-</span> <span class="s">my-service2</span>
  <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">my-service-with-arbitrary-params</span>
    <span class="s">parameters</span><span class="pi">:</span>
      <span class="s">key1</span><span class="pi">:</span> <span class="s">value1</span>
      <span class="s">key2</span><span class="pi">:</span> <span class="s">value2</span>
  <span class="s">stack</span><span class="pi">:</span> <span class="s">cflinuxfs3</span>
  <span class="s">metadata</span><span class="pi">:</span>
    <span class="s">annotations</span><span class="pi">:</span>
      <span class="s">contact</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bob@example.com</span><span class="nv"> </span><span class="s">jane@example.com"</span>
    <span class="s">labels</span><span class="pi">:</span>
      <span class="s">sensitive</span><span class="pi">:</span> <span class="s">true</span>
  <span class="s">processes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">type</span><span class="pi">:</span> <span class="s">web</span>
    <span class="s">command</span><span class="pi">:</span> <span class="s">start-web.sh</span>
    <span class="s">disk_quota</span><span class="pi">:</span> <span class="s">512M</span>
    <span class="s">health-check-http-endpoint</span><span class="pi">:</span> <span class="s">/healthcheck</span>
    <span class="s">health-check-type</span><span class="pi">:</span> <span class="s">http</span>
    <span class="s">health-check-invocation-timeout</span><span class="pi">:</span> <span class="s">10</span>
    <span class="s">instances</span><span class="pi">:</span> <span class="s">3</span>
    <span class="s">memory</span><span class="pi">:</span> <span class="s">500M</span>
    <span class="s">timeout</span><span class="pi">:</span> <span class="s">10</span>
  <span class="pi">-</span> <span class="s">type</span><span class="pi">:</span> <span class="s">worker</span>
    <span class="s">command</span><span class="pi">:</span> <span class="s">start-worker.sh</span>
    <span class="s">disk_quota</span><span class="pi">:</span> <span class="s">1G</span>
    <span class="s">health-check-type</span><span class="pi">:</span> <span class="s">process</span>
    <span class="s">instances</span><span class="pi">:</span> <span class="s">2</span>
    <span class="s">memory</span><span class="pi">:</span> <span class="s">256M</span>
    <span class="s">timeout</span><span class="pi">:</span> <span class="s">15</span>
  <span class="s">sidecars</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">authenticator</span>
    <span class="s">process_types</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">web'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">worker'</span> <span class="pi">]</span>
    <span class="s">command</span><span class="pi">:</span> <span class="s">bundle exec run-authenticator</span>
    <span class="s">memory</span><span class="pi">:</span> <span class="s">800M</span>
  <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">upcaser</span>
    <span class="s">process_types</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">worker'</span> <span class="pi">]</span>
    <span class="s">command</span><span class="pi">:</span> <span class="s">./tr-server</span>
    <span class="s">memory</span><span class="pi">:</span> <span class="s">900M</span>

</code></pre>

<h4 id="app-level-configuration">App-level configuration</h4>

<p>This configuration is specified at the top-level and applies to all of the app&rsquo;s processes.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>buildpacks</strong></td>
<td>Must be an Array. <br>a) An empty array, which will automatically select the appropriate default buildpack according to the coding language. <br>b) An array of one or more URLs pointing to buildpacks. <br>c) An array of one or more installed buildpack names. <br>Replaces the legacy <code class="prettyprint">buildpack</code> field.</td>
</tr>
<tr>
<td><strong>env</strong></td>
<td>A key-value hash of environment variables to be used for the app when running.</td>
</tr>
<tr>
<td><strong>no-route</strong></td>
<td>Boolean value. Removes the app&rsquo;s routes if <code class="prettyprint">true</code>; ignored if <code class="prettyprint">false</code>. Cannot be used in conjunction with the <code class="prettyprint">routes</code> attribute when set to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td><strong>processes</strong></td>
<td>List of configurations for individual process types. See <a href="#process-level-configuration"><em>Process-level configuration</em></a>.</td>
</tr>
<tr>
<td><strong>random-route</strong></td>
<td>Boolean value. Creates a random route for the app if <code class="prettyprint">true</code>; ignored if <code class="prettyprint">false</code>, if <code class="prettyprint">routes</code> is specified, if the app already has routes, or if <code class="prettyprint">no-route</code> is specified.</td>
</tr>
<tr>
<td><strong>routes</strong></td>
<td>An array of route hashes declaring HTTP and TCP routes to be mapped to the app. Each route is created if it does not already exist. Example route hash entry: <code class="prettyprint">- route: www.example.com/path</code></td>
</tr>
<tr>
<td><strong>services</strong></td>
<td>An array of service-instances to bind to the app. See <a href="#app-manifest-service-level-configuration"><em>Service-level configuration</em></a>.</td>
</tr>
<tr>
<td><strong>sidecars</strong></td>
<td>An array of configurations for individual sidecars. See <a href="#app-manifest-sidecar-level-configuration"><em>Sidecar-level configuration</em></a>.</td>
</tr>
<tr>
<td><strong>stack</strong></td>
<td>The root filesystem to use with the buildpack, for example <code class="prettyprint">cflinuxfs3</code>.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels">Labels</a> applied to the app.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations">Annotations</a> applied to the app.</td>
</tr>
<tr>
<td><strong>buildpack</strong></td>
<td><strong>DEPRECATED in favor of the <code class="prettyprint">buildpacks</code> field above.</strong> <br> a) Blank OR <code class="prettyprint">default</code> OR <code class="prettyprint">null</code> will automatically select the appropriate default buildpack according to the coding language. <br>b) A URL pointing to a buildpack. <br>c) Name of an installed buildpack.</td>
</tr>
</tbody></table>

<h4 id="process-level-configuration"><a name="app-manifest-process-level-configuration"></a> Process-level configuration</h4>

<p>This configuration is for the individual process. Each process is created if it does not already exist.</p>

<blockquote>
<p><strong>Note:</strong> With the exception of &ldquo;type&rdquo;, process-level fields can also be provided at the top-level and will apply to the &ldquo;web&rdquo; process only. <br/><br/> If there is a process with &ldquo;type: web&rdquo; defined in the processes section, then all top level process configuration will be ignored.</p>
</blockquote>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><strong>(Required)</strong> Process type. The identifier for the processes to be configured.</td>
</tr>
<tr>
<td><strong>command</strong></td>
<td>The command used to start the process. This overrides start commands from <a href="#procfiles">Procfiles</a> and buildpacks.</td>
</tr>
<tr>
<td><strong>disk_quota</strong></td>
<td>The disk limit for all instances of the web process. <br>This attribute requires a unit of measurement: <code class="prettyprint">B</code>, <code class="prettyprint">K</code>, <code class="prettyprint">KB</code>, <code class="prettyprint">M</code>, <code class="prettyprint">MB</code>, <code class="prettyprint">G</code>, <code class="prettyprint">GB</code>, <code class="prettyprint">T</code>, or <code class="prettyprint">TB</code> in upper case or lower case.</td>
</tr>
<tr>
<td><strong>health-check-http-endpoint</strong></td>
<td>Endpoint called to determine if the app is healthy.</td>
</tr>
<tr>
<td><strong>health-check-invocation-timeout</strong></td>
<td>The timeout in seconds for individual health check requests for http and port health checks.</td>
</tr>
<tr>
<td><strong>health-check-type</strong></td>
<td>Type of health check to perform. <code class="prettyprint">none</code> is deprecated and an alias to <code class="prettyprint">process</code>.</td>
</tr>
<tr>
<td><strong>instances</strong></td>
<td>The number of instances to run.</td>
</tr>
<tr>
<td><strong>memory</strong></td>
<td>The memory limit for all instances of the web process. <br>This attribute requires a unit of measurement: <code class="prettyprint">B</code>, <code class="prettyprint">K</code>, <code class="prettyprint">KB</code>, <code class="prettyprint">M</code>, <code class="prettyprint">MB</code>, <code class="prettyprint">G</code>, <code class="prettyprint">GB</code>, <code class="prettyprint">T</code>, or <code class="prettyprint">TB</code> in upper case or lower case.</td>
</tr>
<tr>
<td><strong>timeout</strong></td>
<td>Time in seconds at which the health-check will report failure.</td>
</tr>
</tbody></table>

<h4 id="service-level-configuration"><a name="app-manifest-service-level-configuration"></a> Service-level configuration</h4>

<p>This configuration is <em>creating</em> new service bindings between the app and a service instance. The <code class="prettyprint">services</code> field can
take either an array of service instance name strings or an array of the following service-level fields.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><strong>(Required)</strong> Service instance name.  The name of the service instance to be bound to.</td>
</tr>
<tr>
<td><strong>parameters</strong></td>
<td>A map of arbitrary key/value pairs to send to the service broker during binding.</td>
</tr>
</tbody></table>

<h4 id="sidecar-level-configuration"><a name="app-manifest-sidecar-level-configuration"></a> Sidecar-level configuration</h4>

<p>This configuration is for the individual sidecar.  Each sidecar is created if it does not already exist.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><strong>(Required)</strong> Sidecar name.  The identifier for the sidecars to be configured.</td>
</tr>
<tr>
<td><strong>command</strong></td>
<td>The command used to start the sidecar.</td>
</tr>
<tr>
<td><strong>process_types</strong></td>
<td>List of processes to associate sidecar with.</td>
</tr>
<tr>
<td><strong>memory</strong></td>
<td>Memory in mb that the sidecar will be allocated.</td>
</tr>
</tbody></table>

          <h3 id="generate-an-app-manifest">Generate an app manifest</h3>

<p>Generate a manifest for an app and its underlying processes.</p>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/manifest"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-yaml</span>

---
applications:
- name: my-app
  stack: cflinuxfs3
  routes:
  - route: my-app.example.com
  processes:
  - type: web
    instances: 2
    memory: 512M
    disk_quota: 1024M
    health-check-type: port
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/manifest</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="apply-an-app-manifest">Apply an app manifest</h3>

<blockquote>
<p><strong>Note:</strong> Apply manifest will only trigger an immediate update for the &ldquo;disk_quota&rdquo;, &ldquo;instances&rdquo;, and &ldquo;memory&rdquo; properties. All other properties will update on app restart.</p>
</blockquote>

<p>Apply changes specified in a manifest to an app and its underlying processes. These changes are additive and will not modify any unspecified properties or remove any existing environment variables, routes, or services.</p>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/actions/apply_manifest"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/x-yaml"</span> <span class="se">\</span>
  --data-binary @/path/to/manifest.yml
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/apps/:guid/actions/apply_manifest</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="app-restart">App Restart</h2>

          <h3 id="restart-an-app">Restart an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/actions/restart"</span> <span class="se">\</span>
-X POST <span class="se">\</span>
-H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STARTED"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17T21:41:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T11:32:30Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lifecycle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildpack"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"buildpacks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java_buildpack"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"stack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cflinuxfs3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"processes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/processes"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route_mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/route_mappings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/environment_variables"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"current_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets/current"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"droplets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/droplets"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/tasks"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/start"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"stop"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/actions/stop"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"deployed_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions/deployed"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/apps/:guid/actions/restart</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="app-ssh-enabled">App SSH Enabled</h2>

          <h3 id="get-app-ssh-enabled">Get app SSH enabled</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/:guid/ssh_enabled"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disabled globally"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/ssh_enabled</code> <br></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h2 id="deployments">Deployments</h2>

<p>Deployments are objects that manage updates to applications with zero downtime.</p>

<p>They can either:</p>

<ul>
<li><p>Manage updating an app&rsquo;s <a href="#droplets">droplet</a> directly after an application package is staged</p></li>
<li><p>Roll an app back to a specific <a href="#revisions">revision</a> along with its associated droplet</p></li>
</ul>

<p>It is possible to use <a href="https://docs.cloudfoundry.org/devguide/deploy-apps/rolling-deploy.html">rolling deployments</a> for
applications without incurring downtime. This is different from the traditional method of pushing app updates which performs start/stop deployments.</p>

          <h3 id="the-deployment-object">The deployment object</h3>
<pre class="highlight plaintext"><code>Example Deployment object
</code></pre>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEPLOYING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44ccfa61-dbcf-4a0d-82fe-f668e9d2a962"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"previous_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc6bc315-bd06-49ce-92c2-bc3ad45268c2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"new_processes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd5d3e60-f88c-4c37-b1ae-667cfc65a856"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web-deployment-59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56126cba-656a-4eba-a81e-7e9951b2df57"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-25T22:42:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-25T22:42:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"305cea31-5a44-45ca-b51b-e89c7a8ef8b2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/deployments/59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/305cea31-5a44-45ca-b51b-e89c7a8ef8b2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>state</strong></td>
<td><em>string</em></td>
<td>The state of the deployment. Valid values are <code class="prettyprint">DEPLOYING</code>, <code class="prettyprint">DEPLOYED</code>, <code class="prettyprint">CANCELING</code>, <code class="prettyprint">CANCELED</code>, <code class="prettyprint">FAILING</code>, or <code class="prettyprint">FAILED</code>.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the deployment.</td>
</tr>
<tr>
<td><strong>relationships.app</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>The app the deployment is updating.</td>
</tr>
<tr>
<td><strong>droplet</strong></td>
<td><em>object</em></td>
<td>The droplet the deployment is transitioning the app to.</td>
</tr>
<tr>
<td><strong>previous_droplet</strong></td>
<td><em>object</em></td>
<td>The app&rsquo;s <a href="#get-current-droplet-association-for-an-app">current droplet</a> before the deployment was created.</td>
</tr>
<tr>
<td><strong>new_processes</strong></td>
<td><em>array</em></td>
<td>List of processes created as part of the deployment</td>
</tr>
<tr>
<td><strong>revision</strong></td>
<td><em>object</em></td>
<td>The <a href="#revisions">revision</a> the deployment is transitioning the app to.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the deployment.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the deployment.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
</tbody></table>

          <h3 id="create-a-deployment">Create a deployment</h3>
<pre class="highlight plaintext"><code>Example Request with Droplet
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/deployments"</span> <span class="se">\</span>
-X POST <span class="se">\</span>
-H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
-H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
-d <span class="s1">'{
  "droplet": {
    "guid": "[droplet-guid]"
  },
  "relationships": {
    "app": {
      "data": {
        "guid": "[app-guid]"
      }
    }
  }
}'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Request with Revision
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/deployments"</span> <span class="se">\</span>
-X POST <span class="se">\</span>
-H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
-H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
-d <span class="s1">'{
  "revision": {
    "guid": "[revision-guid]"
  },
  "relationships": {
    "app": {
      "data": {
        "guid": "[app-guid]"
      }
    }
  }
}'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEPLOYING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44ccfa61-dbcf-4a0d-82fe-f668e9d2a962"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"previous_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc6bc315-bd06-49ce-92c2-bc3ad45268c2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"new_processes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd5d3e60-f88c-4c37-b1ae-667cfc65a856"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web-deployment-59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56126cba-656a-4eba-a81e-7e9951b2df57"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-25T22:42:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-25T22:42:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"305cea31-5a44-45ca-b51b-e89c7a8ef8b2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/deployments/59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/305cea31-5a44-45ca-b51b-e89c7a8ef8b2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>When you create a new deployment you can either provide a specific droplet or revision to deploy. If no revision or droplet is provided, the droplet associated with the <a href="#apps">app</a> is deployed.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/deployments</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>relationships.app</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>The app to deploy a droplet for.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>droplet</strong><sup>[1]</sup></td>
<td><em>object</em></td>
<td>The droplet to deploy for the app. This will update the app&rsquo;s <a href="#get-current-droplet-association-for-an-app">current droplet</a> to this droplet</td>
<td>The app&rsquo;s <a href="#get-current-droplet-association-for-an-app">current droplet</a></td>
</tr>
<tr>
<td><strong>revision</strong><sup>[1]</sup></td>
<td><em>object</em></td>
<td>The <a href="#revisions">revision</a> whose droplet to deploy for the app. This will update the app&rsquo;s <a href="#get-current-droplet-association-for-an-app">current droplet</a> to this droplet</td>
<td></td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the deployment.</td>
<td></td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the deployment.</td>
<td></td>
</tr>
</tbody></table>

<p><sup>1 Only a droplet <em>or</em> a revision may be provided, not both.</sup></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="get-a-deployment">Get a deployment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/deployments/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEPLOYING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44ccfa61-dbcf-4a0d-82fe-f668e9d2a962"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"previous_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc6bc315-bd06-49ce-92c2-bc3ad45268c2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"new_processes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd5d3e60-f88c-4c37-b1ae-667cfc65a856"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web-deployment-59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56126cba-656a-4eba-a81e-7e9951b2df57"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-25T22:42:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-25T22:42:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"305cea31-5a44-45ca-b51b-e89c7a8ef8b2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/deployments/59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/305cea31-5a44-45ca-b51b-e89c7a8ef8b2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/deployments/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-deployments">List deployments</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/deployments"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/deployments?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/deployments?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEPLOYING"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44ccfa61-dbcf-4a0d-82fe-f668e9d2a962"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"previous_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc6bc315-bd06-49ce-92c2-bc3ad45268c2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"new_processes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd5d3e60-f88c-4c37-b1ae-667cfc65a856"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web-deployment-59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56126cba-656a-4eba-a81e-7e9951b2df57"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-25T22:42:10Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-25T22:42:10Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"305cea31-5a44-45ca-b51b-e89c7a8ef8b2"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/deployments/59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/305cea31-5a44-45ca-b51b-e89c7a8ef8b2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all deployments the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/deployments</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>app_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app guids to filter by.</td>
</tr>
<tr>
<td><strong>states</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of states to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="update-a-deployment">Update a deployment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/deployments/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "metadata": { "labels": { "key": "value" }, "annotations": {"note": "detailed information"}}}'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEPLOYING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44ccfa61-dbcf-4a0d-82fe-f668e9d2a962"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"previous_droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cc6bc315-bd06-49ce-92c2-bc3ad45268c2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"new_processes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fd5d3e60-f88c-4c37-b1ae-667cfc65a856"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web-deployment-59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56126cba-656a-4eba-a81e-7e9951b2df57"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-25T22:42:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-25T22:42:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"305cea31-5a44-45ca-b51b-e89c7a8ef8b2"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/deployments/59c3d133-2b83-46f3-960e-7765a129aea4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/305cea31-5a44-45ca-b51b-e89c7a8ef8b2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/deployments/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the deployment.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the deployment.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="cancel-a-deployment">Cancel a deployment</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/deployments/[guid]/actions/cancel"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/deployments/:guid/actions/cancel</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="resource-matches">Resource Matches</h2>

<p>This endpoint matches given resource SHA-1 / file size pairs against the Cloud Controller cache,
and reports the subset that describes already cached files.
This is usually used to avoid uploading duplicate files
when pushing an app which has only been partially changed.
The <code class="prettyprint">path</code> and <code class="prettyprint">mode</code> fields are not used when matching.</p>

<p>When <a href="#upload-package-bits">uploading package bits</a>,
the response from this endpoint should be used as the <code class="prettyprint">resources</code> form field.
As such, it is useful to include the <code class="prettyprint">path</code> and <code class="prettyprint">mode</code> fields for each resource
even though they are not used when determining a resource match.</p>

<p>Cloud Foundry operators may set minimum / maximum file sizes to match against.
If the file size provided is outside this range,
it will not be matched against.</p>

          <h3 id="the-resource-match-object">The resource match object</h3>
<pre class="highlight plaintext"><code>Example Resource Match object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9993e364706816aba3e25717850c26c9cd0d89d"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"size_in_bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"path/to/file"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"644"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>checksum.value</strong></td>
<td><em>string</em></td>
<td><strong>(Required)</strong> SHA-1 hash of file</td>
</tr>
<tr>
<td><strong>size_in_bytes</strong></td>
<td><em>integer</em></td>
<td><strong>(Required)</strong> Size of file in bytes</td>
</tr>
<tr>
<td><strong>path</strong></td>
<td><em>string</em></td>
<td>Path to the file, relative to app root</td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td><em>string</em></td>
<td>File mode, i.e. POSIX file permissions. Defaults to 0744</td>
</tr>
</tbody></table>

          <h3 id="create-a-resource-match">Create a resource match</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/resource_matches"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
        "resources": [
          {
            "checksum": { "value": "002d760bea1be268e27077412e11a320d0f164d3" },
            "size_in_bytes": 36,
            "path": "C:\\path\\to\\file",
            "mode": "645"
          },
          {
            "checksum": { "value": "a9993e364706816aba3e25717850c26c9cd0d89d" },
            "size_in_bytes": 1,
            "path": "path/to/file",
            "mode": "644"
          }
        ]
      }'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9993e364706816aba3e25717850c26c9cd0d89d"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"size_in_bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"path/to/file"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"644"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint returns a list of <strong>cached</strong> resources from the input list.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/resource_matches</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>resources</strong></td>
<td><em>array of <a href="#the-resource-match-object">resource_object</a></em></td>
<td>List of resources to check for in the resource cache</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h2 id="revisions">Revisions</h2>

<p>Revisions represent code used by an application at a specific time. The most recent revision for a running application represents code and configuration currently running in Cloud Foundry.</p>

<p>Revision are created when the following is changed:</p>

<ul>
<li><p>A new droplet is created for an app</p></li>
<li><p>An app&rsquo;s environment variables are changed</p></li>
<li><p>The custom start command for an app is added or changed</p></li>
<li><p>An app rolls back to a prior revision</p></li>
</ul>

<p>Each time a new revision is created the reason(s) for the revisions creation will be appended to its description field.</p>

<p>By default the cloud foundry API retains at most 100 revisions per app.</p>

          <h3 id="the-revision-object">The revision object</h3>
<pre class="highlight plaintext"><code>Example Revision object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initial revision."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/revisions/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/revisions/885735b5-aea4-4cf5-8e44-961af0e41920/environment_variables"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the revision.</td>
</tr>
<tr>
<td><strong>version</strong></td>
<td><em>integer</em></td>
<td>Human-readable identifier for the revision. Starts at 1, increments by 1 for each new revision of the app, and rolls back over to 1 at 9999.</td>
</tr>
<tr>
<td><strong>droplet</strong></td>
<td><em>object</em></td>
<td>The droplet used by a process running the revision.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>description</strong></td>
<td><em>string</em></td>
<td>A short description of the reason for revision.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the revision.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the revision.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
</tbody></table>

          <h3 id="get-a-revision">Get a revision</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/revisions/[revision_guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initial revision."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/revisions/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/revisions/885735b5-aea4-4cf5-8e44-961af0e41920/environment_variables"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/revisions/:revguid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-revisions-for-an-app">List revisions for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/:guid/revisions"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initial revision."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/revisions/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/revisions/885735b5-aea4-4cf5-8e44-961af0e41920/environment_variables"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve revisions for an app the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/revisions</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>versions</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of revision versions to filter by.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-deployed-revisions-for-an-app">List deployed revisions for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/:guid/revisions/deployed"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/revisions?page=1&amp;per_page=50"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initial revision."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/revisions/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/revisions/885735b5-aea4-4cf5-8e44-961af0e41920/environment_variables"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve deployed revisions for an app the user has access to.
Deployed revisions are revisions that are linked to started processes in the app.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/revisions/deployed</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-a-revision">Update a revision</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/revisions/[revguid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "metadata": { "labels": { "key": "value" }, "annotations": {"note": "detailed information"}}}'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"droplet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"585bc3c1-3743-497d-88b0-403ad6b56d16"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Initial revision."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/revisions/885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/revisions/885735b5-aea4-4cf5-8e44-961af0e41920/environment_variables"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/revisions/:revguid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the revision.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the revision.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="route-mappings">Route Mappings</h2>

<p>Route Mappings are relations between an app and a route; to direct traffic from a route to an app, you must first create a mapping.</p>

          <h3 id="the-route-mapping-object">The route mapping object</h3>
<pre class="highlight plaintext"><code>Example Route Mapping object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-17T01:50:05Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings/89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v2/routes/9612ecbd-36f1-4ada-927a-efae9310b3a1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/web"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the route mapping.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
</tbody></table>

          <h3 id="create-a-route-mapping">Create a route mapping</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/route_mappings"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "relationships": {
      "app": {
        "guid": "[app-guid]"
      },
      "route": {
        "guid": "[route_guid]"
      }
    },
    "weight": 55
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-17T01:50:05Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings/89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v2/routes/9612ecbd-36f1-4ada-927a-efae9310b3a1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/web"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/route_mappings</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>relationships.app</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to an app.</td>
</tr>
<tr>
<td><strong>relationships.route</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to a route.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>relationships.process</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to a process. This relationship is specified by <code class="prettyprint">type</code> instead of <code class="prettyprint">guid</code>.</td>
<td></td>
</tr>
<tr>
<td><strong>weight</strong></td>
<td>int</td>
<td>A relative weight for your application that must be between 1 and 128.</td>
<td></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="get-a-route-mapping">Get a route mapping</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/route_mappings/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-17T01:50:05Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings/89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v2/routes/9612ecbd-36f1-4ada-927a-efae9310b3a1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/web"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/route_mappings/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-route-mappings">List route mappings</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/route_mappings"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-17T01:50:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings/89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v2/routes/9612ecbd-36f1-4ada-927a-efae9310b3a1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/web"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9f4970a8-9e6f-4984-b0a5-5e4a8af91665"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-17T01:50:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings/9f4970a8-9e6f-4984-b0a5-5e4a8af91665"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v2/routes/a32332f0-fb30-4e9e-9b78-348b8b6b98b6"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/admin-web"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all route mappings the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/route_mappings</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>app_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app guids to filter by.</td>
</tr>
<tr>
<td><strong>route_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of route guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-route-mappings-for-an-app">List route mappings for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/route_mappings"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/route_mappings?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/route_mappings?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/route_mappings?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-17T01:50:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings/89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v2/routes/9612ecbd-36f1-4ada-927a-efae9310b3a1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/web"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9f4970a8-9e6f-4984-b0a5-5e4a8af91665"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-17T01:50:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings/9f4970a8-9e6f-4984-b0a5-5e4a8af91665"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v2/routes/a32332f0-fb30-4e9e-9b78-348b8b6b98b6"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/admin-web"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve route mappings for an app.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:guid/route_mappings</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>route_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of route guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-a-route-mapping">Update a route mapping</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/route_mappings/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "weight": 55
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-17T01:50:05Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/route_mappings/89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v2/routes/9612ecbd-36f1-4ada-927a-efae9310b3a1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/processes/web"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/route_mappings/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>weight</strong></td>
<td>int</td>
<td>A relative weight for your application that must be between 1 and 128.</td>
<td></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="delete-a-route-mapping">Delete a route mapping</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/route_mappings/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/route_mappings/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="routes">Routes</h2>

<p>Routes are addresses that direct matched network traffic to one or more destinations. Each route is based on a domain name with additional matching criteria (host (subdomain), path, etc). Matched traffic will be distributed across all destinations, based on their configuration (round-robin by default).</p>

          <h3 id="the-route-object">The route object</h3>
<pre class="highlight plaintext"><code>Example Route object
</code></pre>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_path"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname.a-domain.com/some_path"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"destinations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31/destinations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the route.</td>
</tr>
<tr>
<td><strong>host</strong></td>
<td><em>string</em></td>
<td>The hostname for the route.<br>Must be under 63 character long and only contain letters, numbers, dashes (-) or underscores(_).</td>
</tr>
<tr>
<td><strong>path</strong></td>
<td><em>string</em></td>
<td>The path for the route.<br>Must be under 128 character long and not contain question marks (?), begin with a slash (/) and not be exactly a slash (/). Must conform to path components from <a href="https://tools.ietf.org/html/rfc2396">RFC 2396</a>.</td>
</tr>
<tr>
<td><strong>url</strong></td>
<td><em>string</em></td>
<td>The URL for the route. Combination of host, domain name, and path.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>space</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to the space containing the route. Routes can only be mapped to destinations in that space.</td>
</tr>
<tr>
<td><strong>domain</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to the domain of the route.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the route.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the route.</td>
</tr>
</tbody></table>

          <h3 id="the-destination-object">The destination object</h3>
<pre class="highlight plaintext"><code>Example Destination object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the destination.</td>
</tr>
<tr>
<td><strong>app.guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the app to which the route is mapped.</td>
</tr>
<tr>
<td><strong>app.process.type</strong></td>
<td><em>string</em></td>
<td>Process type. A unique identifier for processes belonging to an app.</td>
</tr>
<tr>
<td><strong>weight</strong> <em>(experimental)</em></td>
<td><em>integer</em></td>
<td>Percentage of traffic which will be routed to this destination. <em>This feature is only available via the BETA Service Mesh routing plane</em>.</td>
</tr>
</tbody></table>

          <h3 id="create-a-route">Create a route</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/routes"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "host": "a-hostname",
    "path": "/some_path",
    "relationships": {
      "domain": {
        "data": { "guid": "domain-guid" }
      },
      "space": {
        "data": { "guid": "space-guid" }
      }
    },
    "metadata": {
      "labels": { "key": "value" },
      "annotations": { "note": "detailed information"}
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_path"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname.a-domain.com/some_path"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"destinations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31/destinations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/routes</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>relationships.space</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to the space containing the route. Routes can only be mapped to destinations in that space.</td>
</tr>
<tr>
<td><strong>relationships.domain</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to the domain of the route.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>host</strong></td>
<td><em>string</em></td>
<td>The host component for the route.</td>
</tr>
<tr>
<td><strong>path</strong></td>
<td><em>string</em></td>
<td>The path component for the route. Should begin with a <code class="prettyprint">/</code>.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the route.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the route.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="get-a-route">Get a route</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/routes/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_path"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname.a-domain.com/some_path"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"destinations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31/destinations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/routes/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
<tr>
<td>Space Manager</td>
<td></td>
</tr>
<tr>
<td>Space Auditor</td>
<td></td>
</tr>
<tr>
<td>Org Auditor</td>
<td></td>
</tr>
<tr>
<td>Org Manager</td>
<td></td>
</tr>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Admin Read-Only</td>
<td></td>
</tr>
<tr>
<td>Global Auditor</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="list-routes">List routes</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/routes"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes?page=1&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_path"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname.a-domain.com/some_path"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"destinations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31/destinations"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all routes the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/routes</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>hosts</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of hostnames to filter by.</td>
</tr>
<tr>
<td><strong>paths</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of paths to filter by (e.g. <code class="prettyprint">/path1,/path2</code>).</td>
</tr>
<tr>
<td><strong>domain_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of domain guids to filter by.</td>
</tr>
<tr>
<td><strong>space_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space guids to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="list-routes-for-an-app">List routes for an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/routes"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/routes?page=1&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/routes?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/routes?page=2&amp;per_page=2"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_path"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname.a-domain.com/some_path"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
          </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"destinations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31/destinations"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all routes the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:app_guid/routes</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>hosts</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of hostnames to filter by.</td>
</tr>
<tr>
<td><strong>paths</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of paths to filter by (e.g. <code class="prettyprint">/path1,/path2</code>).</td>
</tr>
<tr>
<td><strong>domain_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of domain guids to filter by.</td>
</tr>
<tr>
<td><strong>space_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space guids to filter by.</td>
</tr>
<tr>
<td><strong>organization_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of organization guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
<tr>
<td><strong>label_selector</strong></td>
<td><em>string</em></td>
<td><strong>Experimental</strong> - A query string containing a list of <a href="#labels-and-selectors">label selector</a> requirements.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-a-route">Update a route</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/routes/[guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "metadata": {
      "labels": {"key": "value"},
      "annotations": {"note": "detailed information"}
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_path"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-hostname.a-domain.com/some_path"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-10T17:17:48Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"annotations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detailed information"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/885a8cb3-c07b-4856-b448-eeb10bf36236"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/domains/0b5f3633-194c-42d2-9408-972366617e0e"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"destinations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31/destinations"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/routes/:guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels"><em>label object</em></a></td>
<td>Labels applied to the route.</td>
<td></td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations"><em>annotation object</em></a></td>
<td>Annotations applied to the route.</td>
<td></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="delete-a-route">Delete a route</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/routes/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/routes/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
<tr>
<td>Admin</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="check-reserved-routes-for-a-domain">Check reserved routes for a domain</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/domains/[guid]/route_reservations"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nt">"matching_route"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Check if a specific route for a domain exists, regardless of the user&rsquo;s visibility for the route in case the route
belongs to a space the user does not belong to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/domains/:guid/route_reservations</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>host</strong></td>
<td><em>string</em></td>
<td>Hostname to filter by. Defaults to empty string if not provided.</td>
</tr>
<tr>
<td><strong>path</strong></td>
<td><em>string</em></td>
<td>Path to filter by. Defaults to empty string if not provided.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Admin Read-Only</td>
<td></td>
</tr>
<tr>
<td>Global Auditor</td>
<td></td>
</tr>
<tr>
<td>Org Auditor</td>
<td></td>
</tr>
<tr>
<td>Org Billing Manager</td>
<td>Can only check if routes exist for a domain without an organization relationship.</td>
</tr>
<tr>
<td>Org Manager</td>
<td></td>
</tr>
<tr>
<td>Space Auditor</td>
<td></td>
</tr>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
<tr>
<td>Space Manager</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="list-destinations-for-a-route">List destinations for a route</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/routes/[guid]/destinations"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"destinations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fbef10a2-8ee7-11e9-aa2d-abeeaf7b83c5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01856e12-8ee8-11e9-98a5-bb397dbc818f"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31/destinations"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieve all destinations associated with a route.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/routes/:guid/destinations</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin Read-Only</td>
<td></td>
</tr>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Global Auditor</td>
<td></td>
</tr>
<tr>
<td>Org Auditor</td>
<td></td>
</tr>
<tr>
<td>Org Manager</td>
<td></td>
</tr>
<tr>
<td>Space Auditor</td>
<td></td>
</tr>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
<tr>
<td>Space Manager</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="insert-destinations-for-a-route">Insert destinations for a route</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/routes/[guid]/destinations"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
  -d <span class="s1">'{
    "destinations": [
      { "app": { "guid": "1cb006ee-fb05-47e1-b541-c34179ddc446" } },
      {
        "app": {
          "guid": "01856e12-8ee8-11e9-98a5-bb397dbc818f",
          "process": {
            "type": "api"
          }
        }
      }
    ]
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"destinations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fbef10a2-8ee7-11e9-aa2d-abeeaf7b83c5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01856e12-8ee8-11e9-98a5-bb397dbc818f"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31/destinations"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Adds destinations to a route.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/routes/:guid/destinations</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="replace-all-destinations-for-a-route">Replace all destinations for a route</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/routes/[guid]/destinations"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
  -d <span class="s1">'{
    "destinations": [
      {
        "app": {
          "guid": "1cb006ee-fb05-47e1-b541-c34179ddc446"
        },
        "weight": 61
      },
      {
        "app": {
          "guid": "01856e12-8ee8-11e9-98a5-bb397dbc818f",
          "process": {
            "type": "api"
          }
        },
        "weight": 39
      }
    ]
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"destinations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89323d4e-2e84-43e7-83e9-adbf50a20c0e"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">61</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fbef10a2-8ee7-11e9-aa2d-abeeaf7b83c5"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01856e12-8ee8-11e9-98a5-bb397dbc818f"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"process"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31/destinations"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"route"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/routes/cbad697f-cac1-48f4-9017-ac08f39dfb31"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Replaces destinations in a route.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/routes/:guid/destinations</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="remove-destination-for-a-route">Remove destination for a route</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/routes/[guid]/destinations/[destination_guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>Remove a destination from a route.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/routes/:guid/destinations/:destination_guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
<tr>
<td>Admin</td>
<td></td>
</tr>
</tbody></table>

          <h3 id="delete-unmapped-routes-for-a-space">Delete unmapped routes for a space</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/spaces/[guid]/routes?unmapped=true"</span> <span class="se">\</span>
  -X DELETE<span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>
</code></pre>

<p>Deletes all routes in a space that are not mapped to any applications and not bound to any service instances.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/spaces/:space_guid/routes?unmapped=true</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th>Role</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
<td></td>
</tr>
<tr>
<td>Space Developer</td>
<td></td>
</tr>
</tbody></table>

<p><strong>Note</strong>: <code class="prettyprint">unmapped=true</code> is a required query parameter; always include it.</p>

          <h2 id="service-bindings">Service Bindings</h2>

<p>Service bindings are relations between a service instance and an app; to use a service instance with an app, you must first bind them together.</p>

<p>Not all services support binding, as some services deliver value to users directly without integration with an application.</p>

          <h3 id="the-service-binding-object">The service binding object</h3>
<pre class="highlight plaintext"><code>Example Service Binding object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"super-secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"syslog_drain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"syslog://drain.url.example.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"volume_mounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_bindings/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"service_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_instances/8bfe4c1b-9e18-45b1-83be-124163f31f9e"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/74f7c078-0934-470f-9883-4fddss5b8f13"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td>Service binding type. Valid value is <code class="prettyprint">app</code>.</td>
</tr>
<tr>
<td><strong>data</strong></td>
<td><em>object</em></td>
<td>Data returned from the service broker for the service instance. Valid values are <code class="prettyprint">credentials</code>, <code class="prettyprint">syslog_drain_url</code> and (experimental) <code class="prettyprint">volume_mounts</code>.</td>
</tr>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the service binding.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
</tbody></table>

          <h3 id="create-a-service-binding">Create a service binding</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_bindings"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "type": "app",
    "relationships": {
      "app": {
        "data": {
          "guid": "74f7c078-0934-470f-9883-4fddss5b8f13"
        }
      },
      "service_instance": {
        "data": {
          "guid": "8bfe4c1b-9e18-45b1-83be-124163f31f9e"
        }
      }
    },
    "data": {
      "parameters": {
        "some_object_id": "for_the_service_broker"
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"super-secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"syslog_drain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"syslog://drain.url.example.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"volume_mounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_bindings/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"service_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_instances/8bfe4c1b-9e18-45b1-83be-124163f31f9e"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/74f7c078-0934-470f-9883-4fddss5b8f13"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/service_bindings</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td>Service binding type. Valid value is <code class="prettyprint">app</code>.</td>
</tr>
<tr>
<td><strong>relationships.app</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to an app.</td>
</tr>
<tr>
<td><strong>relationships.service_instance</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>A relationship to a service_instance.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>data.parameters</strong></td>
<td><em>object</em></td>
<td>Additional configuration parameters for the service binding.</td>
<td><code class="prettyprint">{}</code></td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="get-a-service-binding">Get a service binding</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_bindings/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"super-secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"syslog_drain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"syslog://drain.url.example.org"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"volume_mounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_bindings/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"service_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_instances/8bfe4c1b-9e18-45b1-83be-124163f31f9e"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/74f7c078-0934-470f-9883-4fddss5b8f13"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/service_bindings/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-service-bindings">List service bindings</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_bindings"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_bindings?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_bindings?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_bindings?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"redacted_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"syslog_drain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"syslog://drain.url.example.org"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"volume_mounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_bindings/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"service_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_instances/8bfe4c1b-9e18-45b1-83be-124163f31f9e"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/74f7c078-0934-470f-9883-4fddss5b8f13"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7aa37bad-6ccb-4ef9-ba48-9ce3a91b2b62"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"redacted_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[PRIVATE DATA HIDDEN IN LISTS]"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"syslog_drain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"syslog://drain.url.example.org"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"volume_mounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_bindings/7aa37bad-6ccb-4ef9-ba48-9ce3a91b2b62"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"service_instance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_instances/8bf356j3-9e18-45b1-3333-124163f31f9e"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/74f7c078-0934-470f-9883-4fddss5b8f13"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint retrieves the service bindings the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/service_bindings</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>app_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of app guids to filter by.</td>
</tr>
<tr>
<td><strong>service_instance_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of service_instance guids to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>All Roles</td>
</tr>
</tbody></table>

          <h3 id="delete-a-service-binding">Delete a service binding</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_bindings/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/service_bindings/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="service-brokers">Service Brokers</h2>

<p>Service brokers manage the lifecycle of services. On behalf of users, Cloud Controller will interact with service brokers to provision, get access to and manage access to the services and plans they offer.</p>

          <h3 id="the-service_broker-object">The service_broker object</h3>
<pre class="highlight plaintext"><code>Example Service Broker object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_service_broker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.service-broker.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_brokers/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the service broker.</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the service broker.</td>
</tr>
<tr>
<td><strong>url</strong></td>
<td><em>string</em></td>
<td>URL of the service broker.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
<tr>
<td><strong>links</strong></td>
<td><a href="#links"><em>links object</em></a></td>
<td>Links to related resources.</td>
</tr>
</tbody></table>

          <h3 id="get-a-service-broker">Get a service broker</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_brokers/[guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_service_broker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.service-broker.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_brokers/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint retrieves the service broker by GUID.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/service_brokers/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="list-service-brokers">List service brokers</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_brokers"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_brokers?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_brokers?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_brokers?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_service_broker"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.service-broker.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">,</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_brokers/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7aa37bad-6ccb-4ef9-ba48-9ce3a91b2b62"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"another_service_broker"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://another-example.service-broker.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_brokers/7aa37bad-6ccb-4ef9-ba48-9ce3a91b2b62"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint retrieves the service brokers the user has access to.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/service_brokers</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>names</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of service broker names to filter by.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>space_guids</strong></td>
<td><em>list of strings</em></td>
<td>Comma-delimited list of space GUIDs to filter by.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>, <code class="prettyprint">name</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="create-a-service-broker">Create a service broker</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/service_brokers"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "my_service_broker",
    "url": "https://example.service-broker.com",
    "credentials": {
      "type": "basic",
      "data": {
        "username": "us3rn4me",
        "password": "p4ssw0rd"
      }
    },
    "relationships": {
      "space": {
        "data": {
          "guid": "2f35885d-0c9d-4423-83ad-fd05066f8576"
        }
      }
    }
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_service_broker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.service-broker.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-13T17:02:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T16:41:26Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/service_brokers/dde5ad2a-d8f4-44dc-a56f-0452d744f1c3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"space"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/spaces/2f35885d-0c9d-4423-83ad-fd05066f8576"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint creates a new service broker.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/service_brokers</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Name of the service broker.</td>
</tr>
<tr>
<td><strong>url</strong></td>
<td><em>string</em></td>
<td>URL of the service broker.</td>
</tr>
<tr>
<td><strong>credentials</strong></td>
<td><a href="#the-credentials-object"><em>credentials</em></a></td>
<td>Credentials used to authenticate against the service broker.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead><tbody>
<tr>
<td><strong>space</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>If set, restricts broker visibility to the specified space.</td>
<td><code class="prettyprint">null</code></td>
</tr>
</tbody></table>

<h4 id="the-credentials-object">The credentials object</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><em>string</em></td>
<td>Type of the authentication mechanisms that can be used. Valid value is <code class="prettyprint">basic</code>.</td>
</tr>
<tr>
<td><strong>data</strong></td>
<td><em>object</em></td>
<td>Data is used to hold the actual credentials depending on the authentication mechanism.</td>
</tr>
</tbody></table>
<pre class="highlight plaintext"><code>Example basic credentials
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"basic"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"secretpassw0rd"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h5 id="basic-credentials-data">Basic credentials data</h5>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>username</strong></td>
<td><em>string</em></td>
<td>The username with which to authenticate against the service broker.</td>
</tr>
<tr>
<td><strong>password</strong></td>
<td><em>string</em></td>
<td>The password with which to authenticate against the service broker.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Admin</td>
</tr>
</tbody></table>

          <h2 id="sidecars">Sidecars</h2>

<p>Sidecars are additional operating system processes that are run in the same container as a <a href="#processes">process</a>.</p>

<h4 id="use-cases-for-sidecars">Use cases for sidecars</h4>

<p>Sidecars are useful for any app processes that need to communicate with another within the same container or are otherwise dependent on each other. Some use cases are:</p>

<ul>
<li>Two or more processes that require access to a shared file</li>
<li>An Application Performance Monitoring (APM) tool that attaches to a dependent app&rsquo;s processes</li>
<li>Two or more processes that communicate via a local socket</li>
</ul>

<h4 id="steps-to-create-a-sidecar">Steps to create a sidecar</h4>

<p>The recommended way to create sidecars for your app is with an <a href="#app-manifest">App Manifest</a>.</p>
<pre class="highlight yaml"><code> <span class="s">sidecars</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">authenticator</span>
    <span class="s">process_types</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">web'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">worker'</span> <span class="pi">]</span>
    <span class="s">command</span><span class="pi">:</span> <span class="s">bundle exec run-authenticator</span>
  <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">performance monitor</span>
      <span class="s">process_types</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">web'</span> <span class="pi">]</span>
      <span class="s">command</span><span class="pi">:</span> <span class="s">bundle exec run-performance-monitor</span>
      <span class="s">memory</span><span class="pi">:</span> <span class="s">128M</span>
</code></pre>

<ul>
<li><strong>name</strong> is a user defined identifier (unique per app)</li>
<li><strong>process_types</strong> is a list of app processes the sidecar will attach to. You can attach multiple sidecars to each process type your app uses</li>
<li><strong>command</strong> is the command used to start the sidecar</li>
<li><strong>memory</strong> is the memory reserved for the sidecar<sup>[1]</sup></li>
</ul>

<p><sup>1 Applies for Java apps.  If you do not reserve memory for the sidecar, the JVM will consume all of the memory in the app container.  This value must be less thatn the process&rsquo; reserved memory.</sup></p>

<h4 id="current-limitations">Current Limitations</h4>

<ul>
<li>Start and stop order of app processes and their sidecars is undefined</li>
<li>App processes and Sidecar processes are codependent: if either crashes or exits, the other will as well </li>
<li>Sidecars are currently not independently scalable (memory / disk) and share resources with the main app process and other sidecars within that container</li>
<li>Sidecars only support PID based health checks; HTTP health-checks for sidecars are not currently supported</li>
<li>This has only been tested on Linux based systems</li>
</ul>

          <h3 id="the-sidecar-object">The sidecar object</h3>
<pre class="highlight plaintext"><code>Example Sidecar object
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth-sidecar"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"web"</span><span class="p">,</span><span class="w"> </span><span class="s2">"worker"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>guid</strong></td>
<td><em>uuid</em></td>
<td>Unique identifier for the sidecar.</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Human-readable name for the sidecar.</td>
</tr>
<tr>
<td><strong>command</strong></td>
<td><em>string</em></td>
<td>The command used to start the sidecar.</td>
</tr>
<tr>
<td><strong>process_types</strong></td>
<td><em>array of strings</em></td>
<td>A list of process types the sidecar applies to.</td>
</tr>
<tr>
<td><strong>memory_in_mb</strong></td>
<td><em>integer</em></td>
<td>Reserved memory for sidecar.</td>
</tr>
<tr>
<td><strong>relationships.app</strong></td>
<td><a href="#to-one-relationships"><em>to-one relationship</em></a></td>
<td>The app the sidecare is associated with.</td>
</tr>
<tr>
<td><strong>created_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was created.</td>
</tr>
<tr>
<td><strong>updated_at</strong></td>
<td><em>datetime</em></td>
<td>The time with zone when the object was last updated.</td>
</tr>
</tbody></table>

          <h3 id="create-a-sidecar-associated-with-an-app">Create a sidecar associated with an app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/1cb006ee-fb05-47e1-b541-c34179ddc446/sidecars"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "auth-sidecar",
    "command": "bundle exec rackup",
    "process_types": ["web", "worker"],
    "memory_in_mb": 300
  }'</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth-sidecar"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"web"</span><span class="p">,</span><span class="w"> </span><span class="s2">"worker"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/apps/:app_guid/sidecars</code></p>

<h4 id="required-parameters">Required Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Human-readable name for the sidecar.</td>
</tr>
<tr>
<td><strong>command</strong></td>
<td><em>string</em></td>
<td>The command used to start the sidecar.</td>
</tr>
<tr>
<td><strong>process_types</strong></td>
<td><em>array of strings</em></td>
<td>A list of process types the sidecar applies to.</td>
</tr>
</tbody></table>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>memory_in_mb</strong></td>
<td><em>integer</em></td>
<td>Reserved memory for sidecar.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="get-a-sidecar">Get a sidecar</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/sidecars/[sidecar_guid]"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth-sidecar"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"web"</span><span class="p">,</span><span class="w"> </span><span class="s2">"worker"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/sidecars/:sidecar_guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="update-a-sidecar">Update a sidecar</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/sidecars/[sidecar-guid]"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "name": "auth-sidecar",
    "command": "bundle exec rackup",
    "process_types": ["web", "worker"],
    "memory_in_mb": 300
  }'</span>

</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth-sidecar"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"web"</span><span class="p">,</span><span class="w"> </span><span class="s2">"worker"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
  </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">PATCH /v3/revisions/:sidecar-guid</code></p>

<h4 id="optional-parameters">Optional Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><em>string</em></td>
<td>Human-readable name for the sidecar.</td>
</tr>
<tr>
<td><strong>command</strong></td>
<td><em>string</em></td>
<td>The command used to start the sidecar.</td>
</tr>
<tr>
<td><strong>process_types</strong></td>
<td><em>array of strings</em></td>
<td>A list of process types the sidecar applies to.</td>
</tr>
<tr>
<td><strong>memory_in_mb</strong></td>
<td><em>integer</em></td>
<td>Reserved memory for sidecar.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h3 id="list-sidecars-for-app">List sidecars for app</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/apps/[guid]/sidecars </span><span class="se">\</span><span class="s2">
  -X GET </span><span class="se">\</span><span class="s2">
  -H "</span>Authorization: bearer <span class="o">[</span>token]<span class="s2">"
</span></code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/c7bd571f-dc48-406e-a503-3d871d659551/sidecars?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/c7bd571f-dc48-406e-a503-3d871d659551/sidecars?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/apps/c7bd571f-dc48-406e-a503-3d871d659551/sidecars?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth-sidecar"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"web"</span><span class="p">,</span><span class="w"> </span><span class="s2">"worker"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41921"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"echo-sidecar"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start-echo-server"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"web"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:59Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:59Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieves all sidecars associated with a app.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/apps/:app_guid/sidecars</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="list-sidecars-for-process">List sidecars for process</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/processes/[guid]/sidecars </span><span class="se">\</span><span class="s2">
  -X GET </span><span class="se">\</span><span class="s2">
  -H "</span>Authorization: bearer <span class="o">[</span>token]<span class="s2">"
</span></code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"total_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/sidecars?page=1&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/sidecars?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.org/v3/processes/ccc25a0f-c8f4-4b39-9f1b-de9f328d0ee5/sidecars?page=2&amp;per_page=2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41920"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth-sidecar"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bundle exec rackup"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"web"</span><span class="p">,</span><span class="w"> </span><span class="s2">"worker"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:58Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885735b5-aea4-4cf5-8e44-961af0e41921"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"echo-sidecar"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start-echo-server"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"process_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"web"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"memory_in_mb"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
      </span><span class="nt">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb006ee-fb05-47e1-b541-c34179ddc446"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:59Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-01T01:33:59Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Retrieves all sidecars associated with a process.</p>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">GET /v3/processes/:process_guid/sidecars</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>page</strong></td>
<td><em>integer</em></td>
<td>Page to display. Valid values are integers &gt;= 1.</td>
</tr>
<tr>
<td><strong>per_page</strong></td>
<td><em>integer</em></td>
<td>Number of results per page. <br>Valid values are 1 through 5000.</td>
</tr>
<tr>
<td><strong>order_by</strong></td>
<td><em>string</em></td>
<td>Value to sort by. Defaults to ascending. Prepend with <code class="prettyprint">-</code> to sort descending. <br>Valid values are <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code>.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Admin Read-Only</td>
</tr>
<tr>
<td>Global Auditor</td>
</tr>
<tr>
<td>Org Manager</td>
</tr>
<tr>
<td>Space Auditor</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
<tr>
<td>Space Manager</td>
</tr>
</tbody></table>

          <h3 id="delete-a-sidecar">Delete a sidecar</h3>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/sidecars/[guid]"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span>
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">DELETE /v3/sidecars/:guid</code></p>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

          <h2 id="space-manifest">Space Manifest</h2>

          <p>The space manifest is a method for applying bulk configurations to apps and their underlying processes.</p>

<h3 id="the-space-manifest-specification">The space manifest specification</h3>
<pre class="highlight plaintext"><code>Example Manifest
</code></pre>
<pre class="highlight yaml"><code><span class="nn">---</span>
<span class="s">applications</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">app1</span>
  <span class="s">buildpacks</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">ruby_buildpack</span>
  <span class="pi">-</span> <span class="s">java_buildpack</span>
  <span class="s">env</span><span class="pi">:</span>
    <span class="s">VAR1</span><span class="pi">:</span> <span class="s">value1</span>
    <span class="s">VAR2</span><span class="pi">:</span> <span class="s">value2</span>
  <span class="s">routes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">route</span><span class="pi">:</span> <span class="s">route.example.com</span>
  <span class="pi">-</span> <span class="s">route</span><span class="pi">:</span> <span class="s">another-route.example.com</span>
  <span class="s">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">my-service1</span>
  <span class="pi">-</span> <span class="s">my-service2</span>
  <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">my-service-with-arbitrary-params</span>
    <span class="s">parameters</span><span class="pi">:</span>
      <span class="s">key1</span><span class="pi">:</span> <span class="s">value1</span>
      <span class="s">key2</span><span class="pi">:</span> <span class="s">value2</span>
  <span class="s">stack</span><span class="pi">:</span> <span class="s">cflinuxfs3</span>
  <span class="s">metadata</span><span class="pi">:</span>
    <span class="s">annotations</span><span class="pi">:</span>
      <span class="s">contact</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bob@example.com</span><span class="nv"> </span><span class="s">jane@example.com"</span>
    <span class="s">labels</span><span class="pi">:</span>
      <span class="s">sensitive</span><span class="pi">:</span> <span class="s">true</span>
  <span class="s">processes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">type</span><span class="pi">:</span> <span class="s">web</span>
    <span class="s">command</span><span class="pi">:</span> <span class="s">start-web.sh</span>
    <span class="s">disk_quota</span><span class="pi">:</span> <span class="s">512M</span>
    <span class="s">health-check-http-endpoint</span><span class="pi">:</span> <span class="s">/healthcheck</span>
    <span class="s">health-check-type</span><span class="pi">:</span> <span class="s">http</span>
    <span class="s">health-check-invocation-timeout</span><span class="pi">:</span> <span class="s">10</span>
    <span class="s">instances</span><span class="pi">:</span> <span class="s">3</span>
    <span class="s">memory</span><span class="pi">:</span> <span class="s">500M</span>
    <span class="s">timeout</span><span class="pi">:</span> <span class="s">10</span>
  <span class="pi">-</span> <span class="s">type</span><span class="pi">:</span> <span class="s">worker</span>
    <span class="s">command</span><span class="pi">:</span> <span class="s">start-worker.sh</span>
    <span class="s">disk_quota</span><span class="pi">:</span> <span class="s">1G</span>
    <span class="s">health-check-type</span><span class="pi">:</span> <span class="s">process</span>
    <span class="s">instances</span><span class="pi">:</span> <span class="s">2</span>
    <span class="s">memory</span><span class="pi">:</span> <span class="s">256M</span>
    <span class="s">timeout</span><span class="pi">:</span> <span class="s">15</span>
<span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">app2</span>
  <span class="s">env</span><span class="pi">:</span>
    <span class="s">VAR1</span><span class="pi">:</span> <span class="s">value1</span>
  <span class="s">processes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">type</span><span class="pi">:</span> <span class="s">web</span>
    <span class="s">instances</span><span class="pi">:</span> <span class="s">1</span>
    <span class="s">memory</span><span class="pi">:</span> <span class="s">256M</span>
  <span class="s">sidecars</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">authenticator</span>
    <span class="s">process_types</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">web'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">worker'</span> <span class="pi">]</span>
    <span class="s">command</span><span class="pi">:</span> <span class="s">bundle exec run-authenticator</span>
    <span class="s">memory</span><span class="pi">:</span> <span class="s">800M</span>

  <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">upcaser</span>
    <span class="s">process_types</span><span class="pi">:</span> <span class="pi">[</span> <span class="s1">'</span><span class="s">worker'</span> <span class="pi">]</span>
    <span class="s">command</span><span class="pi">:</span> <span class="s">./tr-server</span>
    <span class="s">memory</span><span class="pi">:</span> <span class="s">2G</span>
</code></pre>

<h4 id="space-level-configuration">Space-level configuration</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>applications</strong></td>
<td>An array of App configurations</td>
</tr>
</tbody></table>

<h4 id="app-level-configuration">App-level configuration</h4>

<p>This configuration is specified at the top-level and applies to all of the app&rsquo;s processes.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>buildpacks</strong></td>
<td>Must be an Array. <br>a) An empty array, which will automatically select the appropriate default buildpack according to the coding language. <br>b) An array of one or more URLs pointing to buildpacks. <br>c) An array of one or more installed buildpack names. <br>Replaces the legacy <code class="prettyprint">buildpack</code> field.</td>
</tr>
<tr>
<td><strong>docker</strong></td>
<td>If present, the created app will have lifecycle type docker. The value of this key is ignored by the API but may be used by clients to source the registry address of the image and credentials, if needed. The <a href="#generate-an-app-manifest">generate manifest endpoint</a> will return the registry address of the image and username provided with this key.</td>
</tr>
<tr>
<td><strong>env</strong></td>
<td>A key-value hash of environment variables to be used for the app when running.</td>
</tr>
<tr>
<td><strong>no-route</strong></td>
<td>Boolean value. Removes the app&rsquo;s routes if <code class="prettyprint">true</code>; ignored if <code class="prettyprint">false</code>. Cannot be used in conjunction with the <code class="prettyprint">routes</code> attribute when set to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td><strong>processes</strong></td>
<td>List of configurations for individual process types. See <a href="#space-manifest-process-level-configuration"><em>Process-level configuration</em></a>.</td>
</tr>
<tr>
<td><strong>random-route</strong></td>
<td>Boolean value. Creates a random route for the app if <code class="prettyprint">true</code>; ignored if <code class="prettyprint">false</code>, if <code class="prettyprint">routes</code> is specified, if the app already has routes, or if <code class="prettyprint">no-route</code> is specified.</td>
</tr>
<tr>
<td><strong>routes</strong></td>
<td>An array of route hashes declaring HTTP and TCP routes to be mapped to the app. Each route is created if it does not already exist. Example route hash entry: <code class="prettyprint">- route: www.example.com/path</code></td>
</tr>
<tr>
<td><strong>services</strong></td>
<td>An array of service-instances to bind to the app. See <a href="#space-manifest-service-level-configuration"><em>Service-level configuration</em></a>.</td>
</tr>
<tr>
<td><strong>sidecars</strong></td>
<td>An array of configurations for individual sidecars. See <a href="#space-manifest-sidecar-level-configuration"><em>Sidecar-level configuration</em></a>.</td>
</tr>
<tr>
<td><strong>stack</strong></td>
<td>The root filesystem to use with the buildpack, for example <code class="prettyprint">cflinuxfs3</code>.</td>
</tr>
<tr>
<td><strong>metadata.labels</strong> <em>(experimental)</em></td>
<td><a href="#labels">Labels</a> applied to the app.</td>
</tr>
<tr>
<td><strong>metadata.annotations</strong> <em>(experimental)</em></td>
<td><a href="#annotations">Annotations</a> applied to the app.</td>
</tr>
<tr>
<td><strong>buildpack</strong></td>
<td><strong>DEPRECATED in favor of the <code class="prettyprint">buildpacks</code> field above.</strong> <br> a) Blank OR <code class="prettyprint">default</code> OR <code class="prettyprint">null</code> will automatically select the appropriate default buildpack according to the coding language. <br>b) A URL pointing to a buildpack. <br>c) Name of an installed buildpack.</td>
</tr>
</tbody></table>

<h4 id="process-level-configuration"><a name="space-manifest-process-level-configuration"></a> Process-level configuration</h4>

<p>This configuration is for the individual process. Each process is created if it does not already exist.</p>

<blockquote>
<p><strong>Note:</strong> With the exception of &ldquo;type&rdquo;, process-level fields can also be provided at the top-level and will apply to the &ldquo;web&rdquo; process only. <br/><br/> If there is a process with &ldquo;type: web&rdquo; defined in the processes section, then all top level process configuration will be ignored.</p>
</blockquote>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td><strong>(Required)</strong> Process type. The identifier for the processes to be configured.</td>
</tr>
<tr>
<td><strong>command</strong></td>
<td>The command used to start the process. This overrides start commands from <a href="#procfiles">Procfiles</a> and buildpacks.</td>
</tr>
<tr>
<td><strong>disk_quota</strong></td>
<td>The disk limit for all instances of the web process. <br>This attribute requires a unit of measurement: <code class="prettyprint">B</code>, <code class="prettyprint">K</code>, <code class="prettyprint">KB</code>, <code class="prettyprint">M</code>, <code class="prettyprint">MB</code>, <code class="prettyprint">G</code>, <code class="prettyprint">GB</code>, <code class="prettyprint">T</code>, or <code class="prettyprint">TB</code> in upper case or lower case.</td>
</tr>
<tr>
<td><strong>health-check-http-endpoint</strong></td>
<td>Endpoint called to determine if the app is healthy.</td>
</tr>
<tr>
<td><strong>health-check-invocation-timeout</strong></td>
<td>The timeout in seconds for individual health check requests for http and port health checks.</td>
</tr>
<tr>
<td><strong>health-check-type</strong></td>
<td>Type of health check to perform. <code class="prettyprint">none</code> is deprecated and an alias to <code class="prettyprint">process</code>.</td>
</tr>
<tr>
<td><strong>instances</strong></td>
<td>The number of instances to run.</td>
</tr>
<tr>
<td><strong>memory</strong></td>
<td>The memory limit for all instances of the web process. <br>This attribute requires a unit of measurement: <code class="prettyprint">B</code>, <code class="prettyprint">K</code>, <code class="prettyprint">KB</code>, <code class="prettyprint">M</code>, <code class="prettyprint">MB</code>, <code class="prettyprint">G</code>, <code class="prettyprint">GB</code>, <code class="prettyprint">T</code>, or <code class="prettyprint">TB</code> in upper case or lower case.</td>
</tr>
<tr>
<td><strong>timeout</strong></td>
<td>Time in seconds at which the health-check will report failure.</td>
</tr>
</tbody></table>

<h4 id="service-level-configuration"><a name="space-manifest-service-level-configuration"></a> Service-level configuration</h4>

<p>This configuration is <em>creating</em> new service bindings between the app and a service instance. The <code class="prettyprint">services</code> field can
take either an array of service instance name strings or an array of the following service-level fields.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><strong>(Required)</strong> Service instance name.  The name of the service instance to be bound to.</td>
</tr>
<tr>
<td><strong>parameters</strong></td>
<td>A map of arbitrary key/value pairs to send to the service broker during binding.</td>
</tr>
</tbody></table>

<h4 id="sidecar-level-configuration"><a name="space-manifest-sidecar-level-configuration"></a> Sidecar-level configuration</h4>

<p>This configuration is for the individual sidecar.  Each sidecar is created if it does not already exist.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td><strong>(Required)</strong> Sidecar name.  The identifier for the sidecars to be configured.</td>
</tr>
<tr>
<td><strong>command</strong></td>
<td>The command used to start the sidecar.</td>
</tr>
<tr>
<td><strong>process_types</strong></td>
<td>List of processes to associate sidecar with.</td>
</tr>
<tr>
<td><strong>memory</strong></td>
<td>Memory in mb that the sidecar will be allocated.</td>
</tr>
</tbody></table>

          <h3 id="apply-a-space-manifest">Apply a space manifest</h3>

<blockquote>
<p><strong>Note:</strong> Apply manifest will only trigger an immediate update for the &ldquo;disk_quota&rdquo;, &ldquo;instances&rdquo;, and &ldquo;memory&rdquo; properties. All other properties will update on app restart.</p>
</blockquote>

<p>Apply changes specified in a manifest to the named apps and their underlying processes. These changes are additive and will not modify any unspecified properties or remove any existing environment variables, routes, or services.</p>
<pre class="highlight plaintext"><code>Example Request
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.example.org/v3/spaces/[guid]/actions/apply_manifest"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: bearer [token]"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/x-yaml"</span> <span class="se">\</span>
  --data-binary @/path/to/manifest.yml
</code></pre>
<pre class="highlight plaintext"><code>Example Response
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://api.example.org/v3/jobs/[guid]</span>
</code></pre>

<h4 id="definition">Definition</h4>

<p><code class="prettyprint">POST /v3/spaces/:guid/actions/apply_manifest</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>no_route</strong></td>
<td><em>boolean</em></td>
<td>Unmaps all existing routes and blocks route creation for apps in the manifest.</td>
</tr>
</tbody></table>

<h4 id="permitted-roles">Permitted Roles</h4>

<table><thead>
<tr>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Admin</td>
</tr>
<tr>
<td>Space Developer</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">curl</a>
          </div>
      </div>
    </div>
  </body>
</html>
