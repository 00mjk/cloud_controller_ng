## Filters

Endpoints which return lists of resources also support filtering the returned resources using query parameters.
The available filter parameters are described in a resource's "list" endpoint in the section "Query parameters".

#### Examples

##### **Single value request**
`GET /v3/apps?names=the_name`

This will return all apps with name `the_name`.

##### **Multiple value request**
`GET /v3/apps?names=first_name,second_name`

This will return all apps with name `the_name` OR `second_name`.

###### **Exception**
The `label_selector` query parameter will act as AND function, not an OR.

`GET /v3/spaces?label_selector=production,east_coast`

This will return all spaces whose metadata has labels with keys `production` AND `east_coast`.

##### **Combined filters**
`GET /v3/apps?names=the_name&stacks=cflinuxfs3`

This will return all apps with name `the_name` AND stack `cflinuxfs3`.

##### **Empty filters**

An empty filter (`/v3/resources?fields=`) can mean either empty string (`""`) or `NULL`, depending on the resource type.

`GET /v3/buildpacks?stacks=`

This will return all buildpacks with stack `NULL`.

`GET /v3/routes?hosts=hostname1,,hostname2`

This will return all routes with hostname `"hostname1"`, `""` OR `"hostname2"`.

#### Relational Operators (Experimental)

##### Filtering on Equality

Fields can be filtered using equality when listing resources. Currently, only the `created_at` field
is supported.

For example, a response to `/v3/audit_events?created_at=2020-06-29T12:34:56-07:00` will contain
audit events with a `created_at` timestamp equal to `2020-06-29T13:56:40`, PDT.  Most databases
store timestamps with sub-second accuracy. When filtering on equality, the response will include
_all_ resources within the second specified. For example, in the above query, any audit event
occurring as early as `12:34:56.00` will be returned as well as any audit event occurring as late as
`12:34:56.999999`.

Timestamps must be in ISO 8601 format.

##### Filtering on Inequality

Fields can be filtered using inequality when listing resources. Currently, only the `created_at`
field is supported.

For example, a response to `/v3/audit_events?created_at[lt]=2020-06-29T13:56:40-07:00` will contain
audit events with a `created_at` timestamp strictly earlier than `2020-06-29T13:56:40`, PDT.

Timestamps must be in ISO 8601 format.

##### Valid inequality operators

**Operator** | **Description**
-------------|-----------------
**lt**       | Return resources strictly less than the given value for the filtered attribute
**lte**      | Return resources less than or equal to the given value for the filtered attribute
**gt**       | Return resources strictly greater than the given value for the filtered attribute
**gte**      | Return resources greater than or equal to the given value for the filtered attribute

##### Resources with inequalities

The following resources can filter using inequality operators:

- **[audit_events](#list-audit-events)**
